/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
/**
 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
 *
 * @version 1.0.3
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */
function FastClick(t,e){"use strict";function i(t,e){return function(){return t.apply(e,arguments)}}var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,!FastClick.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,s=0,o=r.length;o>s;s++)a[r[s]]=i(a[r[s]],a);deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,i.hijacked||i,n):r.call(t,e,i,n)},t.addEventListener=function(e,i,n){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):r.call(t,e,i,n)}),"function"==typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}}!function(t,e){function i(t){var e=ft[t]={};return Z.each(t.split(et),function(t,i){e[i]=!0}),e}function n(t,i,n){if(n===e&&1===t.nodeType){var r="data-"+i.replace(mt,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:gt.test(n)?Z.parseJSON(n):n}catch(a){}Z.data(t,i,n)}else n=e}return n}function r(t){var e;for(e in t)if(("data"!==e||!Z.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function a(){return!1}function s(){return!0}function o(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function l(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t,e,i){if(e=e||0,Z.isFunction(e))return Z.grep(t,function(t,n){var r=!!e.call(t,n,t);return r===i});if(e.nodeType)return Z.grep(t,function(t,n){return t===e===i});if("string"==typeof e){var n=Z.grep(t,function(t){return 1===t.nodeType});if(Lt.test(e))return Z.filter(e,n,!i);e=Z.filter(e,n)}return Z.grep(t,function(t,n){return Z.inArray(t,e)>=0===i})}function c(t){var e=Rt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function h(t,e){return t.getElementsByTagName(e)[0]||t.appendChild(t.ownerDocument.createElement(e))}function d(t,e){if(1===e.nodeType&&Z.hasData(t)){var i,n,r,a=Z._data(t),s=Z._data(e,a),o=a.events;if(o){delete s.handle,s.events={};for(i in o)for(n=0,r=o[i].length;r>n;n++)Z.event.add(e,i,o[i][n])}s.data&&(s.data=Z.extend({},s.data))}}function p(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),Z.support.html5Clone&&t.innerHTML&&!Z.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Xt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text),e.removeAttribute(Z.expando))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function g(t){Xt.test(t.type)&&(t.defaultChecked=t.checked)}function m(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,r=ve.length;r--;)if(e=ve[r]+i,e in t)return e;return n}function v(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)}function y(t,e){for(var i,n,r=[],a=0,s=t.length;s>a;a++)i=t[a],i.style&&(r[a]=Z._data(i,"olddisplay"),e?(r[a]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&v(i)&&(r[a]=Z._data(i,"olddisplay",w(i.nodeName)))):(n=ie(i,"display"),r[a]||"none"===n||Z._data(i,"olddisplay",n)));for(a=0;s>a;a++)i=t[a],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function b(t,e,i){var n=ce.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function _(t,e,i,n){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=Z.css(t,i+me[r],!0)),n?("content"===i&&(a-=parseFloat(ie(t,"padding"+me[r]))||0),"margin"!==i&&(a-=parseFloat(ie(t,"border"+me[r]+"Width"))||0)):(a+=parseFloat(ie(t,"padding"+me[r]))||0,"padding"!==i&&(a+=parseFloat(ie(t,"border"+me[r]+"Width"))||0));return a}function x(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,r=!0,a=Z.support.boxSizing&&"border-box"===Z.css(t,"boxSizing");if(0>=n||null==n){if(n=ie(t,e),(0>n||null==n)&&(n=t.style[e]),he.test(n))return n;r=a&&(Z.support.boxSizingReliable||n===t.style[e]),n=parseFloat(n)||0}return n+_(t,e,i||(a?"border":"content"),r)+"px"}function w(t){if(pe[t])return pe[t];var e=Z("<"+t+">").appendTo(j.body),i=e.css("display");return e.remove(),("none"===i||""===i)&&(ne=j.body.appendChild(ne||Z.extend(j.createElement("iframe"),{frameBorder:0,width:0,height:0})),re&&ne.createElement||(re=(ne.contentWindow||ne.contentDocument).document,re.write("<!doctype html><html><body>"),re.close()),e=re.body.appendChild(re.createElement(t)),i=ie(e,"display"),j.body.removeChild(ne)),pe[t]=i,i}function C(t,e,i,n){var r;if(Z.isArray(e))Z.each(e,function(e,r){i||_e.test(t)?n(t,r):C(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Z.type(e))n(t,e);else for(r in e)C(t+"["+r+"]",e[r],i,n)}function S(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r,a,s=e.toLowerCase().split(et),o=0,l=s.length;if(Z.isFunction(i))for(;l>o;o++)n=s[o],a=/^\+/.test(n),a&&(n=n.substr(1)||"*"),r=t[n]=t[n]||[],r[a?"unshift":"push"](i)}}function k(t,i,n,r,a,s){a=a||i.dataTypes[0],s=s||{},s[a]=!0;for(var o,l=t[a],u=0,c=l?l.length:0,h=t===Le;c>u&&(h||!o);u++)o=l[u](i,n,r),"string"==typeof o&&(!h||s[o]?o=e:(i.dataTypes.unshift(o),o=k(t,i,n,r,o,s)));return!h&&o||s["*"]||(o=k(t,i,n,r,"*",s)),o}function I(t,i){var n,r,a=Z.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((a[n]?t:r||(r={}))[n]=i[n]);r&&Z.extend(!0,t,r)}function T(t,i,n){var r,a,s,o,l=t.contents,u=t.dataTypes,c=t.responseFields;for(a in c)a in n&&(i[c[a]]=n[a]);for(;"*"===u[0];)u.shift(),r===e&&(r=t.mimeType||i.getResponseHeader("content-type"));if(r)for(a in l)if(l[a]&&l[a].test(r)){u.unshift(a);break}if(u[0]in n)s=u[0];else{for(a in n){if(!u[0]||t.converters[a+" "+u[0]]){s=a;break}o||(o=a)}s=s||o}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function D(t,e){var i,n,r,a,s=t.dataTypes.slice(),o=s[0],l={},u=0;if(t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s[1])for(i in t.converters)l[i.toLowerCase()]=t.converters[i];for(;r=s[++u];)if("*"!==r){if("*"!==o&&o!==r){if(i=l[o+" "+r]||l["* "+r],!i)for(n in l)if(a=n.split(" "),a[1]===r&&(i=l[o+" "+a[0]]||l["* "+a[0]])){i===!0?i=l[n]:l[n]!==!0&&(r=a[0],s.splice(u--,0,r));break}if(i!==!0)if(i&&t["throws"])e=i(e);else try{e=i(e)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+o+" to "+r}}}o=r}return{state:"success",data:e}}function U(){try{return new t.XMLHttpRequest}catch(e){}}function M(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function $(){return setTimeout(function(){qe=e},0),qe=Z.now()}function A(t,e){Z.each(e,function(e,i){for(var n=(Qe[e]||[]).concat(Qe["*"]),r=0,a=n.length;a>r;r++)if(n[r].call(t,e,i))return})}function E(t,e,i){var n,r=0,a=Ze.length,s=Z.Deferred().always(function(){delete o.elem}),o=function(){for(var e=qe||$(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,r=1-n,a=0,o=l.tweens.length;o>a;a++)l.tweens[a].run(r);return s.notifyWith(t,[l,r,i]),1>r&&o?i:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:qe||$(),duration:i.duration,tweens:[],createTween:function(e,i,n){var r=Z.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){for(var i=0,n=e?l.tweens.length:0;n>i;i++)l.tweens[i].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),u=l.props;for(F(u,l.opts.specialEasing);a>r;r++)if(n=Ze[r].call(l,t,u,l.opts))return n;return A(l,u),Z.isFunction(l.opts.start)&&l.opts.start.call(t,l),Z.fx.timer(Z.extend(o,{anim:l,queue:l.opts.queue,elem:t})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function F(t,e){var i,n,r,a,s;for(i in t)if(n=Z.camelCase(i),r=e[n],a=t[i],Z.isArray(a)&&(r=a[1],a=t[i]=a[0]),i!==n&&(t[n]=a,delete t[i]),s=Z.cssHooks[n],s&&"expand"in s){a=s.expand(a),delete t[n];for(i in a)i in t||(t[i]=a[i],e[i]=r)}else e[n]=r}function P(t,e,i){var n,r,a,s,o,l,u,c,h,d=this,p=t.style,f={},g=[],m=t.nodeType&&v(t);i.queue||(c=Z._queueHooks(t,"fx"),null==c.unqueued&&(c.unqueued=0,h=c.empty.fire,c.empty.fire=function(){c.unqueued||h()}),c.unqueued++,d.always(function(){d.always(function(){c.unqueued--,Z.queue(t,"fx").length||c.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===Z.css(t,"display")&&"none"===Z.css(t,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==w(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",Z.support.shrinkWrapBlocks||d.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(a=e[n],Xe.exec(a)){if(delete e[n],l=l||"toggle"===a,a===(m?"hide":"show"))continue;g.push(n)}if(s=g.length){o=Z._data(t,"fxshow")||Z._data(t,"fxshow",{}),"hidden"in o&&(m=o.hidden),l&&(o.hidden=!m),m?Z(t).show():d.done(function(){Z(t).hide()}),d.done(function(){var e;Z.removeData(t,"fxshow",!0);for(e in f)Z.style(t,e,f[e])});for(n=0;s>n;n++)r=g[n],u=d.createTween(r,m?o[r]:0),f[r]=o[r]||Z.style(t,r),r in o||(o[r]=u.start,m&&(u.end=u.start,u.start="width"===r||"height"===r?1:0))}}function L(t,e,i,n,r){return new L.prototype.init(t,e,i,n,r)}function O(t,e){var i,n={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)i=me[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function N(t){return Z.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var R,B,j=t.document,z=t.location,V=t.navigator,H=t.jQuery,W=t.$,Y=Array.prototype.push,q=Array.prototype.slice,G=Array.prototype.indexOf,X=Object.prototype.toString,K=Object.prototype.hasOwnProperty,J=String.prototype.trim,Z=function(t,e){return new Z.fn.init(t,e,R)},Q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,tt=/\S/,et=/\s+/,it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,nt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^[\],:{}\s]*$/,st=/(?:^|:|,)(?:\s*\[)+/g,ot=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ut=/^-ms-/,ct=/-([\da-z])/gi,ht=function(t,e){return(e+"").toUpperCase()},dt=function(){j.addEventListener?(j.removeEventListener("DOMContentLoaded",dt,!1),Z.ready()):"complete"===j.readyState&&(j.detachEvent("onreadystatechange",dt),Z.ready())},pt={};Z.fn=Z.prototype={constructor:Z,init:function(t,i,n){var r,a,s;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:nt.exec(t),!r||!r[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(r[1])return i=i instanceof Z?i[0]:i,s=i&&i.nodeType?i.ownerDocument||i:j,t=Z.parseHTML(r[1],s,!0),rt.test(r[1])&&Z.isPlainObject(i)&&this.attr.call(t,i,!0),Z.merge(this,t);if(a=j.getElementById(r[2]),a&&a.parentNode){if(a.id!==r[2])return n.find(t);this.length=1,this[0]=a}return this.context=j,this.selector=t,this}return Z.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return q.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=Z.merge(this.constructor(),t);return n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return Z.each(this,t,e)},ready:function(t){return Z.ready.promise().done(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(q.apply(this,arguments),"slice",q.call(arguments).join(","))},map:function(t){return this.pushStack(Z.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var t,i,n,r,a,s,o=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},l=2),"object"==typeof o||Z.isFunction(o)||(o={}),u===l&&(o=this,--l);u>l;l++)if(null!=(t=arguments[l]))for(i in t)n=o[i],r=t[i],o!==r&&(c&&r&&(Z.isPlainObject(r)||(a=Z.isArray(r)))?(a?(a=!1,s=n&&Z.isArray(n)?n:[]):s=n&&Z.isPlainObject(n)?n:{},o[i]=Z.extend(c,s,r)):r!==e&&(o[i]=r));return o},Z.extend({noConflict:function(e){return t.$===Z&&(t.$=W),e&&t.jQuery===Z&&(t.jQuery=H),Z},isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){if(t===!0?!--Z.readyWait:!Z.isReady){if(!j.body)return setTimeout(Z.ready,1);Z.isReady=!0,t!==!0&&--Z.readyWait>0||(B.resolveWith(j,[Z]),Z.fn.trigger&&Z(j).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray||function(t){return"array"===Z.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):pt[X.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==Z.type(t)||t.nodeType||Z.isWindow(t))return!1;try{if(t.constructor&&!K.call(t,"constructor")&&!K.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||K.call(t,n)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){var n;return t&&"string"==typeof t?("boolean"==typeof e&&(i=e,e=0),e=e||j,(n=rt.exec(t))?[e.createElement(n[1])]:(n=Z.buildFragment([t],e,i?null:[]),Z.merge([],(n.cacheable?Z.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(e){return e&&"string"==typeof e?(e=Z.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):at.test(e.replace(ot,"@").replace(lt,"]").replace(st,""))?new Function("return "+e)():void Z.error("Invalid JSON: "+e)):null},parseXML:function(i){var n,r;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(a){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&tt.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ut,"ms-").replace(ct,ht)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,i,n){var r,a=0,s=t.length,o=s===e||Z.isFunction(t);if(n)if(o){for(r in t)if(i.apply(t[r],n)===!1)break}else for(;s>a&&i.apply(t[a++],n)!==!1;);else if(o){for(r in t)if(i.call(t[r],r,t[r])===!1)break}else for(;s>a&&i.call(t[a],a,t[a++])!==!1;);return t},trim:J&&!J.call("\ufeff\xa0")?function(t){return null==t?"":J.call(t)}:function(t){return null==t?"":(t+"").replace(it,"")},makeArray:function(t,e){var i,n=e||[];return null!=t&&(i=Z.type(t),null==t.length||"string"===i||"function"===i||"regexp"===i||Z.isWindow(t)?Y.call(n,t):Z.merge(n,t)),n},inArray:function(t,e,i){var n;if(e){if(G)return G.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,r=t.length,a=0;if("number"==typeof n)for(;n>a;a++)t[r++]=i[a];else for(;i[a]!==e;)t[r++]=i[a++];return t.length=r,t},grep:function(t,e,i){var n,r=[],a=0,s=t.length;for(i=!!i;s>a;a++)n=!!e(t[a],a),i!==n&&r.push(t[a]);return r},map:function(t,i,n){var r,a,s=[],o=0,l=t.length,u=t instanceof Z||l!==e&&"number"==typeof l&&(l>0&&t[0]&&t[l-1]||0===l||Z.isArray(t));if(u)for(;l>o;o++)r=i(t[o],o,n),null!=r&&(s[s.length]=r);else for(a in t)r=i(t[a],a,n),null!=r&&(s[s.length]=r);return s.concat.apply([],s)},guid:1,proxy:function(t,i){var n,r,a;return"string"==typeof i&&(n=t[i],i=t,t=n),Z.isFunction(t)?(r=q.call(arguments,2),a=function(){return t.apply(i,r.concat(q.call(arguments)))},a.guid=t.guid=t.guid||Z.guid++,a):e},access:function(t,i,n,r,a,s,o){var l,u=null==n,c=0,h=t.length;if(n&&"object"==typeof n){for(c in n)Z.access(t,i,c,n[c],1,s,r);a=1}else if(r!==e){if(l=o===e&&Z.isFunction(r),u&&(l?(l=i,i=function(t,e,i){return l.call(Z(t),i)}):(i.call(t,r),i=null)),i)for(;h>c;c++)i(t[c],n,l?r.call(t[c],c,i(t[c],n)):r,o);a=1}return a?t:u?i.call(t):h?i(t[0],n):s},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(e){if(!B)if(B=Z.Deferred(),"complete"===j.readyState)setTimeout(Z.ready,1);else if(j.addEventListener)j.addEventListener("DOMContentLoaded",dt,!1),t.addEventListener("load",Z.ready,!1);else{j.attachEvent("onreadystatechange",dt),t.attachEvent("onload",Z.ready);var i=!1;try{i=null==t.frameElement&&j.documentElement}catch(n){}i&&i.doScroll&&!function r(){if(!Z.isReady){try{i.doScroll("left")}catch(t){return setTimeout(r,50)}Z.ready()}}()}return B.promise(e)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){pt["[object "+e+"]"]=e.toLowerCase()}),R=Z(j);var ft={};Z.Callbacks=function(t){t="string"==typeof t?ft[t]||i(t):Z.extend({},t);var n,r,a,s,o,l,u=[],c=!t.once&&[],h=function(e){for(n=t.memory&&e,r=!0,l=s||0,s=0,o=u.length,a=!0;u&&o>l;l++)if(u[l].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}a=!1,u&&(c?c.length&&h(c.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var e=u.length;!function i(e){Z.each(e,function(e,n){var r=Z.type(n);"function"===r?t.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),a?o=u.length:n&&(s=e,h(n))}return this},remove:function(){return u&&Z.each(arguments,function(t,e){for(var i;(i=Z.inArray(e,u,i))>-1;)u.splice(i,1),a&&(o>=i&&o--,l>=i&&l--)}),this},has:function(t){return Z.inArray(t,u)>-1},empty:function(){return u=[],this},disable:function(){return u=c=n=e,this},disabled:function(){return!u},lock:function(){return c=e,n||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!u||r&&!c||(a?c.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(i){Z.each(e,function(e,n){var a=n[0],s=t[e];r[n[1]](Z.isFunction(s)?function(){var t=s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===r?i:this,[t])}:i[a])}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,n):n}},r={};return n.pipe=n.then,Z.each(e,function(t,a){var s=a[2],o=a[3];n[a[1]]=s.add,o&&s.add(function(){i=o},e[1^t][2].disable,e[2][2].lock),r[a[0]]=s.fire,r[a[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,a=q.call(arguments),s=a.length,o=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===o?t:Z.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?q.call(arguments):r,n===e?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)a[r]&&Z.isFunction(a[r].promise)?a[r].promise().done(u(r,n,a)).fail(l.reject).progress(u(r,i,e)):--o;return o||l.resolveWith(n,a),l.promise()}}),Z.support=function(){var e,i,n,r,a,s,o,l,u,c,h,d=j.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!n||!i.length)return{};r=j.createElement("select"),a=r.appendChild(j.createElement("option")),s=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===s.value,optSelected:a.selected,getSetAttribute:"t"!==d.className,enctype:!!j.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==j.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===j.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,e.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,e.optDisabled=!a.disabled;try{delete d.test}catch(p){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",h=function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",h)),s=j.createElement("input"),s.value="t",s.setAttribute("type","radio"),e.radioValue="t"===s.value,s.setAttribute("checked","checked"),s.setAttribute("name","t"),d.appendChild(s),o=j.createDocumentFragment(),o.appendChild(d.lastChild),e.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=s.checked,o.removeChild(s),o.appendChild(d),d.attachEvent)for(u in{submit:!0,change:!0,focusin:!0})l="on"+u,c=l in d,c||(d.setAttribute(l,"return;"),c="function"==typeof d[l]),e[u+"Bubbles"]=c;return Z(function(){var i,n,r,a,s="padding:0;margin:0;border:0;display:block;overflow:hidden;",o=j.getElementsByTagName("body")[0];o&&(i=j.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",o.insertBefore(i,o.firstChild),n=j.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=n.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",e.reliableHiddenOffsets=c&&0===r[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",e.boxSizing=4===n.offsetWidth,e.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(n,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(n,null)||{width:"4px"}).width,a=j.createElement("div"),a.style.cssText=n.style.cssText=s,a.style.marginRight=a.style.width="0",n.style.width="1px",n.appendChild(a),e.reliableMarginRight=!parseFloat((t.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),o.removeChild(i),i=n=r=a=null)}),o.removeChild(d),i=n=r=a=s=o=d=null,e}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?Z.cache[t[Z.expando]]:t[Z.expando],!!t&&!r(t)},data:function(t,i,n,r){if(Z.acceptData(t)){var a,s,o=Z.expando,l="string"==typeof i,u=t.nodeType,c=u?Z.cache:t,h=u?t[o]:t[o]&&o;if(h&&c[h]&&(r||c[h].data)||!l||n!==e)return h||(u?t[o]=h=Z.deletedIds.pop()||Z.guid++:h=o),c[h]||(c[h]={},u||(c[h].toJSON=Z.noop)),("object"==typeof i||"function"==typeof i)&&(r?c[h]=Z.extend(c[h],i):c[h].data=Z.extend(c[h].data,i)),a=c[h],r||(a.data||(a.data={}),a=a.data),n!==e&&(a[Z.camelCase(i)]=n),l?(s=a[i],null==s&&(s=a[Z.camelCase(i)])):s=a,s}},removeData:function(t,e,i){if(Z.acceptData(t)){var n,a,s,o=t.nodeType,l=o?Z.cache:t,u=o?t[Z.expando]:Z.expando;if(l[u]){if(e&&(n=i?l[u]:l[u].data)){Z.isArray(e)||(e in n?e=[e]:(e=Z.camelCase(e),e=e in n?[e]:e.split(" ")));for(a=0,s=e.length;s>a;a++)delete n[e[a]];if(!(i?r:Z.isEmptyObject)(n))return}(i||(delete l[u].data,r(l[u])))&&(o?Z.cleanData([t],!0):Z.support.deleteExpando||l!=l.window?delete l[u]:l[u]=null)}}},_data:function(t,e,i){return Z.data(t,e,i,!0)},acceptData:function(t){var e=t.nodeName&&Z.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),Z.fn.extend({data:function(t,i){var r,a,s,o,l,u=this[0],c=0,h=null;if(t===e){if(this.length&&(h=Z.data(u),1===u.nodeType&&!Z._data(u,"parsedAttrs"))){for(s=u.attributes,l=s.length;l>c;c++)o=s[c].name,o.indexOf("data-")||(o=Z.camelCase(o.substring(5)),n(u,o,h[o]));Z._data(u,"parsedAttrs",!0)}return h}return"object"==typeof t?this.each(function(){Z.data(this,t)}):(r=t.split(".",2),r[1]=r[1]?"."+r[1]:"",a=r[1]+"!",Z.access(this,function(i){return i===e?(h=this.triggerHandler("getData"+a,[r[0]]),h===e&&u&&(h=Z.data(u,t),h=n(u,t,h)),h===e&&r[1]?this.data(r[0]):h):(r[1]=i,void this.each(function(){var e=Z(this);e.triggerHandler("setData"+a,r),Z.data(this,t,i),e.triggerHandler("changeData"+a,r)}))},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){Z.removeData(this,t)})}}),Z.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=Z._data(t,e),i&&(!n||Z.isArray(i)?n=Z._data(t,e,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=Z.queue(t,e),n=i.length,r=i.shift(),a=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete a.stop,r.call(t,s,a)),!n&&a&&a.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Z._data(t,i)||Z._data(t,i,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(t,e+"queue",!0),Z.removeData(t,i,!0)})})}}),Z.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?Z.queue(this[0],t):i===e?this:this.each(function(){var e=Z.queue(this,t,i);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},delay:function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,r=1,a=Z.Deferred(),s=this,o=this.length,l=function(){--r||a.resolveWith(s,[s])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";o--;)n=Z._data(s[o],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(l));return l(),a.promise(i)}});var vt,yt,bt,_t=/[\t\r\n]/g,xt=/\r/g,wt=/^(?:button|input)$/i,Ct=/^(?:button|input|object|select|textarea)$/i,St=/^a(?:rea|)$/i,kt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,It=Z.support.getSetAttribute;Z.fn.extend({attr:function(t,e){return Z.access(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})},prop:function(t,e){return Z.access(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return t=Z.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,r,a,s,o;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(et),i=0,n=this.length;n>i;i++)if(r=this[i],1===r.nodeType)if(r.className||1!==e.length){for(a=" "+r.className+" ",s=0,o=e.length;o>s;s++)a.indexOf(" "+e[s]+" ")<0&&(a+=e[s]+" ");r.className=Z.trim(a)}else r.className=t;return this},removeClass:function(t){var i,n,r,a,s,o,l;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(et),o=0,l=this.length;l>o;o++)if(r=this[o],1===r.nodeType&&r.className){for(n=(" "+r.className+" ").replace(_t," "),a=0,s=i.length;s>a;a++)for(;n.indexOf(" "+i[a]+" ")>=0;)n=n.replace(" "+i[a]+" "," ");r.className=t?Z.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return Z.isFunction(t)?this.each(function(i){Z(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var r,a=0,s=Z(this),o=e,l=t.split(et);r=l[a++];)o=n?o:!s.hasClass(r),s[o?"addClass":"removeClass"](r);else("undefined"===i||"boolean"===i)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||t===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(_t," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,r,a=this[0];{if(arguments.length)return r=Z.isFunction(t),this.each(function(n){var a,s=Z(this);1===this.nodeType&&(a=r?t.call(this,n,s.val()):t,null==a?a="":"number"==typeof a?a+="":Z.isArray(a)&&(a=Z.map(a,function(t){return null==t?"":t+""})),i=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,a,"value")!==e||(this.value=a))});if(a)return i=Z.valHooks[a.type]||Z.valHooks[a.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(a,"value"))!==e?n:(n=a.value,"string"==typeof n?n.replace(xt,""):null==n?"":n)}}}),Z.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,a="select-one"===t.type||0>r,s=a?null:[],o=a?r+1:n.length,l=0>r?o:a?r:0;o>l;l++)if(i=n[l],(i.selected||l===r)&&(Z.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),a)return e;s.push(e)}return s},set:function(t,e){var i=Z.makeArray(e);return Z(t).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{},attr:function(t,i,n,r){var a,s,o,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return r&&Z.isFunction(Z.fn[i])?Z(t)[i](n):"undefined"==typeof t.getAttribute?Z.prop(t,i,n):(o=1!==l||!Z.isXMLDoc(t),o&&(i=i.toLowerCase(),s=Z.attrHooks[i]||(kt.test(i)?yt:vt)),n!==e?null===n?void Z.removeAttr(t,i):s&&"set"in s&&o&&(a=s.set(t,n,i))!==e?a:(t.setAttribute(i,n+""),n):s&&"get"in s&&o&&null!==(a=s.get(t,i))?a:(a=t.getAttribute(i),null===a?e:a))},removeAttr:function(t,e){var i,n,r,a,s=0;if(e&&1===t.nodeType)for(n=e.split(et);s<n.length;s++)r=n[s],r&&(i=Z.propFix[r]||r,a=kt.test(r),a||Z.attr(t,r,""),t.removeAttribute(It?r:i),a&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(wt.test(t.nodeName)&&t.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return vt&&Z.nodeName(t,"button")?vt.get(t,e):e in t?t.value:null},set:function(t,e,i){return vt&&Z.nodeName(t,"button")?vt.set(t,e,i):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var r,a,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return s=1!==o||!Z.isXMLDoc(t),s&&(i=Z.propFix[i]||i,a=Z.propHooks[i]),n!==e?a&&"set"in a&&(r=a.set(t,n,i))!==e?r:t[i]=n:a&&"get"in a&&null!==(r=a.get(t,i))?r:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):Ct.test(t.nodeName)||St.test(t.nodeName)&&t.href?0:e;
}}}}),yt={get:function(t,i){var n,r=Z.prop(t,i);return r===!0||"boolean"!=typeof r&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?Z.removeAttr(t,i):(n=Z.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},It||(bt={name:!0,id:!0,coords:!0},vt=Z.valHooks.button={get:function(t,i){var n;return n=t.getAttributeNode(i),n&&(bt[i]?""!==n.value:n.specified)?n.value:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=j.createAttribute(i),t.setAttributeNode(n)),n.value=e+""}},Z.each(["width","height"],function(t,e){Z.attrHooks[e]=Z.extend(Z.attrHooks[e],{set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}})}),Z.attrHooks.contenteditable={get:vt.get,set:function(t,e,i){""===e&&(e="false"),vt.set(t,e,i)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(t,i){Z.attrHooks[i]=Z.extend(Z.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),Z.support.style||(Z.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=e+""}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}})});var Tt=/^(?:textarea|input|select)$/i,Dt=/^([^\.]*|)(?:\.(.+)|)$/,Ut=/(?:^|\s)hover(\.\S+|)\b/,Mt=/^key/,$t=/^(?:mouse|contextmenu)|click/,At=/^(?:focusinfocus|focusoutblur)$/,Et=function(t){return Z.event.special.hover?t:t.replace(Ut,"mouseenter$1 mouseleave$1")};Z.event={add:function(t,i,n,r,a){var s,o,l,u,c,h,d,p,f,g,m;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(s=Z._data(t))){for(n.handler&&(f=n,n=f.handler,a=f.selector),n.guid||(n.guid=Z.guid++),l=s.events,l||(s.events=l={}),o=s.handle,o||(s.handle=o=function(t){return"undefined"==typeof Z||t&&Z.event.triggered===t.type?e:Z.event.dispatch.apply(o.elem,arguments)},o.elem=t),i=Z.trim(Et(i)).split(" "),u=0;u<i.length;u++)c=Dt.exec(i[u])||[],h=c[1],d=(c[2]||"").split(".").sort(),m=Z.event.special[h]||{},h=(a?m.delegateType:m.bindType)||h,m=Z.event.special[h]||{},p=Z.extend({type:h,origType:c[1],data:r,handler:n,guid:n.guid,selector:a,needsContext:a&&Z.expr.match.needsContext.test(a),namespace:d.join(".")},f),g=l[h],g||(g=l[h]=[],g.delegateCount=0,m.setup&&m.setup.call(t,r,d,o)!==!1||(t.addEventListener?t.addEventListener(h,o,!1):t.attachEvent&&t.attachEvent("on"+h,o))),m.add&&(m.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),a?g.splice(g.delegateCount++,0,p):g.push(p),Z.event.global[h]=!0;t=null}},global:{},remove:function(t,e,i,n,r){var a,s,o,l,u,c,h,d,p,f,g,m=Z.hasData(t)&&Z._data(t);if(m&&(d=m.events)){for(e=Z.trim(Et(e||"")).split(" "),a=0;a<e.length;a++)if(s=Dt.exec(e[a])||[],o=l=s[1],u=s[2],o){for(p=Z.event.special[o]||{},o=(n?p.delegateType:p.bindType)||o,f=d[o]||[],c=f.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<f.length;h++)g=f[h],!r&&l!==g.origType||i&&i.guid!==g.guid||u&&!u.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(f.splice(h--,1),g.selector&&f.delegateCount--,p.remove&&p.remove.call(t,g));0===f.length&&c!==f.length&&(p.teardown&&p.teardown.call(t,u,m.handle)!==!1||Z.removeEvent(t,o,m.handle),delete d[o])}else for(o in d)Z.event.remove(t,o+e[a],i,n,!0);Z.isEmptyObject(d)&&(delete m.handle,Z.removeData(t,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,a){if(!r||3!==r.nodeType&&8!==r.nodeType){var s,o,l,u,c,h,d,p,f,g,m=i.type||i,v=[];if(!At.test(m+Z.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),o=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),r&&!Z.event.customEvent[m]||Z.event.global[m]))if(i="object"==typeof i?i[Z.expando]?i:new Z.Event(m,i):new Z.Event(m),i.type=m,i.isTrigger=!0,i.exclusive=o,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=m.indexOf(":")<0?"on"+m:"",r){if(i.result=e,i.target||(i.target=r),n=null!=n?Z.makeArray(n):[],n.unshift(i),d=Z.event.special[m]||{},!d.trigger||d.trigger.apply(r,n)!==!1){if(f=[[r,d.bindType||m]],!a&&!d.noBubble&&!Z.isWindow(r)){for(g=d.delegateType||m,u=At.test(g+m)?r:r.parentNode,c=r;u;u=u.parentNode)f.push([u,g]),c=u;c===(r.ownerDocument||j)&&f.push([c.defaultView||c.parentWindow||t,g])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)u=f[l][0],i.type=f[l][1],p=(Z._data(u,"events")||{})[i.type]&&Z._data(u,"handle"),p&&p.apply(u,n),p=h&&u[h],p&&Z.acceptData(u)&&p.apply&&p.apply(u,n)===!1&&i.preventDefault();return i.type=m,a||i.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,n)!==!1||"click"===m&&Z.nodeName(r,"a")||!Z.acceptData(r)||h&&r[m]&&("focus"!==m&&"blur"!==m||0!==i.target.offsetWidth)&&!Z.isWindow(r)&&(c=r[h],c&&(r[h]=null),Z.event.triggered=m,r[m](),Z.event.triggered=e,c&&(r[h]=c)),i.result}}else{s=Z.cache;for(l in s)s[l].events&&s[l].events[m]&&Z.event.trigger(i,n,s[l].handle.elem,!0)}}},dispatch:function(i){i=Z.event.fix(i||t.event);var n,r,a,s,o,l,u,c,h,d=(Z._data(this,"events")||{})[i.type]||[],p=d.delegateCount,f=q.call(arguments),g=!i.exclusive&&!i.namespace,m=Z.event.special[i.type]||{},v=[];if(f[0]=i,i.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(a=i.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==i.type){for(o={},u=[],n=0;p>n;n++)c=d[n],h=c.selector,o[h]===e&&(o[h]=c.needsContext?Z(h,this).index(a)>=0:Z.find(h,this,null,[a]).length),o[h]&&u.push(c);u.length&&v.push({elem:a,matches:u})}for(d.length>p&&v.push({elem:this,matches:d.slice(p)}),n=0;n<v.length&&!i.isPropagationStopped();n++)for(l=v[n],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)c=l.matches[r],(g||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,s=((Z.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f),s!==e&&(i.result=s,s===!1&&(i.preventDefault(),i.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,r,a,s=i.button,o=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||j,r=n.documentElement,a=n.body,t.pageX=i.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=i.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),!t.relatedTarget&&o&&(t.relatedTarget=o===t.target?i.toElement:o),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,i,n=t,r=Z.event.fixHooks[t.type]||{},a=r.props?this.props.concat(r.props):this.props;for(t=Z.Event(n),e=a.length;e;)i=a[--e],t[i]=n[i];return t.target||(t.target=n.srcElement||j),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,n):t},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){Z.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var r=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=j.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&("undefined"==typeof t[n]&&(t[n]=null),t.detachEvent(n,i))},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?s:a):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=s;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=s;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,a=t.handleObj;a.selector;return(!r||r!==n&&!Z.contains(n,r))&&(t.type=a.origType,i=a.handler.apply(this,arguments),t.type=e),i}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:void Z.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=Z.nodeName(i,"input")||Z.nodeName(i,"button")?i.form:e;n&&!Z._data(n,"_submit_attached")&&(Z.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),Z._data(n,"_submit_attached",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&Z.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:void Z.event.remove(this,"._submit")}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Tt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,t,!0)})),!1):void Z.event.add(this,"beforeactivate._change",function(t){var e=t.target;Tt.test(e.nodeName)&&!Z._data(e,"_change_attached")&&(Z.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||Z.event.simulate("change",this.parentNode,t,!0)}),Z._data(e,"_change_attached",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Tt.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){0===i++&&j.addEventListener(t,n,!0)},teardown:function(){0===--i&&j.removeEventListener(t,n,!0)}}}),Z.fn.extend({on:function(t,i,n,r,s){var o,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],s);return this}if(null==n&&null==r?(r=i,n=i=e):null==r&&("string"==typeof i?(r=n,n=e):(r=n,n=i,i=e)),r===!1)r=a;else if(!r)return this;return 1===s&&(o=r,r=function(t){return Z().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,r,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var r,s;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Z(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(s in t)this.off(s,i,t[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=a),this.each(function(){Z.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return Z(this.context).on(t,this.selector,e,i),this},die:function(t,e){return Z(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?Z.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,i=t.guid||Z.guid++,n=0,r=function(i){var r=(Z._data(this,"lastToggle"+t.guid)||0)%n;return Z._data(this,"lastToggle"+t.guid,r+1),i.preventDefault(),e[r].apply(this,arguments)||!1};for(r.guid=i;n<e.length;)e[n++].guid=i;return this.click(r)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},Mt.test(e)&&(Z.event.fixHooks[e]=Z.event.keyHooks),$t.test(e)&&(Z.event.fixHooks[e]=Z.event.mouseHooks)}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(t,e){function i(t,e,i,n){i=i||[],e=e||$;var r,a,s,o,l=e.nodeType;if(!t||"string"!=typeof t)return i;if(1!==l&&9!==l)return[];if(s=x(e),!s&&!n&&(r=it.exec(t)))if(o=r[1]){if(9===l){if(a=e.getElementById(o),!a||!a.parentNode)return i;if(a.id===o)return i.push(a),i}else if(e.ownerDocument&&(a=e.ownerDocument.getElementById(o))&&w(e,a)&&a.id===o)return i.push(a),i}else{if(r[2])return L.apply(i,O.call(e.getElementsByTagName(t),0)),i;if((o=r[3])&&dt&&e.getElementsByClassName)return L.apply(i,O.call(e.getElementsByClassName(o),0)),i}return g(t.replace(J,"$1"),e,i,n,s)}function n(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function r(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function a(t){return R(function(e){return e=+e,R(function(i,n){for(var r,a=t([],i.length,e),s=a.length;s--;)i[r=a[s]]&&(i[r]=!(n[r]=i[r]))})})}function s(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}function o(t,e){var n,r,a,s,o,l,u,c=z[U][t+" "];if(c)return e?0:c.slice(0);for(o=t,l=[],u=b.preFilter;o;){(!n||(r=Q.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),l.push(a=[])),n=!1,(r=tt.exec(o))&&(a.push(n=new M(r.shift())),o=o.slice(n.length),n.type=r[0].replace(J," "));for(s in b.filter)!(r=ot[s].exec(o))||u[s]&&!(r=u[s](r))||(a.push(n=new M(r.shift())),o=o.slice(n.length),n.type=s,n.matches=r);if(!n)break}return e?o.length:o?i.error(t):z(t,l).slice(0)}function l(t,e,i){var n=e.dir,r=i&&"parentNode"===e.dir,a=F++;return e.first?function(e,i,a){for(;e=e[n];)if(r||1===e.nodeType)return t(e,i,a)}:function(e,i,s){if(s){for(;e=e[n];)if((r||1===e.nodeType)&&t(e,i,s))return e}else for(var o,l=E+" "+a+" ",u=l+v;e=e[n];)if(r||1===e.nodeType){if((o=e[U])===u)return e.sizset;if("string"==typeof o&&0===o.indexOf(l)){if(e.sizset)return e}else{if(e[U]=u,t(e,i,s))return e.sizset=!0,e;e.sizset=!1}}}}function u(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function c(t,e,i,n,r){for(var a,s=[],o=0,l=t.length,u=null!=e;l>o;o++)(a=t[o])&&(!i||i(a,n,r))&&(s.push(a),u&&e.push(o));return s}function h(t,e,i,n,r,a){return n&&!n[U]&&(n=h(n)),r&&!r[U]&&(r=h(r,a)),R(function(a,s,o,l){var u,h,d,p=[],g=[],m=s.length,v=a||f(e||"*",o.nodeType?[o]:o,[]),y=!t||!a&&e?v:c(v,p,t,o,l),b=i?r||(a?t:m||n)?[]:s:y;if(i&&i(y,b,o,l),n)for(u=c(b,g),n(u,[],o,l),h=u.length;h--;)(d=u[h])&&(b[g[h]]=!(y[g[h]]=d));if(a){if(r||t){if(r){for(u=[],h=b.length;h--;)(d=b[h])&&u.push(y[h]=d);r(null,b=[],u,l)}for(h=b.length;h--;)(d=b[h])&&(u=r?N.call(a,d):p[h])>-1&&(a[u]=!(s[u]=d))}}else b=c(b===s?b.splice(m,b.length):b),r?r(null,s,b,l):L.apply(s,b)})}function d(t){for(var e,i,n,r=t.length,a=b.relative[t[0].type],s=a||b.relative[" "],o=a?1:0,c=l(function(t){return t===e},s,!0),p=l(function(t){return N.call(e,t)>-1},s,!0),f=[function(t,i,n){return!a&&(n||i!==I)||((e=i).nodeType?c(t,i,n):p(t,i,n))}];r>o;o++)if(i=b.relative[t[o].type])f=[l(u(f),i)];else{if(i=b.filter[t[o].type].apply(null,t[o].matches),i[U]){for(n=++o;r>n&&!b.relative[t[n].type];n++);return h(o>1&&u(f),o>1&&t.slice(0,o-1).join("").replace(J,"$1"),i,n>o&&d(t.slice(o,n)),r>n&&d(t=t.slice(n)),r>n&&t.join(""))}f.push(i)}return u(f)}function p(t,e){var n=e.length>0,r=t.length>0,a=function(s,o,l,u,h){var d,p,f,g=[],m=0,y="0",_=s&&[],x=null!=h,w=I,C=s||r&&b.find.TAG("*",h&&o.parentNode||o),S=E+=null==w?1:Math.E;for(x&&(I=o!==$&&o,v=a.el);null!=(d=C[y]);y++){if(r&&d){for(p=0;f=t[p];p++)if(f(d,o,l)){u.push(d);break}x&&(E=S,v=++a.el)}n&&((d=!f&&d)&&m--,s&&_.push(d))}if(m+=y,n&&y!==m){for(p=0;f=e[p];p++)f(_,g,o,l);if(s){if(m>0)for(;y--;)_[y]||g[y]||(g[y]=P.call(u));g=c(g)}L.apply(u,g),x&&!s&&g.length>0&&m+e.length>1&&i.uniqueSort(u)}return x&&(E=S,I=w),_};return a.el=0,n?R(a):a}function f(t,e,n){for(var r=0,a=e.length;a>r;r++)i(t,e[r],n);return n}function g(t,e,i,n,r){var a,s,l,u,c,h=o(t);h.length;if(!n&&1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(l=s[0]).type&&9===e.nodeType&&!r&&b.relative[s[1].type]){if(e=b.find.ID(l.matches[0].replace(st,""),e,r)[0],!e)return i;t=t.slice(s.shift().length)}for(a=ot.POS.test(t)?-1:s.length-1;a>=0&&(l=s[a],!b.relative[u=l.type]);a--)if((c=b.find[u])&&(n=c(l.matches[0].replace(st,""),nt.test(s[0].type)&&e.parentNode||e,r))){if(s.splice(a,1),t=n.length&&s.join(""),!t)return L.apply(i,O.call(n,0)),i;break}}return C(t,h)(n,e,r,i,nt.test(t)),i}function m(){}var v,y,b,_,x,w,C,S,k,I,T=!0,D="undefined",U=("sizcache"+Math.random()).replace(".",""),M=String,$=t.document,A=$.documentElement,E=0,F=0,P=[].pop,L=[].push,O=[].slice,N=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},R=function(t,e){return t[U]=null==e||e,t},B=function(){var t={},e=[];return R(function(i,n){return e.push(i)>b.cacheLength&&delete t[e.shift()],t[i+" "]=n},t)},j=B(),z=B(),V=B(),H="[\\x20\\t\\r\\n\\f]",W="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",Y=W.replace("w","w#"),q="([*^$|!~]?=)",G="\\["+H+"*("+W+")"+H+"*(?:"+q+H+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Y+")|)|)"+H+"*\\]",X=":("+W+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+G+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)",J=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),Q=new RegExp("^"+H+"*,"+H+"*"),tt=new RegExp("^"+H+"*([\\x20\\t\\r\\n\\f>+~])"+H+"*"),et=new RegExp(X),it=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,nt=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,at=/input|select|textarea|button/i,st=/\\(?!\\)/g,ot={ID:new RegExp("^#("+W+")"),CLASS:new RegExp("^\\.("+W+")"),NAME:new RegExp("^\\[name=['\"]?("+W+")['\"]?\\]"),TAG:new RegExp("^("+W.replace("w","w*")+")"),ATTR:new RegExp("^"+G),PSEUDO:new RegExp("^"+X),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),needsContext:new RegExp("^"+H+"*[>+~]|"+K,"i")},lt=function(t){var e=$.createElement("div");try{return t(e)}catch(i){return!1}finally{e=null}},ut=lt(function(t){return t.appendChild($.createComment("")),!t.getElementsByTagName("*").length}),ct=lt(function(t){return t.innerHTML="<a href='#'></a>",t.firstChild&&typeof t.firstChild.getAttribute!==D&&"#"===t.firstChild.getAttribute("href")}),ht=lt(function(t){t.innerHTML="<select></select>";var e=typeof t.lastChild.getAttribute("multiple");return"boolean"!==e&&"string"!==e}),dt=lt(function(t){return t.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",t.getElementsByClassName&&t.getElementsByClassName("e").length?(t.lastChild.className="e",2===t.getElementsByClassName("e").length):!1}),pt=lt(function(t){t.id=U+0,t.innerHTML="<a name='"+U+"'></a><div name='"+U+"'></div>",A.insertBefore(t,A.firstChild);var e=$.getElementsByName&&$.getElementsByName(U).length===2+$.getElementsByName(U+0).length;return y=!$.getElementById(U),A.removeChild(t),e});try{O.call(A.childNodes,0)[0].nodeType}catch(ft){O=function(t){for(var e,i=[];e=this[t];t++)i.push(e);return i}}i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){return i(e,null,null,[t]).length>0},_=i.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=_(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n];n++)i+=_(e);return i},x=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},w=i.contains=A.contains?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:A.compareDocumentPosition?function(t,e){return e&&!!(16&t.compareDocumentPosition(e))}:function(t,e){for(;e=e.parentNode;)if(e===t)return!0;return!1},i.attr=function(t,e){var i,n=x(t);return n||(e=e.toLowerCase()),(i=b.attrHandle[e])?i(t):n||ht?t.getAttribute(e):(i=t.getAttributeNode(e),i?"boolean"==typeof t[e]?t[e]?e:null:i.specified?i.value:null:null)},b=i.selectors={cacheLength:50,createPseudo:R,match:ot,attrHandle:ct?{}:{href:function(t){return t.getAttribute("href",2)},type:function(t){return t.getAttribute("type")}},find:{ID:y?function(t,e,i){if(typeof e.getElementById!==D&&!i){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}}:function(t,i,n){if(typeof i.getElementById!==D&&!n){var r=i.getElementById(t);return r?r.id===t||typeof r.getAttributeNode!==D&&r.getAttributeNode("id").value===t?[r]:e:[]}},TAG:ut?function(t,e){return typeof e.getElementsByTagName!==D?e.getElementsByTagName(t):void 0}:function(t,e){var i=e.getElementsByTagName(t);if("*"===t){for(var n,r=[],a=0;n=i[a];a++)1===n.nodeType&&r.push(n);return r}return i},NAME:pt&&function(t,e){return typeof e.getElementsByName!==D?e.getElementsByName(name):void 0},CLASS:dt&&function(t,e,i){return typeof e.getElementsByClassName===D||i?void 0:e.getElementsByClassName(t)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(st,""),t[3]=(t[4]||t[5]||"").replace(st,""),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1]?(t[2]||i.error(t[0]),t[3]=+(t[3]?t[4]+(t[5]||1):2*("even"===t[2]||"odd"===t[2])),t[4]=+(t[6]+t[7]||"odd"===t[2])):t[2]&&i.error(t[0]),t},PSEUDO:function(t){var e,i;return ot.CHILD.test(t[0])?null:(t[3]?t[2]=t[3]:(e=t[4])&&(et.test(e)&&(i=o(e,!0))&&(i=e.indexOf(")",e.length-i)-e.length)&&(e=e.slice(0,i),t[0]=t[0].slice(0,i)),t[2]=e),t.slice(0,3))}},filter:{ID:y?function(t){return t=t.replace(st,""),function(e){return e.getAttribute("id")===t}}:function(t){return t=t.replace(st,""),function(e){var i=typeof e.getAttributeNode!==D&&e.getAttributeNode("id");return i&&i.value===t}},TAG:function(t){return"*"===t?function(){return!0}:(t=t.replace(st,"").toLowerCase(),function(e){return e.nodeName&&e.nodeName.toLowerCase()===t})},CLASS:function(t){var e=j[U][t+" "];return e||(e=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&j(t,function(t){return e.test(t.className||typeof t.getAttribute!==D&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r,a){var s=i.attr(r,t);return null==s?"!="===e:e?(s+="","="===e?s===n:"!="===e?s!==n:"^="===e?n&&0===s.indexOf(n):"*="===e?n&&s.indexOf(n)>-1:"$="===e?n&&s.substr(s.length-n.length)===n:"~="===e?(" "+s+" ").indexOf(n)>-1:"|="===e?s===n||s.substr(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n){return"nth"===t?function(t){var e,r,a=t.parentNode;if(1===i&&0===n)return!0;if(a)for(r=0,e=a.firstChild;e&&(1!==e.nodeType||(r++,t!==e));e=e.nextSibling);return r-=n,r===i||r%i===0&&r/i>=0}:function(e){var i=e;switch(t){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===t)return!0;i=e;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(t,e){var n,r=b.pseudos[t]||b.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return r[U]?r(e):r.length>1?(n=[t,t,"",e],b.setFilters.hasOwnProperty(t.toLowerCase())?R(function(t,i){for(var n,a=r(t,e),s=a.length;s--;)n=N.call(t,a[s]),t[n]=!(i[n]=a[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:R(function(t){var e=[],i=[],n=C(t.replace(J,"$1"));return n[U]?R(function(t,e,i,r){for(var a,s=n(t,null,r,[]),o=t.length;o--;)(a=s[o])&&(t[o]=!(e[o]=a))}):function(t,r,a){return e[0]=t,n(e,null,a,i),!i.pop()}}),has:R(function(t){return function(e){return i(t,e).length>0}}),contains:R(function(t){return function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!b.pseudos.empty(t)},empty:function(t){var e;for(t=t.firstChild;t;){if(t.nodeName>"@"||3===(e=t.nodeType)||4===e)return!1;t=t.nextSibling}return!0},header:function(t){return rt.test(t.nodeName)},text:function(t){var e,i;return"input"===t.nodeName.toLowerCase()&&"text"===(e=t.type)&&(null==(i=t.getAttribute("type"))||i.toLowerCase()===e)},radio:n("radio"),checkbox:n("checkbox"),file:n("file"),password:n("password"),image:n("image"),submit:r("submit"),reset:r("reset"),button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return at.test(t.nodeName)},focus:function(t){var e=t.ownerDocument;return t===e.activeElement&&(!e.hasFocus||e.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},active:function(t){return t===t.ownerDocument.activeElement},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,i){return[0>i?i+e:i]}),even:a(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:a(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:a(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:a(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},S=A.compareDocumentPosition?function(t,e){return t===e?(k=!0,0):(t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e):t.compareDocumentPosition)?-1:1}:function(t,e){if(t===e)return k=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,r=[],a=[],o=t.parentNode,l=e.parentNode,u=o;if(o===l)return s(t,e);if(!o)return-1;if(!l)return 1;for(;u;)r.unshift(u),u=u.parentNode;for(u=l;u;)a.unshift(u),u=u.parentNode;i=r.length,n=a.length;for(var c=0;i>c&&n>c;c++)if(r[c]!==a[c])return s(r[c],a[c]);return c===i?s(t,a[c],-1):s(r[c],e,1)},[0,0].sort(S),T=!k,i.uniqueSort=function(t){var e,i=[],n=1,r=0;if(k=T,t.sort(S),k){for(;e=t[n];n++)e===t[n-1]&&(r=i.push(n));for(;r--;)t.splice(i[r],1)}return t},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},C=i.compile=function(t,e){var i,n=[],r=[],a=V[U][t+" "];if(!a){for(e||(e=o(t)),i=e.length;i--;)a=d(e[i]),a[U]?n.push(a):r.push(a);a=V(t,p(r,n))}return a},$.querySelectorAll&&!function(){var t,e=g,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,a=[":focus"],s=[":active"],l=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector;lt(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||a.push("\\["+H+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),t.querySelectorAll(":checked").length||a.push(":checked")}),lt(function(t){t.innerHTML="<p test=''></p>",t.querySelectorAll("[test^='']").length&&a.push("[*^$]="+H+"*(?:\"\"|'')"),t.innerHTML="<input type='hidden'/>",t.querySelectorAll(":enabled").length||a.push(":enabled",":disabled")}),a=new RegExp(a.join("|")),g=function(t,i,r,s,l){if(!s&&!l&&!a.test(t)){var u,c,h=!0,d=U,p=i,f=9===i.nodeType&&t;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(u=o(t),(h=i.getAttribute("id"))?d=h.replace(n,"\\$&"):i.setAttribute("id",d),d="[id='"+d+"'] ",c=u.length;c--;)u[c]=d+u[c].join("");p=nt.test(t)&&i.parentNode||i,f=u.join(",")}if(f)try{return L.apply(r,O.call(p.querySelectorAll(f),0)),r}catch(g){}finally{h||i.removeAttribute("id")}}return e(t,i,r,s,l)},l&&(lt(function(e){t=l.call(e,"div");try{l.call(e,"[test!='']:sizzle"),s.push("!=",X)}catch(i){}}),s=new RegExp(s.join("|")),i.matchesSelector=function(e,n){if(n=n.replace(r,"='$1']"),!x(e)&&!s.test(n)&&!a.test(n))try{var o=l.call(e,n);if(o||t||e.document&&11!==e.document.nodeType)return o}catch(u){}return i(n,null,null,[e]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,i.attr=Z.attr,Z.find=i,Z.expr=i.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=i.uniqueSort,Z.text=i.getText,Z.isXMLDoc=i.isXML,Z.contains=i.contains}(t);var Ft=/Until$/,Pt=/^(?:parents|prev(?:Until|All))/,Lt=/^.[^:#\[\.,]*$/,Ot=Z.expr.match.needsContext,Nt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(t){var e,i,n,r,a,s,o=this;if("string"!=typeof t)return Z(t).filter(function(){for(e=0,i=o.length;i>e;e++)if(Z.contains(o[e],this))return!0});for(s=this.pushStack("","find",t),e=0,i=this.length;i>e;e++)if(n=s.length,Z.find(t,this[e],s),e>0)for(r=n;r<s.length;r++)for(a=0;n>a;a++)if(s[a]===s[r]){s.splice(r--,1);break}return s},has:function(t){var e,i=Z(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(Z.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(u(this,t,!1),"not",t)},filter:function(t){return this.pushStack(u(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?Ot.test(t)?Z(t,this.context).index(this[0])>=0:Z.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){for(var i,n=0,r=this.length,a=[],s=Ot.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i.ownerDocument&&i!==e&&11!==i.nodeType;){if(s?s.index(i)>-1:Z.find.matchesSelector(i,t)){a.push(i);break}i=i.parentNode}return a=a.length>1?Z.unique(a):a,this.pushStack(a,"closest",t)},index:function(t){return t?"string"==typeof t?Z.inArray(this[0],Z(t)):Z.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?Z(t,e):Z.makeArray(t&&t.nodeType?[t]:t),n=Z.merge(this.get(),i);return this.pushStack(o(i[0])||o(n[0])?n:Z.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return Z.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(i,n){var r=Z.map(this,e,i);return Ft.test(t)||(n=i),n&&"string"==typeof n&&(r=Z.filter(n,r)),r=this.length>1&&!Nt[t]?Z.unique(r):r,this.length>1&&Pt.test(t)&&(r=r.reverse()),this.pushStack(r,t,q.call(arguments).join(","))}}),Z.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?Z.find.matchesSelector(e[0],t)?[e[0]]:[]:Z.find.matches(t,e)},dir:function(t,i,n){for(var r=[],a=t[i];a&&9!==a.nodeType&&(n===e||1!==a.nodeType||!Z(a).is(n));)1===a.nodeType&&r.push(a),a=a[i];return r},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var Rt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Bt=/ jQuery\d+="(?:null|\d+)"/g,jt=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Vt=/<([\w:]+)/,Ht=/<tbody/i,Wt=/<|&#?\w+;/,Yt=/<(?:script|style|link)/i,qt=/<(?:script|object|embed|option|style)/i,Gt=new RegExp("<(?:"+Rt+")[\\s/>]","i"),Xt=/^(?:checkbox|radio)$/,Kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},te=c(j),ee=te.appendChild(j.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,Z.support.htmlSerialize||(Qt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(t){return Z.access(this,function(t){return t===e?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||j).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(Z.isFunction(t))return this.each(function(e){Z(this).wrapAll(t.call(this,e))});if(this[0]){var e=Z(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return Z.isFunction(t)?this.each(function(e){Z(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Z(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(i){Z(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(t,this.firstChild)})},before:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=Z.clean(arguments);return this.pushStack(Z.merge(t,this),"before",this.selector)}},after:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=Z.clean(arguments);return this.pushStack(Z.merge(this,t),"after",this.selector)}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)(!t||Z.filter(t,[i]).length)&&(e||1!==i.nodeType||(Z.cleanData(i.getElementsByTagName("*")),Z.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&Z.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return Z.access(this,function(t){var i=this[0]||{},n=0,r=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Bt,""):e;if("string"==typeof t&&!Yt.test(t)&&(Z.support.htmlSerialize||!Gt.test(t))&&(Z.support.leadingWhitespace||!jt.test(t))&&!Qt[(Vt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(zt,"<$1></$2>");try{for(;r>n;n++)i=this[n]||{},1===i.nodeType&&(Z.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(a){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return o(this[0])?this.length?this.pushStack(Z(Z.isFunction(t)?t():t),"replaceWith",t):this:Z.isFunction(t)?this.each(function(e){var i=Z(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=Z(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;Z(this).remove(),e?Z(e).before(t):Z(i).append(t)}))},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){t=[].concat.apply([],t);var r,a,s,o,l=0,u=t[0],c=[],d=this.length;if(!Z.support.checkClone&&d>1&&"string"==typeof u&&Kt.test(u))return this.each(function(){Z(this).domManip(t,i,n)});if(Z.isFunction(u))return this.each(function(r){var a=Z(this);t[0]=u.call(this,r,i?a.html():e),a.domManip(t,i,n)});if(this[0]){if(r=Z.buildFragment(t,this,c),s=r.fragment,a=s.firstChild,1===s.childNodes.length&&(s=a),a)for(i=i&&Z.nodeName(a,"tr"),o=r.cacheable||d-1;d>l;l++)n.call(i&&Z.nodeName(this[l],"table")?h(this[l],"tbody"):this[l],l===o?s:Z.clone(s,!0,!0));s=a=null,c.length&&Z.each(c,function(t,e){e.src?Z.ajax?Z.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Zt,"")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),Z.buildFragment=function(t,i,n){var r,a,s,o=t[0];return i=i||j,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,!(1===t.length&&"string"==typeof o&&o.length<512&&i===j&&"<"===o.charAt(0))||qt.test(o)||!Z.support.checkClone&&Kt.test(o)||!Z.support.html5Clone&&Gt.test(o)||(a=!0,r=Z.fragments[o],s=r!==e),r||(r=i.createDocumentFragment(),Z.clean(t,i,r,n),a&&(Z.fragments[o]=s&&r)),{fragment:r,cacheable:a}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(i){var n,r=0,a=[],s=Z(i),o=s.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===o)return s[e](this[0]),this;for(;o>r;r++)n=(r>0?this.clone(!0):this).get(),Z(s[r])[e](n),a=a.concat(n);return this.pushStack(a,t,s.selector)}}),Z.extend({clone:function(t,e,i){var n,r,a,s;if(Z.support.html5Clone||Z.isXMLDoc(t)||!Gt.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(ee.innerHTML=t.outerHTML,ee.removeChild(s=ee.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(p(t,s),n=f(t),r=f(s),a=0;n[a];++a)r[a]&&p(n[a],r[a]);if(e&&(d(t,s),i))for(n=f(t),r=f(s),a=0;n[a];++a)d(n[a],r[a]);return n=r=null,s},clean:function(t,e,i,n){var r,a,s,o,l,u,h,d,p,f,m,v=e===j&&te,y=[];for(e&&"undefined"!=typeof e.createDocumentFragment||(e=j),r=0;null!=(s=t[r]);r++)if("number"==typeof s&&(s+=""),s){if("string"==typeof s)if(Wt.test(s)){for(v=v||c(e),h=e.createElement("div"),v.appendChild(h),s=s.replace(zt,"<$1></$2>"),o=(Vt.exec(s)||["",""])[1].toLowerCase(),l=Qt[o]||Qt._default,u=l[0],h.innerHTML=l[1]+s+l[2];u--;)h=h.lastChild;if(!Z.support.tbody)for(d=Ht.test(s),p="table"!==o||d?"<table>"!==l[1]||d?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes,a=p.length-1;a>=0;--a)Z.nodeName(p[a],"tbody")&&!p[a].childNodes.length&&p[a].parentNode.removeChild(p[a]);!Z.support.leadingWhitespace&&jt.test(s)&&h.insertBefore(e.createTextNode(jt.exec(s)[0]),h.firstChild),s=h.childNodes,h.parentNode.removeChild(h)}else s=e.createTextNode(s);s.nodeType?y.push(s):Z.merge(y,s)}if(h&&(s=h=v=null),!Z.support.appendChecked)for(r=0;null!=(s=y[r]);r++)Z.nodeName(s,"input")?g(s):"undefined"!=typeof s.getElementsByTagName&&Z.grep(s.getElementsByTagName("input"),g);if(i)for(f=function(t){return!t.type||Jt.test(t.type)?n?n.push(t.parentNode?t.parentNode.removeChild(t):t):i.appendChild(t):void 0},r=0;null!=(s=y[r]);r++)Z.nodeName(s,"script")&&f(s)||(i.appendChild(s),"undefined"!=typeof s.getElementsByTagName&&(m=Z.grep(Z.merge([],s.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(m)),r+=m.length));return y},cleanData:function(t,e){for(var i,n,r,a,s=0,o=Z.expando,l=Z.cache,u=Z.support.deleteExpando,c=Z.event.special;null!=(r=t[s]);s++)if((e||Z.acceptData(r))&&(n=r[o],i=n&&l[n])){if(i.events)for(a in i.events)c[a]?Z.event.remove(r,a):Z.removeEvent(r,a,i.handle);l[n]&&(delete l[n],u?delete r[o]:r.removeAttribute?r.removeAttribute(o):r[o]=null,Z.deletedIds.push(n))}}}),function(){var t,e;Z.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=Z.uaMatch(V.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),Z.browser=e,Z.sub=function(){function t(e,i){return new t.fn.init(e,i)}Z.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof Z&&!(n instanceof t)&&(n=t(n)),Z.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(j);return t}}();var ie,ne,re,ae=/alpha\([^)]*\)/i,se=/opacity=([^)]*)/,oe=/^(top|right|bottom|left)$/,le=/^(none|table(?!-c[ea]).+)/,ue=/^margin/,ce=new RegExp("^("+Q+")(.*)$","i"),he=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),de=new RegExp("^([-+])=("+Q+")","i"),pe={BODY:"block"},fe={position:"absolute",visibility:"hidden",display:"block"},ge={letterSpacing:0,fontWeight:400},me=["Top","Right","Bottom","Left"],ve=["Webkit","O","Moz","ms"],ye=Z.fn.toggle;Z.fn.extend({css:function(t,i){return Z.access(this,function(t,i,n){return n!==e?Z.style(t,i,n):Z.css(t,i)},t,i,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(t,e){var i="boolean"==typeof t;return Z.isFunction(t)&&Z.isFunction(e)?ye.apply(this,arguments):this.each(function(){(i?t:v(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ie(t,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var a,s,o,l=Z.camelCase(i),u=t.style;if(i=Z.cssProps[l]||(Z.cssProps[l]=m(u,l)),o=Z.cssHooks[i]||Z.cssHooks[l],n===e)return o&&"get"in o&&(a=o.get(t,!1,r))!==e?a:u[i];if(s=typeof n,"string"===s&&(a=de.exec(n))&&(n=(a[1]+1)*a[2]+parseFloat(Z.css(t,i)),s="number"),!(null==n||"number"===s&&isNaN(n)||("number"!==s||Z.cssNumber[l]||(n+="px"),o&&"set"in o&&(n=o.set(t,n,r))===e)))try{u[i]=n}catch(c){}}},css:function(t,i,n,r){var a,s,o,l=Z.camelCase(i);return i=Z.cssProps[l]||(Z.cssProps[l]=m(t.style,l)),o=Z.cssHooks[i]||Z.cssHooks[l],o&&"get"in o&&(a=o.get(t,!0,r)),a===e&&(a=ie(t,i)),"normal"===a&&i in ge&&(a=ge[i]),n||r!==e?(s=parseFloat(a),n||Z.isNumeric(s)?s||0:a):a},swap:function(t,e,i){var n,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];n=i.call(t);for(r in e)t.style[r]=a[r];return n}}),t.getComputedStyle?ie=function(e,i){var n,r,a,s,o=t.getComputedStyle(e,null),l=e.style;return o&&(n=o.getPropertyValue(i)||o[i],""!==n||Z.contains(e.ownerDocument,e)||(n=Z.style(e,i)),he.test(n)&&ue.test(i)&&(r=l.width,a=l.minWidth,s=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=o.width,l.width=r,l.minWidth=a,l.maxWidth=s)),n}:j.documentElement.currentStyle&&(ie=function(t,e){var i,n,r=t.currentStyle&&t.currentStyle[e],a=t.style;return null==r&&a&&a[e]&&(r=a[e]),he.test(r)&&!oe.test(e)&&(i=a.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":r,r=a.pixelLeft+"px",a.left=i,n&&(t.runtimeStyle.left=n)),""===r?"auto":r}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&le.test(ie(t,"display"))?Z.swap(t,fe,function(){return x(t,e,n)}):x(t,e,n):void 0},set:function(t,i,n){return b(t,i,n?_(t,e,n,Z.support.boxSizing&&"border-box"===Z.css(t,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(t,e){return se.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=Z.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===Z.trim(a.replace(ae,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=ae.test(a)?a.replace(ae,r):a+" "+r)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(t,e){return Z.swap(t,{display:"inline-block"},function(){return e?ie(t,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(t,e){Z.cssHooks[e]={get:function(t,i){if(i){var n=ie(t,e);return he.test(n)?Z(t).position()[e]+"px":n}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(t){return 0===t.offsetWidth&&0===t.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ie(t,"display"))},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],a={};for(n=0;4>n;n++)a[t+me[n]+e]=r[n]||r[n-2]||r[0];return a}},ue.test(t)||(Z.cssHooks[t+e].set=b)});var be=/%20/g,_e=/\[\]$/,xe=/\r?\n/g,we=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Ce=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Ce.test(this.nodeName)||we.test(this.type))}).map(function(t,e){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(t,i){return{name:e.name,value:t.replace(xe,"\r\n")}}):{name:e.name,value:i.replace(xe,"\r\n")}}).get()}}),Z.param=function(t,i){var n,r=[],a=function(t,e){
e=Z.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){a(this.name,this.value)});else for(n in t)C(n,t[n],i,a);return r.join("&").replace(be,"+")};var Se,ke,Ie=/#.*$/,Te=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,De=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,Me=/^\/\//,$e=/\?/,Ae=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Ee=/([?&])_=[^&]*/,Fe=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pe=Z.fn.load,Le={},Oe={},Ne=["*/"]+["*"];try{ke=z.href}catch(Re){ke=j.createElement("a"),ke.href="",ke=ke.href}Se=Fe.exec(ke.toLowerCase())||[],Z.fn.load=function(t,i,n){if("string"!=typeof t&&Pe)return Pe.apply(this,arguments);if(!this.length)return this;var r,a,s,o=this,l=t.indexOf(" ");return l>=0&&(r=t.slice(l,t.length),t=t.slice(0,l)),Z.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(a="POST"),Z.ajax({url:t,type:a,dataType:"html",data:i,complete:function(t,e){n&&o.each(n,s||[t.responseText,e,t])}}).done(function(t){s=arguments,o.html(r?Z("<div>").append(t.replace(Ae,"")).find(r):t)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.each(["get","post"],function(t,i){Z[i]=function(t,n,r,a){return Z.isFunction(n)&&(a=a||r,r=n,n=e),Z.ajax({type:i,url:t,data:n,success:r,dataType:a})}}),Z.extend({getScript:function(t,i){return Z.get(t,e,i,"script")},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?I(t,Z.ajaxSettings):(e=t,t=Z.ajaxSettings),I(t,e),t},ajaxSettings:{url:ke,isLocal:De.test(Se[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Ne},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:S(Le),ajaxTransport:S(Oe),ajax:function(t,i){function n(t,i,n,s){var u,h,y,b,x,C=i;2!==_&&(_=2,l&&clearTimeout(l),o=e,a=s||"",w.readyState=t>0?4:0,n&&(b=T(d,w,n)),t>=200&&300>t||304===t?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Z.lastModified[r]=x),x=w.getResponseHeader("Etag"),x&&(Z.etag[r]=x)),304===t?(C="notmodified",u=!0):(u=D(d,b),C=u.state,h=u.data,y=u.error,u=!y)):(y=C,(!C||t)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(i||C)+"",u?g.resolveWith(p,[h,C,w]):g.rejectWith(p,[w,C,y]),w.statusCode(v),v=e,c&&f.trigger("ajax"+(u?"Success":"Error"),[w,d,u?h:y]),m.fireWith(p,[w,C]),c&&(f.trigger("ajaxComplete",[w,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var r,a,s,o,l,u,c,h,d=Z.ajaxSetup({},i),p=d.context||d,f=p!==d&&(p.nodeType||p instanceof Z)?Z(p):Z.event,g=Z.Deferred(),m=Z.Callbacks("once memory"),v=d.statusCode||{},y={},b={},_=0,x="canceled",w={readyState:0,setRequestHeader:function(t,e){if(!_){var i=t.toLowerCase();t=b[i]=b[i]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===_?a:null},getResponseHeader:function(t){var i;if(2===_){if(!s)for(s={};i=Te.exec(a);)s[i[1].toLowerCase()]=i[2];i=s[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return _||(d.mimeType=t),this},abort:function(t){return t=t||x,o&&o.abort(t),n(0,t),this}};if(g.promise(w),w.success=w.done,w.error=w.fail,w.complete=m.add,w.statusCode=function(t){if(t){var e;if(2>_)for(e in t)v[e]=[v[e],t[e]];else e=t[w.status],w.always(e)}return this},d.url=((t||d.url)+"").replace(Ie,"").replace(Me,Se[1]+"//"),d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().split(et),null==d.crossDomain&&(u=Fe.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===Se[1]&&u[2]===Se[2]&&(u[3]||("http:"===u[1]?80:443))==(Se[3]||("http:"===Se[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),k(Le,d,i,w),2===_)return w;if(c=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Ue.test(d.type),c&&0===Z.active++&&Z.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=($e.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var C=Z.now(),S=d.url.replace(Ee,"$1_="+C);d.url=S+(S===d.url?($e.test(d.url)?"&":"?")+"_="+C:"")}(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,Z.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&w.setRequestHeader("If-None-Match",Z.etag[r])),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ne+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)w.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===_))return w.abort();x="abort";for(h in{success:1,error:1,complete:1})w[h](d[h]);if(o=k(Oe,d,i,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{_=1,o.send(y,n)}catch(I){if(!(2>_))throw I;n(-1,I)}}else n(-1,"No Transport");return w},active:0,lastModified:{},etag:{}});var Be=[],je=/\?/,ze=/(=)\?(?=&|$)|\?\?/,Ve=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Be.pop()||Z.expando+"_"+Ve++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(i,n,r){var a,s,o,l=i.data,u=i.url,c=i.jsonp!==!1,h=c&&ze.test(u),d=c&&!h&&"string"==typeof l&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&ze.test(l);return"jsonp"===i.dataTypes[0]||h||d?(a=i.jsonpCallback=Z.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,s=t[a],h?i.url=u.replace(ze,"$1"+a):d?i.data=l.replace(ze,"$1"+a):c&&(i.url+=(je.test(u)?"&":"?")+i.jsonp+"="+a),i.converters["script json"]=function(){return o||Z.error(a+" was not called"),o[0]},i.dataTypes[0]="json",t[a]=function(){o=arguments},r.always(function(){t[a]=s,i[a]&&(i.jsonpCallback=n.jsonpCallback,Be.push(a)),o&&Z.isFunction(s)&&s(o[0]),o=s=e}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=j.head||j.getElementsByTagName("head")[0]||j.documentElement;return{send:function(r,a){i=j.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,r){(r||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,r||a(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var He,We=t.ActiveXObject?function(){for(var t in He)He[t](0,1)}:!1,Ye=0;Z.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&U()||M()}:U,function(t){Z.extend(Z.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(i){if(!i.crossDomain||Z.support.cors){var n;return{send:function(r,a){var s,o,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(o in r)l.setRequestHeader(o,r[o])}catch(u){}l.send(i.hasContent&&i.data||null),n=function(t,r){var o,u,c,h,d;try{if(n&&(r||4===l.readyState))if(n=e,s&&(l.onreadystatechange=Z.noop,We&&delete He[s]),r)4!==l.readyState&&l.abort();else{o=l.status,c=l.getAllResponseHeaders(),h={},d=l.responseXML,d&&d.documentElement&&(h.xml=d);try{h.text=l.responseText}catch(p){}try{u=l.statusText}catch(p){u=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=h.text?200:404}}catch(f){r||a(-1,f)}h&&a(o,u,h,c)},i.async?4===l.readyState?setTimeout(n,0):(s=++Ye,We&&(He||(He={},Z(t).unload(We)),He[s]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var qe,Ge,Xe=/^(?:toggle|show|hide)$/,Ke=new RegExp("^(?:([-+])=|)("+Q+")([a-z%]*)$","i"),Je=/queueHooks$/,Ze=[P],Qe={"*":[function(t,e){var i,n,r=this.createTween(t,e),a=Ke.exec(e),s=r.cur(),o=+s||0,l=1,u=20;if(a){if(i=+a[2],n=a[3]||(Z.cssNumber[t]?"":"px"),"px"!==n&&o){o=Z.css(r.elem,t,!0)||i||1;do l=l||".5",o/=l,Z.style(r.elem,t,o+n);while(l!==(l=r.cur()/s)&&1!==l&&--u)}r.unit=n,r.start=o,r.end=a[1]?o+(a[1]+1)*i:i}return r}]};Z.Animation=Z.extend(E,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],Qe[i]=Qe[i]||[],Qe[i].unshift(e)},prefilter:function(t,e){e?Ze.unshift(t):Ze.push(t)}}),Z.Tween=L,L.prototype={constructor:L,init:function(t,e,i,n,r,a){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=a||(Z.cssNumber[i]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,i=L.propHooks[this.prop];return this.options.duration?this.pos=e=Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,!1,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.each(["toggle","show","hide"],function(t,e){var i=Z.fn[e];Z.fn[e]=function(n,r,a){return null==n||"boolean"==typeof n||!t&&Z.isFunction(n)&&Z.isFunction(r)?i.apply(this,arguments):this.animate(O(e,!0),n,r,a)}}),Z.fn.extend({fadeTo:function(t,e,i,n){return this.filter(v).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Z.isEmptyObject(t),a=Z.speed(e,i,n),s=function(){var e=E(this,Z.extend({},t),a);r&&e.stop(!0)};return r||a.queue===!1?this.each(s):this.queue(a.queue,s)},stop:function(t,i,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",a=Z.timers,s=Z._data(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Je.test(i)&&r(s[i]);for(i=a.length;i--;)a[i].elem!==this||null!=t&&a[i].queue!==t||(a[i].anim.stop(n),e=!1,a.splice(i,1));(e||!n)&&Z.dequeue(this,t)})}}),Z.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Z.speed=function(t,e,i){var n=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.timers=[],Z.fx=L.prototype.init,Z.fx.tick=function(){var t,i=Z.timers,n=0;for(qe=Z.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||Z.fx.stop(),qe=e},Z.fx.timer=function(t){t()&&Z.timers.push(t)&&!Ge&&(Ge=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Ge),Ge=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length});var ti=/^(?:body|html)$/i;Z.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var i,n,r,a,s,o,l,u={top:0,left:0},c=this[0],h=c&&c.ownerDocument;if(h)return(n=h.body)===c?Z.offset.bodyOffset(c):(i=h.documentElement,Z.contains(i,c)?("undefined"!=typeof c.getBoundingClientRect&&(u=c.getBoundingClientRect()),r=N(h),a=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,o=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:u.top+o-a,left:u.left+l-s}):u)},Z.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(Z.css(t,"marginTop"))||0,i+=parseFloat(Z.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=Z.css(t,"position");"static"===n&&(t.style.position="relative");var r,a,s=Z(t),o=s.offset(),l=Z.css(t,"top"),u=Z.css(t,"left"),c=("absolute"===n||"fixed"===n)&&Z.inArray("auto",[l,u])>-1,h={},d={};c?(d=s.position(),r=d.top,a=d.left):(r=parseFloat(l)||0,a=parseFloat(u)||0),Z.isFunction(e)&&(e=e.call(t,i,o)),null!=e.top&&(h.top=e.top-o.top+r),null!=e.left&&(h.left=e.left-o.left+a),"using"in e?e.using.call(t,h):s.css(h)}},Z.fn.extend({position:function(){if(this[0]){var t=this[0],e=this.offsetParent(),i=this.offset(),n=ti.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(Z.css(t,"marginTop"))||0,i.left-=parseFloat(Z.css(t,"marginLeft"))||0,n.top+=parseFloat(Z.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(Z.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||j.body;t&&!ti.test(t.nodeName)&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||j.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);Z.fn[t]=function(r){return Z.access(this,function(t,r,a){var s=N(t);return a===e?s?i in s?s[i]:s.document.documentElement[r]:t[r]:void(s?s.scrollTo(n?Z(s).scrollLeft():a,n?a:Z(s).scrollTop()):t[r]=a)},t,r,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(t,i){Z.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,r){Z.fn[r]=function(r,a){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||a===!0?"margin":"border");return Z.access(this,function(i,n,r){var a;return Z.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(a=i.documentElement,Math.max(i.body["scroll"+t],a["scroll"+t],i.body["offset"+t],a["offset"+t],a["client"+t])):r===e?Z.css(i,n,r,o):Z.style(i,n,r,o)},i,s?r:e,s,null)}})}),t.jQuery=t.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z})}(window),function(t,e){var i=function(){var e=t._data(document,"events");return e&&e.click&&t.grep(e.click,function(t){return"rails"===t.namespace}).length};i()&&t.error("jquery-ujs has already been loaded!");var n;t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input:file",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var r=t.Event(i);return e.trigger(r,n),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,a,s,o,l,u,c,h;if(n.fire(i,"ajax:before")){if(o=i.data("cross-domain"),l=o===e?null:o,u=i.data("with-credentials")||null,c=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),a=i.attr("action"),s=i.serializeArray();var d=i.data("ujs:submit-button");d&&(s.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),a=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),a=n.href(i),s=i.data("params")||null);h={type:r||"GET",data:s,dataType:c,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},xhrFields:{withCredentials:u},crossDomain:l},a&&(h.url=a);var p=n.ajax(h);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),a=i.data("method"),s=i.attr("target"),o=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),u=t('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';l!==e&&o!==e&&(c+='<input name="'+l+'" value="'+o+'" type="hidden" />'),s&&u.attr("target",s),u.hide().append(c).appendTo("body"),u.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,i,n){var r,a,s=t(),o=i||"input,textarea",l=e.find(o);return l.each(function(){if(r=t(this),a=r.is(":checkbox,:radio")?r.is(":checked"):r.val(),!a==!n){if(r.is(":radio")&&l.filter('input:radio:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},callFormSubmitBindings:function(i,n){var r=i.data("events"),a=!0;return r!==e&&r.submit!==e&&t.each(r.submit,function(t,e){return"function"==typeof e.handler?a=e.handler(n):void 0}),a},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.data("ujs:enable-with",!1)),t.unbind("click.railsDisable")}},n.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),t(document).delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),t(document).delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),a=r.data("method"),s=r.data("params");if(!n.allowAction(r))return n.stopEverything(i);if(r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if((i.metaKey||i.ctrlKey)&&(!a||"GET"===a)&&!s)return!0;var o=n.handleRemote(r);return o===!1?n.enableElement(r):o.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),t(document).delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),t(document).delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),a=r.data("remote")!==e,s=n.blankInputs(r,n.requiredInputSelector),o=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(s&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(i);if(a){if(o){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return!t.support.submitBubbles&&t().jquery<"1.7"&&n.callFormSubmitBindings(r,i)===!1?n.stopEverything(i):(n.handleRemote(r),!1)}setTimeout(function(){n.disableFormElements(r)},13)}),t(document).delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),a=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",a)}),t(document).delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),t(document).delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){csrf_token=t("meta[name=csrf-token]").attr("content"),csrf_param=t("meta[name=csrf-param]").attr("content"),t('form input[name="'+csrf_param+'"]').val(csrf_token)}))}(jQuery);var I18n=I18n||{};I18n.defaultLocale="en",I18n.fallbacks=!1,I18n.defaultSeparator=".",I18n.locale=I18n.locale||null,I18n.PLACEHOLDER=/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,I18n.fallbackRules={},I18n.pluralizationRules={en:function(t){return 0==t?["zero","none","other"]:1==t?"one":"other"}},I18n.getFallbacks=function(t){if(t===I18n.defaultLocale)return[];if(!I18n.fallbackRules[t]){for(var e=[],i=t.split("-"),n=1;n<i.length;n++)e.push(i.slice(0,n).join("-"));e.push(I18n.defaultLocale),I18n.fallbackRules[t]=e}return I18n.fallbackRules[t]},I18n.isValidNode=function(t,e,i){return null!==t[e]&&t[e]!==i},I18n.lookup=function(t,e){var i,e=e||{},n=t,r=this.prepareOptions(I18n.translations),a=e.locale||I18n.currentLocale(),s=r[a]||{},e=this.prepareOptions(e);for("object"==typeof t&&(t=t.join(this.defaultSeparator)),e.scope&&(t=e.scope.toString()+this.defaultSeparator+t),t=t.split(this.defaultSeparator);s&&t.length>0;)i=t.shift(),s=s[i];if(!s){if(I18n.fallbacks)for(var o=this.getFallbacks(a),l=0;l<o.length&&!(s=I18n.lookup(n,this.prepareOptions({locale:o[l]},e)));o++);!s&&this.isValidNode(e,"defaultValue")&&(s=e.defaultValue)}return s},I18n.prepareOptions=function(){for(var t,e={},i=arguments.length,n=0;i>n;n++)if(t=arguments[n])for(var r in t)this.isValidNode(e,r)||(e[r]=t[r]);return e},I18n.interpolate=function(t,e){e=this.prepareOptions(e);var i,n,r,a=t.match(this.PLACEHOLDER);if(!a)return t;for(var s=0;i=a[s];s++)r=i.replace(this.PLACEHOLDER,"$1"),n=e[r],this.isValidNode(e,r)||(n="[missing "+i+" value]"),regex=new RegExp(i.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),t=t.replace(regex,n);return t},I18n.translate=function(t,e){e=this.prepareOptions(e);var i=this.lookup(t,e);try{return"object"==typeof i?"number"==typeof e.count?this.pluralize(e.count,t,e):i:this.interpolate(i,e)}catch(n){return this.missingTranslation(t)}},I18n.localize=function(t,e){switch(t){case"currency":return this.toCurrency(e);case"number":return t=this.lookup("number.format"),this.toNumber(e,t);case"percentage":return this.toPercentage(e);default:return t.match(/^(date|time)/)?this.toTime(t,e):e.toString()}},I18n.parseDate=function(t){var e,i;if("object"==typeof t)return t;if(e=t.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2}))?(Z|\+0000)?/)){for(var n=1;6>=n;n++)e[n]=parseInt(e[n],10)||0;e[2]-=1,i=e[7]?new Date(Date.UTC(e[1],e[2],e[3],e[4],e[5],e[6])):new Date(e[1],e[2],e[3],e[4],e[5],e[6])}else"number"==typeof t?(i=new Date,i.setTime(t)):t.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/)?(i=new Date,i.setTime(Date.parse(t))):(i=new Date,i.setTime(Date.parse(t)));return i},I18n.toTime=function(t,e){var i=this.parseDate(e),n=this.lookup(t);return i.toString().match(/invalid/i)?i.toString():n?this.strftime(i,n):i.toString()},I18n.strftime=function(t,e){var i=this.lookup("date");if(!i)return t.toString();i.meridian=i.meridian||["AM","PM"];var n=t.getDay(),r=t.getDate(),a=t.getFullYear(),s=t.getMonth()+1,o=t.getHours(),l=o,u=o>11?1:0,c=t.getSeconds(),h=t.getMinutes(),d=t.getTimezoneOffset(),p=Math.floor(Math.abs(d/60)),f=Math.abs(d)-60*p,g=(d>0?"-":"+")+(p.toString().length<2?"0"+p:p)+(f.toString().length<2?"0"+f:f);l>12?l-=12:0===l&&(l=12);var m=function(t){var e="0"+t.toString();return e.substr(e.length-2)},v=e;return v=v.replace("%a",i.abbr_day_names[n]),v=v.replace("%A",i.day_names[n]),v=v.replace("%b",i.abbr_month_names[s]),v=v.replace("%B",i.month_names[s]),v=v.replace("%d",m(r)),v=v.replace("%e",r),v=v.replace("%-d",r),v=v.replace("%H",m(o)),v=v.replace("%-H",o),v=v.replace("%I",m(l)),v=v.replace("%-I",l),v=v.replace("%m",m(s)),v=v.replace("%-m",s),v=v.replace("%M",m(h)),v=v.replace("%-M",h),v=v.replace("%p",i.meridian[u]),v=v.replace("%S",m(c)),v=v.replace("%-S",c),v=v.replace("%w",n),v=v.replace("%y",m(a)),v=v.replace("%-y",m(a).replace(/^0+/,"")),v=v.replace("%Y",a),v=v.replace("%z",g)},I18n.toNumber=function(t,e){e=this.prepareOptions(e,this.lookup("number.format"),{precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1});var i,n,r=0>t,a=Math.abs(t).toFixed(e.precision).toString(),s=a.split("."),o=[];for(t=s[0],i=s[1];t.length>0;)o.unshift(t.substr(Math.max(0,t.length-3),3)),t=t.substr(0,t.length-3);if(n=o.join(e.delimiter),e.precision>0&&(n+=e.separator+s[1]),r&&(n="-"+n),e.strip_insignificant_zeros){var l={separator:new RegExp(e.separator.replace(/\./,"\\.")+"$"),zeros:/0+$/};n=n.replace(l.zeros,"").replace(l.separator,"")}return n},I18n.toCurrency=function(t,e){return e=this.prepareOptions(e,this.lookup("number.currency.format"),this.lookup("number.format"),{unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."}),t=this.toNumber(t,e),t=e.format.replace("%u",e.unit).replace("%n",t)},I18n.toHumanSize=function(t,e){for(var i,n,r=1024,a=t,s=0;a>=r&&4>s;)a/=r,s+=1;return 0===s?(i=this.t("number.human.storage_units.units.byte",{count:a}),n=0):(i=this.t("number.human.storage_units.units."+[null,"kb","mb","gb","tb"][s]),n=a-Math.floor(a)===0?0:1),e=this.prepareOptions(e,{precision:n,format:"%n%u",delimiter:""}),t=this.toNumber(a,e),t=e.format.replace("%u",i).replace("%n",t)},I18n.toPercentage=function(t,e){return e=this.prepareOptions(e,this.lookup("number.percentage.format"),this.lookup("number.format"),{precision:3,separator:".",delimiter:""}),t=this.toNumber(t,e),t+"%"},I18n.pluralizer=function(t){return pluralizer=this.pluralizationRules[t],void 0!==pluralizer?pluralizer:this.pluralizationRules.en},I18n.findAndTranslateValidNode=function(t,e){for(i=0;i<t.length;i++)if(key=t[i],this.isValidNode(e,key))return e[key];return null},I18n.pluralize=function(t,e,i){var n;try{n=this.lookup(e,i)}catch(r){}if(!n)return this.missingTranslation(e);var a;return i=this.prepareOptions(i),i.count=t.toString(),pluralizer=this.pluralizer(this.currentLocale()),key=pluralizer(Math.abs(t)),keys="object"==typeof key&&key instanceof Array?key:[key],a=this.findAndTranslateValidNode(keys,n),null==a&&(a=this.missingTranslation(e,keys[0])),this.interpolate(a,i)},I18n.missingTranslation=function(){for(var t='[missing "'+this.currentLocale(),e=arguments.length,i=0;e>i;i++)t+="."+arguments[i];return t+='" translation]'},I18n.currentLocale=function(){return I18n.locale||I18n.defaultLocale},I18n.t=I18n.translate,I18n.l=I18n.localize,I18n.p=I18n.pluralize,/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
function(t,e){"object"==typeof exports&&exports?module.exports=e:"function"==typeof define&&define.amd?define(e):t.Mustache=e}(this,function(){function t(t,e){return y.call(t,e)}function e(e){return!t(f,e)}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(t){return String(t).replace(/[&<>"'\/]/g,function(t){return x[t]})}function r(t){this.string=t,this.tail=t,this.pos=0}function a(t,e){this.view=t,this.parent=e,this._cache={}}function s(){this.clearCache()}function o(t,e,i,n){for(var r,a,s,l="",u=0,c=t.length;c>u;++u)switch(r=t[u],a=r[1],r[0]){case"#":if(s=i.lookup(a),"object"==typeof s)if(_(s))for(var d=0,p=s.length;p>d;++d)l+=o(r[4],e,i.push(s[d]),n);else s&&(l+=o(r[4],e,i.push(s),n));else if("function"==typeof s){var f=null==n?null:n.slice(r[3],r[5]);s=s.call(i.view,f,function(t){return e.render(t,i)}),null!=s&&(l+=s)}else s&&(l+=o(r[4],e,i,n));break;case"^":s=i.lookup(a),(!s||_(s)&&0===s.length)&&(l+=o(r[4],e,i,n));break;case">":s=e.getPartial(a),"function"==typeof s&&(l+=s(i));break;case"&":s=i.lookup(a),null!=s&&(l+=s);break;case"name":s=i.lookup(a),null!=s&&(l+=h.escape(s));break;case"text":l+=a}return l}function l(t){for(var e,i=[],n=i,r=[],a=0,s=t.length;s>a;++a)switch(e=t[a],e[0]){case"#":case"^":r.push(e),n.push(e),n=e[4]=[];break;case"/":var o=r.pop();o[5]=e[2],n=r.length>0?r[r.length-1][4]:i;break;default:n.push(e)}return i}function u(t){for(var e,i,n=[],r=0,a=t.length;a>r;++r)e=t[r],e&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(i=e,n.push(e)));return n}function c(t){return[new RegExp(i(t[0])+"\\s*"),new RegExp("\\s*"+i(t[1]))]}var h={};h.name="mustache.js",h.version="0.7.2",h.tags=["{{","}}"],h.Scanner=r,h.Context=a,h.Writer=s;var d=/\s*/,p=/\s+/,f=/\S/,g=/\s*=/,m=/\s*\}/,v=/#|\^|\/|>|\{|&|=|!/,y=RegExp.prototype.test,b=Object.prototype.toString,_=Array.isArray||function(t){return"[object Array]"===b.call(t)},x={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};h.escape=n,r.prototype.eos=function(){return""===this.tail},r.prototype.scan=function(t){var e=this.tail.match(t);return e&&0===e.index?(this.tail=this.tail.substring(e[0].length),this.pos+=e[0].length,e[0]):""},r.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i),this.pos+=i}return e},a.make=function(t){return t instanceof a?t:new a(t)},a.prototype.push=function(t){return new a(t,this)},a.prototype.lookup=function(t){var e=this._cache[t];if(!e){if("."==t)e=this.view;else for(var i=this;i;){if(t.indexOf(".")>0){e=i.view;for(var n=t.split("."),r=0;e&&r<n.length;)e=e[n[r++]]}else e=i.view[t];if(null!=e)break;i=i.parent}this._cache[t]=e}return"function"==typeof e&&(e=e.call(this.view)),e},s.prototype.clearCache=function(){this._cache={},this._partialCache={}},s.prototype.compile=function(t,e){var i=this._cache[t];if(!i){var n=h.parse(t,e);i=this._cache[t]=this.compileTokens(n,t)}return i},s.prototype.compilePartial=function(t,e,i){var n=this.compile(e,i);return this._partialCache[t]=n,n},s.prototype.getPartial=function(t){return t in this._partialCache||!this._loadPartial||this.compilePartial(t,this._loadPartial(t)),this._partialCache[t]},s.prototype.compileTokens=function(t,e){var i=this;return function(n,r){if(r)if("function"==typeof r)i._loadPartial=r;else for(var s in r)i.compilePartial(s,r[s]);return o(t,i,a.make(n),e)}},s.prototype.render=function(t,e,i){return this.compile(t)(e,i)},h.parse=function(t,n){function a(){if(k&&!I)for(;S.length;)delete C[S.pop()];else S=[];k=!1,I=!1}if(t=t||"",n=n||h.tags,"string"==typeof n&&(n=n.split(p)),2!==n.length)throw new Error("Invalid tags: "+n.join(", "));for(var s,o,f,y,b,_=c(n),x=new r(t),w=[],C=[],S=[],k=!1,I=!1;!x.eos();){if(s=x.pos,f=x.scanUntil(_[0]))for(var T=0,D=f.length;D>T;++T)y=f.charAt(T),e(y)?S.push(C.length):I=!0,C.push(["text",y,s,s+1]),s+=1,"\n"==y&&a();if(!x.scan(_[0]))break;if(k=!0,o=x.scan(v)||"name",x.scan(d),"="===o?(f=x.scanUntil(g),x.scan(g),x.scanUntil(_[1])):"{"===o?(f=x.scanUntil(new RegExp("\\s*"+i("}"+n[1]))),x.scan(m),x.scanUntil(_[1]),o="&"):f=x.scanUntil(_[1]),!x.scan(_[1]))throw new Error("Unclosed tag at "+x.pos);if(b=[o,f,s,x.pos],C.push(b),"#"===o||"^"===o)w.push(b);else if("/"===o){if(0===w.length)throw new Error('Unopened section "'+f+'" at '+s);var U=w.pop();if(U[1]!==f)throw new Error('Unclosed section "'+U[1]+'" at '+s)}else if("name"===o||"{"===o||"&"===o)I=!0;else if("="===o){if(n=f.split(p),2!==n.length)throw new Error("Invalid tags at "+s+": "+n.join(", "));_=c(n)}}var U=w.pop();if(U)throw new Error('Unclosed section "'+U[1]+'" at '+x.pos);return C=u(C),l(C)};var w=new s;return h.clearCache=function(){return w.clearCache()},h.compile=function(t,e){return w.compile(t,e)},h.compilePartial=function(t,e,i){return w.compilePartial(t,e,i)},h.compileTokens=function(t,e){return w.compileTokens(t,e)},h.render=function(t,e,i){return w.render(t,e,i)},h.to_html=function(t,e,i,n){var r=h.render(t,e,i);return"function"!=typeof n?r:void n(r)},h}()),function(){null==this.SopSupport&&(this.SopSupport={})}.call(this),function(){this.SopSupport.HandlerRegisterable=function(){this.registered_handlers={}},this.SopSupport.HandlerRegisterable.prototype.register=function(t,e){this.registered_handlers[e]=t},this.SopSupport.HandlerRegisterable.prototype.obtain=function(t){var e,i;for(i in this.registered_handlers)if(e=this.registered_handlers[i],e.handles(t))return new e(t)}}.call(this),function(){this.SopSupport.MiddlewareStack=function(){this.registeredMiddleware={}},this.SopSupport.Stack=function(t,e){this.input=t,this.context=e,this.responding=!1,this.output=void 0},this.SopSupport.Stack.prototype={respond:function(){this.responding=!0},isResponding:function(){return this.responding}},this.SopSupport.MiddlewareStack.prototype={register:function(t,e){this.registeredMiddleware[e]=t},process:function(t,e){var i,n,r,a,s,o;o=new SopSupport.Stack(t,e),r=[];for(n in this.registeredMiddleware){if(a=this.registeredMiddleware[n],s=new a,s.receive(o),o.isResponding())break;r.push(n)}for(o.output=o.output||o.input,r=r.reverse(),i=0;i<r.length;)n=r[i],a=this.registeredMiddleware[n],s=new a,s.respond(o),i++;return o.output}}}.call(this),function(){this.SopSupport.PipelineRegistry=function(){this.registeredFilters={}},this.SopSupport.PipelineRegistry.prototype.register=function(t,e){this.registeredFilters[e]=t},this.SopSupport.PipelineRegistry.prototype.filterMethod=function(t){this[t]=function(e,i){var n,r;for(r in this.registeredFilters)n=new this.registeredFilters[r],e=n[t](e,i);return e}}}.call(this),function(){var t,e,i;null==this.SopUI&&(this.SopUI={}),null==(t=this.SopUI).controllers&&(t.controllers=[]),null==(e=this.SopUI).Outlets&&(e.Outlets={}),null==(i=this.SopUI).Definers&&(i.Definers={}),this.SopUI.extend=function(t,e){var i,n,r;r=Object.prototype.toString,i=r.call({});for(n in e)e[n]&&i===r.call(e[n])?(t[n]=t[n]||{},SopUI.extend(t[n],e[n])):t[n]=e[n];return t}}.call(this),function(t,e){function i(e,n){if(!(this instanceof i))return new i(e,n);if(this.selected=[],void 0===e)return this;if(e instanceof i)return e;if(n instanceof i)this.selected=n.findInSelf(e);else{if("string"==typeof n)return new i(e,new i(n));var r=e.split(" "),a=this.mapToJQuerySelector(r.shift()),s=this.findContext(n),o=s;"self"!==e&&(o=t(a,s)),o=o.filter(":not([data-proxy-element])");var l=o,u=t("[data-proxy-element]",this.findContext(n)),c=this.mapProxyElements(u);_(c).forEach(function(e,i){var n=t(e),r=n.find(a);l=l.add(r),n.is(a)&&(l=l.add(n))}),r.length?this.selected=new i(r.join(" "),l).selected:this.selected=_.map(l,function(t){return UIComponent.retrieveComponent(t)})}return Array.prototype.push.apply(this,this.selected),this}i.prototype.findInSelf=function(t){for(var e,n=0;n<this.length;n++){var r=this[n],a=new i(t,r);e=_.union(e,a.selected)}return e},i.prototype.splice=Array.prototype.splice,i.prototype.mapProxyElements=function(e){var i=[];return e.each(function(e,n){var r=t("#proxy-reserve").find('[data-proxy-target="'+t(n).attr("data-proxy-element")+'"]')[0];i.push(t(r))}),t(i)},i.prototype.mapToJQuerySelector=function(t){var e=t.split("."),i=e[0],n=e[1],r=this.mapComponentToSelector(i);return r+=this.mapTagToSelector(n)},i.prototype.findContext=function(t){return t?t instanceof jQuery?t:t.$target:void 0},i.prototype.mapComponentToSelector=function(t){if(!t)return"";if(""==t)return"";var e=t.camelize();return e="UI"+e[0].toUpperCase()+e.slice(1),"[data-ui-widget='"+e+"']"},i.prototype.mapTagToSelector=function(t){return t?"[data-tag='"+t+"']":""},e._ui=i,e.UnderscoreUI=i}(jQuery,window),function(){function t(t,e,i){i=(i||0)-1;for(var n=t?t.length:0;++i<n;)if(t[i]===e)return i;return-1}function e(e,i){var n=typeof i;if(e=e.l,"boolean"==n||null==i)return e[i]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?i:b+i;return e=(e=e[n])&&e[r],"object"==n?e&&-1<t(e,i)?0:-1:e?0:-1}function i(t){var e=this.l,i=typeof t;if("boolean"==i||null==t)e[t]=!0;else{"number"!=i&&"string"!=i&&(i="object");var n="number"==i?t:b+t,e=e[i]||(e[i]={});"object"==i?(e[n]||(e[n]=[])).push(t):e[n]=!0}}function n(t){return t.charCodeAt(0)}function r(t,e){for(var i=t.m,n=e.m,r=-1,a=i.length;++r<a;){var s=i[r],o=n[r];if(s!==o){if(s>o||"undefined"==typeof s)return 1;if(o>s||"undefined"==typeof o)return-1}}return t.n-e.n}function a(t){var e=-1,n=t.length,r=t[0],a=t[n/2|0],s=t[n-1];if(r&&"object"==typeof r&&a&&"object"==typeof a&&s&&"object"==typeof s)return!1;for(r=l(),r["false"]=r["null"]=r["true"]=r.undefined=!1,a=l(),a.k=t,a.l=r,a.push=i;++e<n;)a.push(t[e]);return a}function s(t){return"\\"+Z[t]}function o(){return g.pop()||[]}function l(){return m.pop()||{k:null,l:null,m:null,"false":!1,n:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,o:null}}function u(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function c(t){t.length=0,g.length<x&&g.push(t)}function h(t){var e=t.l;e&&h(e),t.k=t.l=t.m=t.object=t.number=t.string=t.o=null,m.length<x&&m.push(t)}function d(t,e,i){e||(e=0),"undefined"==typeof i&&(i=t?t.length:0);var n=-1;i=i-e||0;for(var r=Array(0>i?0:i);++n<i;)r[n]=t[e+n];return r}function p(i){function g(t){return t&&"object"==typeof t&&!Re(t)&&_e.call(t,"__wrapped__")?t:new m(t)}function m(t,e){this.__chain__=!!e,this.__wrapped__=t}function x(t){function e(){if(n){var t=n.slice();xe.apply(t,arguments)}if(this instanceof e){var a=tt(i.prototype),t=i.apply(a,t||arguments);return wt(t)?t:a}return i.apply(r,t||arguments)}var i=t[0],n=t[2],r=t[4];return Ne(e,t),e}function Z(t,e,i,n,r){if(i){var a=i(t);if("undefined"!=typeof a)return a}if(!wt(t))return t;var s=pe.call(t);if(!q[s]||!Oe.nodeClass&&u(t))return t;var l=Pe[s];switch(s){case R:case B:return new l(+t);case V:case Y:return new l(t);case W:return a=l(t.source,D.exec(t)),a.lastIndex=t.lastIndex,a}if(s=Re(t),e){var h=!n;n||(n=o()),r||(r=o());for(var p=n.length;p--;)if(n[p]==t)return r[p];a=s?l(t.length):{}}else a=s?d(t):Ke({},t);return s&&(_e.call(t,"index")&&(a.index=t.index),_e.call(t,"input")&&(a.input=t.input)),e?(n.push(t),r.push(a),(s?Xe:Qe)(t,function(t,s){a[s]=Z(t,e,i,n,r)}),h&&(c(n),c(r)),a):a}function tt(t){return wt(t)?Ie(t):{}}function et(t,e,i){if("function"!=typeof t)return qt;if("undefined"==typeof e||!("prototype"in t))return t;var n=t.__bindData__;if("undefined"==typeof n&&(Oe.funcNames&&(n=!t.name),n=n||!Oe.funcDecomp,!n)){var r=ye.call(t);Oe.funcNames||(n=!U.test(r)),n||(n=E.test(r),Ne(t,n))}if(!1===n||!0!==n&&1&n[1])return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,a){return t.call(e,i,n,r,a)}}return Wt(t,e)}function it(t){function e(){var t=l?s:this;if(r){var f=r.slice();xe.apply(f,arguments)}return(a||c)&&(f||(f=d(arguments)),a&&xe.apply(f,a),c&&f.length<o)?(n|=16,it([i,h?n:-4&n,f,null,s,o])):(f||(f=arguments),u&&(i=t[p]),this instanceof e?(t=tt(i.prototype),f=i.apply(t,f),wt(f)?f:t):i.apply(t,f))}var i=t[0],n=t[1],r=t[2],a=t[3],s=t[4],o=t[5],l=1&n,u=2&n,c=4&n,h=8&n,p=i;return Ne(e,t),e}function nt(i,n){var r=-1,s=ft(),o=i?i.length:0,l=o>=_&&s===t,u=[];if(l){var c=a(n);c?(s=e,n=c):l=!1}for(;++r<o;)c=i[r],0>s(n,c)&&u.push(c);return l&&h(n),u}function at(t,e,i,n){n=(n||0)-1;for(var r=t?t.length:0,a=[];++n<r;){var s=t[n];if(s&&"object"==typeof s&&"number"==typeof s.length&&(Re(s)||vt(s))){e||(s=at(s,e,i));var o=-1,l=s.length,u=a.length;for(a.length+=l;++o<l;)a[u++]=s[o]}else i||a.push(s)}return a}function st(t,e,i,n,r,a){if(i){var s=i(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;if(t===t&&!(t&&J[typeof t]||e&&J[typeof e]))return!1;if(null==t||null==e)return t===e;var l=pe.call(t),h=pe.call(e);if(l==O&&(l=H),h==O&&(h=H),l!=h)return!1;switch(l){case R:case B:return+t==+e;case V:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case W:case Y:return t==se(e)}if(h=l==N,!h){var d=_e.call(t,"__wrapped__"),p=_e.call(e,"__wrapped__");if(d||p)return st(d?t.__wrapped__:t,p?e.__wrapped__:e,i,n,r,a);if(l!=H||!Oe.nodeClass&&(u(t)||u(e)))return!1;if(l=!Oe.argsObject&&vt(t)?re:t.constructor,d=!Oe.argsObject&&vt(e)?re:e.constructor,l!=d&&!(xt(l)&&l instanceof l&&xt(d)&&d instanceof d)&&"constructor"in t&&"constructor"in e)return!1}for(d=!r,r||(r=o()),a||(a=o()),l=r.length;l--;)if(r[l]==t)return a[l]==e;var f=0,s=!0;if(r.push(t),a.push(e),h){if(l=t.length,f=e.length,s=f==t.length,!s&&!n)return s;for(;f--;)if(h=l,d=e[f],n)for(;h--&&!(s=st(t[h],d,i,n,r,a)););else if(!(s=st(t[f],d,i,n,r,a)))break;return s}return Ze(e,function(e,o,l){return _e.call(l,o)?(f++,s=_e.call(t,o)&&st(t[o],e,i,n,r,a)):void 0}),s&&!n&&Ze(t,function(t,e,i){return _e.call(i,e)?s=-1<--f:void 0}),d&&(c(r),c(a)),s}function ot(t,e,i,n,r){(Re(e)?Mt:Qe)(e,function(e,a){var s,o,l=e,u=t[a];if(e&&((o=Re(e))||ti(e))){for(l=n.length;l--;)if(s=n[l]==e){u=r[l];break}if(!s){var c;i&&(l=i(u,e),c="undefined"!=typeof l)&&(u=l),c||(u=o?Re(u)?u:[]:ti(u)?u:{}),n.push(e),r.push(u),c||ot(u,e,i,n,r)}}else i&&(l=i(u,e),"undefined"==typeof l&&(l=e)),"undefined"!=typeof l&&(u=l);t[a]=u})}function lt(t,e){return t+ve(Fe()*(e-t+1))}function ut(i,n,r){var s=-1,l=ft(),u=i?i.length:0,d=[],p=!n&&u>=_&&l===t,f=r||p?o():d;if(p){var g=a(f);g?(l=e,f=g):(p=!1,f=r?f:(c(f),d))}for(;++s<u;){var g=i[s],m=r?r(g,s,i):g;(n?!s||f[f.length-1]!==m:0>l(f,m))&&((r||p)&&f.push(m),d.push(g))}return p?(c(f.k),h(f)):r&&c(f),d}function ct(t){return function(e,i,n){var r={};if(i=g.createCallback(i,n,3),Re(e)){n=-1;for(var a=e.length;++n<a;){var s=e[n];t(r,s,i(s,n,e),e)}}else Xe(e,function(e,n,a){t(r,e,i(e,n,a),a)});return r}}function ht(t,e,i,n,r,a){var s=1&e,o=4&e,l=16&e,u=32&e;if(!(2&e||xt(t)))throw new oe;l&&!i.length&&(e&=-17,l=i=!1),u&&!n.length&&(e&=-33,u=n=!1);var c=t&&t.__bindData__;return c&&!0!==c?(c=c.slice(),!s||1&c[1]||(c[4]=r),!s&&1&c[1]&&(e|=8),!o||4&c[1]||(c[5]=a),l&&xe.apply(c[2]||(c[2]=[]),i),u&&xe.apply(c[3]||(c[3]=[]),n),c[1]|=e,ht.apply(null,c)):(1==e||17===e?x:it)([t,e,i,n,r,a])}function dt(){K.h=L,K.b=K.c=K.g=K.i="",K.e="t",K.j=!0;for(var t,e=0;t=arguments[e];e++)for(var i in t)K[i]=t[i];e=K.a,K.d=/^[^,]+/.exec(e)[0],t=ee,e="return function("+e+"){",i=K;var n="var n,t="+i.d+",E="+i.e+";if(!t)return E;"+i.i+";";i.b?(n+="var u=t.length;n=-1;if("+i.b+"){",Oe.unindexedChars&&(n+="if(s(t)){t=t.split('')}"),n+="while(++n<u){"+i.g+";}}else{"):Oe.nonEnumArgs&&(n+="var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';"+i.g+";}}else{"),Oe.enumPrototypes&&(n+="var G=typeof t=='function';"),Oe.enumErrorProps&&(n+="var F=t===k||t instanceof Error;");var r=[];if(Oe.enumPrototypes&&r.push('!(G&&n=="prototype")'),Oe.enumErrorProps&&r.push('!(F&&(n=="message"||n=="name"))'),i.j&&i.f)n+="var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];",r.length&&(n+="if("+r.join("&&")+"){"),n+=i.g+";",r.length&&(n+="}"),n+="}";else if(n+="for(n in t){",i.j&&r.push("m.call(t, n)"),r.length&&(n+="if("+r.join("&&")+"){"),n+=i.g+";",r.length&&(n+="}"),n+="}",Oe.nonEnumShadows){for(n+="if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];",k=0;7>k;k++)n+="n='"+i.h[k]+"';if((!(r&&x[n])&&m.call(t,n))",i.j||(n+="||(!x[n]&&t[n]!==A[n])"),n+="){"+i.g+"}";n+="}"}return(i.b||Oe.nonEnumArgs)&&(n+="}"),n+=i.c+";return E",t("d,j,k,m,o,p,q,s,v,A,B,y,I,J,L",e+n+"}")(et,j,ue,_e,y,vt,Re,St,K.f,ce,J,Le,Y,he,pe)}function pt(t){return We[t]}function ft(){var e=(e=g.indexOf)===Rt?t:e;return e}function gt(t){var e,i;return!t||pe.call(t)!=H||(e=t.constructor,xt(e)&&!(e instanceof e))||!Oe.argsClass&&vt(t)||!Oe.nodeClass&&u(t)?!1:Oe.ownLast?(Ze(t,function(t,e,n){return i=_e.call(n,e),!1}),!1!==i):(Ze(t,function(t,e){i=e}),"undefined"==typeof i||_e.call(t,i))}function mt(t){return Ye[t]}function vt(t){return t&&"object"==typeof t&&"number"==typeof t.length&&pe.call(t)==O||!1}function yt(t,e,i){var n=je(t),r=n.length;for(e=et(e,i,3);r--&&(i=n[r],!1!==e(t[i],i,t)););return t}function bt(t){var e=[];return Ze(t,function(t,i){xt(t)&&e.push(i)}),e.sort()}function _t(t){for(var e=-1,i=je(t),n=i.length,r={};++e<n;){var a=i[e];r[t[a]]=a}return r}function xt(t){return"function"==typeof t}function wt(t){return!(!t||!J[typeof t])}function Ct(t){return"number"==typeof t||t&&"object"==typeof t&&pe.call(t)==V||!1}function St(t){return"string"==typeof t||t&&"object"==typeof t&&pe.call(t)==Y||!1}function kt(t){for(var e=-1,i=je(t),n=i.length,r=Zt(n);++e<n;)r[e]=t[i[e]];return r}function It(t,e,i){var n=-1,r=ft(),a=t?t.length:0,s=!1;return i=(0>i?$e(0,a+i):i)||0,Re(t)?s=-1<r(t,e,i):"number"==typeof a?s=-1<(St(t)?t.indexOf(e,i):r(t,e,i)):Xe(t,function(t){return++n<i?void 0:!(s=t===e)}),s}function Tt(t,e,i){var n=!0;if(e=g.createCallback(e,i,3),Re(t)){i=-1;for(var r=t.length;++i<r&&(n=!!e(t[i],i,t)););}else Xe(t,function(t,i,r){return n=!!e(t,i,r)});return n}function Dt(t,e,i){var n=[];if(e=g.createCallback(e,i,3),Re(t)){i=-1;for(var r=t.length;++i<r;){var a=t[i];e(a,i,t)&&n.push(a)}}else Xe(t,function(t,i,r){e(t,i,r)&&n.push(t)});return n}function Ut(t,e,i){if(e=g.createCallback(e,i,3),!Re(t)){var n;return Xe(t,function(t,i,r){return e(t,i,r)?(n=t,!1):void 0}),n}i=-1;for(var r=t.length;++i<r;){var a=t[i];if(e(a,i,t))return a}}function Mt(t,e,i){if(e&&"undefined"==typeof i&&Re(t)){i=-1;for(var n=t.length;++i<n&&!1!==e(t[i],i,t););}else Xe(t,e,i);return t}function $t(t,e,i){var n=t,r=t?t.length:0;if(e=e&&"undefined"==typeof i?e:et(e,i,3),Re(t))for(;r--&&!1!==e(t[r],r,t););else{if("number"!=typeof r)var a=je(t),r=a.length;else Oe.unindexedChars&&St(t)&&(n=t.split(""));Xe(t,function(t,i,s){return i=a?a[--r]:--r,e(n[i],i,s)})}return t}function At(t,e,i){var n=-1,r=t?t.length:0,a=Zt("number"==typeof r?r:0);if(e=g.createCallback(e,i,3),Re(t))for(;++n<r;)a[n]=e(t[n],n,t);else Xe(t,function(t,i,r){a[++n]=e(t,i,r)});return a}function Et(t,e,i){var r=-1/0,a=r;if("function"!=typeof e&&i&&i[e]===t&&(e=null),null==e&&Re(t)){i=-1;for(var s=t.length;++i<s;){var o=t[i];o>a&&(a=o)}}else e=null==e&&St(t)?n:g.createCallback(e,i,3),Xe(t,function(t,i,n){i=e(t,i,n),i>r&&(r=i,a=t)});return a}function Ft(t,e,i,n){var r=3>arguments.length;if(e=g.createCallback(e,n,4),Re(t)){var a=-1,s=t.length;for(r&&(i=t[++a]);++a<s;)i=e(i,t[a],a,t)}else Xe(t,function(t,n,a){i=r?(r=!1,t):e(i,t,n,a)});return i}function Pt(t,e,i,n){var r=3>arguments.length;return e=g.createCallback(e,n,4),$t(t,function(t,n,a){i=r?(r=!1,t):e(i,t,n,a)}),i}function Lt(t){var e=-1,i=t?t.length:0,n=Zt("number"==typeof i?i:0);return Mt(t,function(t){var i=lt(0,++e);n[e]=n[i],n[i]=t}),n}function Ot(t,e,i){var n;if(e=g.createCallback(e,i,3),Re(t)){i=-1;for(var r=t.length;++i<r&&!(n=e(t[i],i,t)););}else Xe(t,function(t,i,r){return!(n=e(t,i,r))});return!!n}function Nt(t,e,i){var n=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var a=-1;for(e=g.createCallback(e,i,3);++a<r&&e(t[a],a,t);)n++}else if(n=e,null==n||i)return t?t[0]:f;return d(t,0,Ae($e(0,n),r))}function Rt(e,i,n){if("number"==typeof n){var r=e?e.length:0;n=0>n?$e(0,r+n):n||0}else if(n)return n=jt(e,i),e[n]===i?n:-1;return t(e,i,n)}function Bt(t,e,i){if("number"!=typeof e&&null!=e){var n=0,r=-1,a=t?t.length:0;for(e=g.createCallback(e,i,3);++r<a&&e(t[r],r,t);)n++}else n=null==e||i?1:$e(0,e);return d(t,n)}function jt(t,e,i,n){var r=0,a=t?t.length:r;for(i=i?g.createCallback(i,n,1):qt,e=i(e);a>r;)n=r+a>>>1,i(t[n])<e?r=n+1:a=n;return r}function zt(t,e,i,n){return"boolean"!=typeof e&&null!=e&&(n=i,i="function"!=typeof e&&n&&n[e]===t?null:e,e=!1),null!=i&&(i=g.createCallback(i,n,3)),ut(t,e,i)}function Vt(){for(var t=1<arguments.length?arguments:arguments[0],e=-1,i=t?Et(ri(t,"length")):0,n=Zt(0>i?0:i);++e<i;)n[e]=ri(t,e);return n}function Ht(t,e){var i=-1,n=t?t.length:0,r={};for(e||!n||Re(t[0])||(e=[]);++i<n;){var a=t[i];e?r[a]=e[i]:a&&(r[a[0]]=a[1])}return r}function Wt(t,e){return 2<arguments.length?ht(t,17,d(arguments,2),null,e):ht(t,1,null,null,e)}function Yt(t,e,i){var n,r,a,s,o,l,u,c=0,h=!1,d=!0;if(!xt(t))throw new oe;if(e=$e(0,e)||0,!0===i)var p=!0,d=!1;else wt(i)&&(p=i.leading,h="maxWait"in i&&($e(e,i.maxWait)||0),d="trailing"in i?i.trailing:d);var g=function(){var i=e-(ai()-s);i>0?l=Ce(g,i):(r&&me(r),i=u,r=l=u=f,i&&(c=ai(),a=t.apply(o,n),l||r||(n=o=null)))},m=function(){l&&me(l),r=l=u=f,(d||h!==e)&&(c=ai(),a=t.apply(o,n),l||r||(n=o=null))};return function(){if(n=arguments,s=ai(),o=this,u=d&&(l||!p),!1===h)var i=p&&!l;else{r||p||(c=s);var f=h-(s-c),v=0>=f;v?(r&&(r=me(r)),c=s,a=t.apply(o,n)):r||(r=Ce(m,f))}return v&&l?l=me(l):l||e===h||(l=Ce(g,e)),i&&(v=!0,a=t.apply(o,n)),!v||l||r||(n=o=null),a}}function qt(t){return t}function Gt(t,e,i){var n=!0,r=e&&bt(e);e&&(i||r.length)||(null==i&&(i=e),a=m,e=t,t=g,r=bt(e)),!1===i?n=!1:wt(i)&&"chain"in i&&(n=i.chain);var a=t,s=xt(a);Mt(r,function(i){var r=t[i]=e[i];s&&(a.prototype[i]=function(){var e=this.__chain__,i=this.__wrapped__,s=[i];if(xe.apply(s,arguments),s=r.apply(t,s),n||e){if(i===s&&wt(s))return this;s=new a(s),s.__chain__=e}return s})})}function Xt(){}function Kt(t){return function(e){return e[t]}}function Jt(){return this.__wrapped__}i=i?rt.defaults(Q.Object(),i,rt.pick(Q,P)):Q;var Zt=i.Array,Qt=i.Boolean,te=i.Date,ee=i.Function,ie=i.Math,ne=i.Number,re=i.Object,ae=i.RegExp,se=i.String,oe=i.TypeError,le=[],ue=i.Error.prototype,ce=re.prototype,he=se.prototype,de=i._,pe=ce.toString,fe=ae("^"+se(pe).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ge=ie.ceil,me=i.clearTimeout,ve=ie.floor,ye=ee.prototype.toString,be=fe.test(be=re.getPrototypeOf)&&be,_e=ce.hasOwnProperty,xe=le.push,we=ce.propertyIsEnumerable,Ce=i.setTimeout,Se=le.splice,ke=function(){try{var t={},e=fe.test(e=re.defineProperty)&&e,i=e(t,t,t)&&e}catch(n){}return i}(),Ie=fe.test(Ie=re.create)&&Ie,Te=fe.test(Te=Zt.isArray)&&Te,De=i.isFinite,Ue=i.isNaN,Me=fe.test(Me=re.keys)&&Me,$e=ie.max,Ae=ie.min,Ee=i.parseInt,Fe=ie.random,Pe={};Pe[N]=Zt,Pe[R]=Qt,Pe[B]=te,Pe[z]=ee,Pe[H]=re,Pe[V]=ne,Pe[W]=ae,Pe[Y]=se;var Le={};Le[N]=Le[B]=Le[V]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Le[R]=Le[Y]={constructor:!0,toString:!0,valueOf:!0},Le[j]=Le[z]=Le[W]={constructor:!0,toString:!0},Le[H]={constructor:!0},function(){for(var t=L.length;t--;){var e,i=L[t];for(e in Le)_e.call(Le,e)&&!_e.call(Le[e],i)&&(Le[e][i]=!1)}}(),m.prototype=g.prototype;var Oe=g.support={};!function(){var t=function(){this.x=1},e={0:1,length:1},n=[];t.prototype={valueOf:1,y:1};for(var r in new t)n.push(r);for(r in arguments);Oe.argsClass=pe.call(arguments)==O,Oe.argsObject=arguments.constructor==re&&!(arguments instanceof Zt),Oe.enumErrorProps=we.call(ue,"message")||we.call(ue,"name"),Oe.enumPrototypes=we.call(t,"prototype"),Oe.funcDecomp=!fe.test(i.WinRTError)&&E.test(p),Oe.funcNames="string"==typeof ee.name,Oe.nonEnumArgs=0!=r,Oe.nonEnumShadows=!/valueOf/.test(n),Oe.ownLast="x"!=n[0],Oe.spliceObjects=(le.splice.call(e,0,1),!e[0]),Oe.unindexedChars="xx"!="x"[0]+re("x")[0];try{Oe.nodeClass=!(pe.call(document)==H&&!({toString:0}+""))}catch(a){Oe.nodeClass=!0}}(1),g.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:M,variable:"",imports:{_:g}},Ie||(tt=function(){function t(){}return function(e){if(wt(e)){t.prototype=e;var n=new t;t.prototype=null}return n||i.Object()}}());var Ne=ke?function(t,e){X.value=e,ke(t,"__bindData__",X)}:Xt;Oe.argsClass||(vt=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&_e.call(t,"callee")&&!we.call(t,"callee")||!1});var Re=Te||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&pe.call(t)==N||!1},Be=dt({a:"z",e:"[]",i:"if(!(B[typeof z]))return E",g:"E.push(n)"}),je=Me?function(t){return wt(t)?Oe.enumPrototypes&&"function"==typeof t||Oe.nonEnumArgs&&t.length&&vt(t)?Be(t):Me(t):[]}:Be,ze={a:"g,e,K",i:"e=e&&typeof K=='undefined'?e:d(e,K,3)",b:"typeof u=='number'",v:je,g:"if(e(t[n],n,g)===false)return E"},Ve={a:"z,H,l",i:"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){",v:je,g:"if(typeof E[n]=='undefined')E[n]=t[n]",c:"}}"},He={i:"if(!B[typeof t])return E;"+ze.i,b:!1},We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ye=_t(We),qe=ae("("+je(Ye).join("|")+")","g"),Ge=ae("["+je(We).join("")+"]","g"),Xe=dt(ze),Ke=dt(Ve,{i:Ve.i.replace(";",";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}"),g:"E[n]=e?e(E[n],t[n]):t[n]"}),Je=dt(Ve),Ze=dt(ze,He,{j:!1}),Qe=dt(ze,He);xt(/x/)&&(xt=function(t){return"function"==typeof t&&pe.call(t)==z});var ti=be?function(t){if(!t||pe.call(t)!=H||!Oe.argsClass&&vt(t))return!1;var e=t.valueOf,i="function"==typeof e&&(i=be(e))&&be(i);return i?t==i||be(t)==i:gt(t)}:gt,ei=ct(function(t,e,i){_e.call(t,i)?t[i]++:t[i]=1}),ii=ct(function(t,e,i){(_e.call(t,i)?t[i]:t[i]=[]).push(e)}),ni=ct(function(t,e,i){t[i]=e}),ri=At,ai=fe.test(ai=te.now)&&ai||function(){return(new te).getTime()},si=8==Ee(w+"08")?Ee:function(t,e){return Ee(St(t)?t.replace($,""):t,e||0)};return g.after=function(t,e){if(!xt(e))throw new oe;return function(){return 1>--t?e.apply(this,arguments):void 0}},g.assign=Ke,g.at=function(t){var e=arguments,i=-1,n=at(e,!0,!1,1),e=e[2]&&e[2][e[1]]===t?1:n.length,r=Zt(e);for(Oe.unindexedChars&&St(t)&&(t=t.split(""));++i<e;)r[i]=t[n[i]];return r},g.bind=Wt,g.bindAll=function(t){for(var e=1<arguments.length?at(arguments,!0,!1,1):bt(t),i=-1,n=e.length;++i<n;){var r=e[i];t[r]=ht(t[r],1,null,null,t)}return t},g.bindKey=function(t,e){return 2<arguments.length?ht(e,19,d(arguments,2),null,t):ht(e,3,null,null,t)},g.chain=function(t){return t=new m(t),t.__chain__=!0,t},g.compact=function(t){for(var e=-1,i=t?t.length:0,n=[];++e<i;){var r=t[e];r&&n.push(r)}return n},g.compose=function(){for(var t=arguments,e=t.length;e--;)if(!xt(t[e]))throw new oe;return function(){for(var e=arguments,i=t.length;i--;)e=[t[i].apply(this,e)];return e[0]}},g.constant=function(t){return function(){return t}},g.countBy=ei,g.create=function(t,e){var i=tt(t);return e?Ke(i,e):i},g.createCallback=function(t,e,i){var n=typeof t;if(null==t||"function"==n)return et(t,e,i);if("object"!=n)return Kt(t);var r=je(t),a=r[0],s=t[a];return 1!=r.length||s!==s||wt(s)?function(e){for(var i=r.length,n=!1;i--&&(n=st(e[r[i]],t[r[i]],null,!0)););return n}:function(t){return t=t[a],s===t&&(0!==s||1/s==1/t)}},g.curry=function(t,e){return e="number"==typeof e?e:+e||t.length,ht(t,4,null,null,null,e)},g.debounce=Yt,g.defaults=Je,g.defer=function(t){if(!xt(t))throw new oe;var e=d(arguments,1);return Ce(function(){t.apply(f,e)},1)},g.delay=function(t,e){if(!xt(t))throw new oe;var i=d(arguments,2);return Ce(function(){t.apply(f,i)},e)},g.difference=function(t){return nt(t,at(arguments,!0,!0,1))},g.filter=Dt,g.flatten=function(t,e,i,n){return"boolean"!=typeof e&&null!=e&&(n=i,i="function"!=typeof e&&n&&n[e]===t?null:e,e=!1),null!=i&&(t=At(t,i,n)),at(t,e)},g.forEach=Mt,g.forEachRight=$t,g.forIn=Ze,g.forInRight=function(t,e,i){var n=[];Ze(t,function(t,e){n.push(e,t)});var r=n.length;for(e=et(e,i,3);r--&&!1!==e(n[r--],n[r],t););return t},g.forOwn=Qe,g.forOwnRight=yt,g.functions=bt,g.groupBy=ii,g.indexBy=ni,g.initial=function(t,e,i){var n=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var a=r;for(e=g.createCallback(e,i,3);a--&&e(t[a],a,t);)n++}else n=null==e||i?1:e||n;return d(t,0,Ae($e(0,r-n),r))},g.intersection=function(){for(var i=[],n=-1,r=arguments.length,s=o(),l=ft(),u=l===t,d=o();++n<r;){var p=arguments[n];(Re(p)||vt(p))&&(i.push(p),s.push(u&&p.length>=_&&a(n?i[n]:d)))}var u=i[0],f=-1,g=u?u.length:0,m=[];t:for(;++f<g;){var v=s[0],p=u[f];if(0>(v?e(v,p):l(d,p))){for(n=r,(v||d).push(p);--n;)if(v=s[n],0>(v?e(v,p):l(i[n],p)))continue t;m.push(p)}}for(;r--;)(v=s[r])&&h(v);return c(s),c(d),m},g.invert=_t,g.invoke=function(t,e){var i=d(arguments,2),n=-1,r="function"==typeof e,a=t?t.length:0,s=Zt("number"==typeof a?a:0);return Mt(t,function(t){s[++n]=(r?e:t[e]).apply(t,i)}),s},g.keys=je,g.map=At,g.mapValues=function(t,e,i){var n={};return e=g.createCallback(e,i,3),Qe(t,function(t,i,r){n[i]=e(t,i,r)}),n},g.max=Et,g.memoize=function(t,e){if(!xt(t))throw new oe;var i=function(){var n=i.cache,r=e?e.apply(this,arguments):b+arguments[0];return _e.call(n,r)?n[r]:n[r]=t.apply(this,arguments)};return i.cache={},i},g.merge=function(t){var e=arguments,i=2;if(!wt(t))return t;if("number"!=typeof e[2]&&(i=e.length),i>3&&"function"==typeof e[i-2])var n=et(e[--i-1],e[i--],2);else i>2&&"function"==typeof e[i-1]&&(n=e[--i]);for(var e=d(arguments,1,i),r=-1,a=o(),s=o();++r<i;)ot(t,e[r],n,a,s);return c(a),c(s),t},g.min=function(t,e,i){var r=1/0,a=r;if("function"!=typeof e&&i&&i[e]===t&&(e=null),null==e&&Re(t)){i=-1;for(var s=t.length;++i<s;){var o=t[i];a>o&&(a=o)}}else e=null==e&&St(t)?n:g.createCallback(e,i,3),Xe(t,function(t,i,n){i=e(t,i,n),r>i&&(r=i,a=t)});return a},g.omit=function(t,e,i){var n={};if("function"!=typeof e){var r=[];Ze(t,function(t,e){r.push(e)});for(var r=nt(r,at(arguments,!0,!1,1)),a=-1,s=r.length;++a<s;){var o=r[a];n[o]=t[o]}}else e=g.createCallback(e,i,3),Ze(t,function(t,i,r){e(t,i,r)||(n[i]=t)});return n},g.once=function(t){var e,i;if(!xt(t))throw new oe;return function(){return e?i:(e=!0,i=t.apply(this,arguments),t=null,i)}},g.pairs=function(t){for(var e=-1,i=je(t),n=i.length,r=Zt(n);++e<n;){var a=i[e];r[e]=[a,t[a]]}return r},g.partial=function(t){return ht(t,16,d(arguments,1))},g.partialRight=function(t){return ht(t,32,null,d(arguments,1))},g.pick=function(t,e,i){var n={};if("function"!=typeof e)for(var r=-1,a=at(arguments,!0,!1,1),s=wt(t)?a.length:0;++r<s;){var o=a[r];o in t&&(n[o]=t[o])}else e=g.createCallback(e,i,3),Ze(t,function(t,i,r){e(t,i,r)&&(n[i]=t)});return n},g.pluck=ri,g.property=Kt,g.pull=function(t){for(var e=arguments,i=0,n=e.length,r=t?t.length:0;++i<n;)for(var a=-1,s=e[i];++a<r;)t[a]===s&&(Se.call(t,a--,1),r--);return t},g.range=function(t,e,i){t=+t||0,i="number"==typeof i?i:+i||1,null==e&&(e=t,t=0);var n=-1;e=$e(0,ge((e-t)/(i||1)));for(var r=Zt(e);++n<e;)r[n]=t,t+=i;return r},g.reject=function(t,e,i){return e=g.createCallback(e,i,3),Dt(t,function(t,i,n){return!e(t,i,n)})},g.remove=function(t,e,i){var n=-1,r=t?t.length:0,a=[];for(e=g.createCallback(e,i,3);++n<r;)i=t[n],e(i,n,t)&&(a.push(i),Se.call(t,n--,1),r--);return a},g.rest=Bt,g.shuffle=Lt,g.sortBy=function(t,e,i){var n=-1,a=Re(e),s=t?t.length:0,u=Zt("number"==typeof s?s:0);for(a||(e=g.createCallback(e,i,3)),Mt(t,function(t,i,r){var s=u[++n]=l();a?s.m=At(e,function(e){return t[e]}):(s.m=o())[0]=e(t,i,r),s.n=n,s.o=t}),s=u.length,u.sort(r);s--;)t=u[s],u[s]=t.o,a||c(t.m),h(t);return u},g.tap=function(t,e){return e(t),t},g.throttle=function(t,e,i){var n=!0,r=!0;if(!xt(t))throw new oe;return!1===i?n=!1:wt(i)&&(n="leading"in i?i.leading:n,r="trailing"in i?i.trailing:r),G.leading=n,G.maxWait=e,G.trailing=r,Yt(t,e,G)},g.times=function(t,e,i){t=-1<(t=+t)?t:0;var n=-1,r=Zt(t);for(e=et(e,i,1);++n<t;)r[n]=e(n);return r},g.toArray=function(t){return t&&"number"==typeof t.length?Oe.unindexedChars&&St(t)?t.split(""):d(t):kt(t)},g.transform=function(t,e,i,n){var r=Re(t);if(null==i)if(r)i=[];else{var a=t&&t.constructor;i=tt(a&&a.prototype)}return e&&(e=g.createCallback(e,n,4),(r?Xe:Qe)(t,function(t,n,r){return e(i,t,n,r)})),i},g.union=function(){return ut(at(arguments,!0,!0))},g.uniq=zt,g.values=kt,g.where=Dt,g.without=function(t){return nt(t,d(arguments,1))},g.wrap=function(t,e){return ht(e,16,[t])},g.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var i=arguments[t];if(Re(i)||vt(i))var n=n?ut(nt(n,i).concat(nt(i,n))):i}return n||[]},g.zip=Vt,g.zipObject=Ht,g.collect=At,g.drop=Bt,g.each=Mt,g.eachRight=$t,g.extend=Ke,g.methods=bt,g.object=Ht,g.select=Dt,g.tail=Bt,g.unique=zt,g.unzip=Vt,Gt(g),g.clone=function(t,e,i,n){return"boolean"!=typeof e&&null!=e&&(n=i,i=e,e=!1),Z(t,e,"function"==typeof i&&et(i,n,1))},
g.cloneDeep=function(t,e,i){return Z(t,!0,"function"==typeof e&&et(e,i,1))},g.contains=It,g.escape=function(t){return null==t?"":se(t).replace(Ge,pt)},g.every=Tt,g.find=Ut,g.findIndex=function(t,e,i){var n=-1,r=t?t.length:0;for(e=g.createCallback(e,i,3);++n<r;)if(e(t[n],n,t))return n;return-1},g.findKey=function(t,e,i){var n;return e=g.createCallback(e,i,3),Qe(t,function(t,i,r){return e(t,i,r)?(n=i,!1):void 0}),n},g.findLast=function(t,e,i){var n;return e=g.createCallback(e,i,3),$t(t,function(t,i,r){return e(t,i,r)?(n=t,!1):void 0}),n},g.findLastIndex=function(t,e,i){var n=t?t.length:0;for(e=g.createCallback(e,i,3);n--;)if(e(t[n],n,t))return n;return-1},g.findLastKey=function(t,e,i){var n;return e=g.createCallback(e,i,3),yt(t,function(t,i,r){return e(t,i,r)?(n=i,!1):void 0}),n},g.has=function(t,e){return t?_e.call(t,e):!1},g.identity=qt,g.indexOf=Rt,g.isArguments=vt,g.isArray=Re,g.isBoolean=function(t){return!0===t||!1===t||t&&"object"==typeof t&&pe.call(t)==R||!1},g.isDate=function(t){return t&&"object"==typeof t&&pe.call(t)==B||!1},g.isElement=function(t){return t&&1===t.nodeType||!1},g.isEmpty=function(t){var e=!0;if(!t)return e;var i=pe.call(t),n=t.length;return i==N||i==Y||(Oe.argsClass?i==O:vt(t))||i==H&&"number"==typeof n&&xt(t.splice)?!n:(Qe(t,function(){return e=!1}),e)},g.isEqual=function(t,e,i,n){return st(t,e,"function"==typeof i&&et(i,n,2))},g.isFinite=function(t){return De(t)&&!Ue(parseFloat(t))},g.isFunction=xt,g.isNaN=function(t){return Ct(t)&&t!=+t},g.isNull=function(t){return null===t},g.isNumber=Ct,g.isObject=wt,g.isPlainObject=ti,g.isRegExp=function(t){return t&&J[typeof t]&&pe.call(t)==W||!1},g.isString=St,g.isUndefined=function(t){return"undefined"==typeof t},g.lastIndexOf=function(t,e,i){var n=t?t.length:0;for("number"==typeof i&&(n=(0>i?$e(0,n+i):Ae(i,n-1))+1);n--;)if(t[n]===e)return n;return-1},g.mixin=Gt,g.noConflict=function(){return i._=de,this},g.noop=Xt,g.now=ai,g.parseInt=si,g.random=function(t,e,i){var n=null==t,r=null==e;return null==i&&("boolean"==typeof t&&r?(i=t,t=1):r||"boolean"!=typeof e||(i=e,r=!0)),n&&r&&(e=1),t=+t||0,r?(e=t,t=0):e=+e||0,i||t%1||e%1?(i=Fe(),Ae(t+i*(e-t+parseFloat("1e-"+((i+"").length-1))),e)):lt(t,e)},g.reduce=Ft,g.reduceRight=Pt,g.result=function(t,e){if(t){var i=t[e];return xt(i)?t[e]():i}},g.runInContext=p,g.size=function(t){var e=t?t.length:0;return"number"==typeof e?e:je(t).length},g.some=Ot,g.sortedIndex=jt,g.template=function(t,e,i){var n=g.templateSettings;t=se(t||""),i=Je({},i,n);var r,a=Je({},i.imports,n.imports),n=je(a),a=kt(a),o=0,l=i.interpolate||A,u="__p+='",l=ae((i.escape||A).source+"|"+l.source+"|"+(l===M?T:A).source+"|"+(i.evaluate||A).source+"|$","g");t.replace(l,function(e,i,n,a,l,c){return n||(n=a),u+=t.slice(o,c).replace(F,s),i&&(u+="'+__e("+i+")+'"),l&&(r=!0,u+="';"+l+";\n__p+='"),n&&(u+="'+((__t=("+n+"))==null?'':__t)+'"),o=c+e.length,e}),u+="';",l=i=i.variable,l||(i="obj",u="with("+i+"){"+u+"}"),u=(r?u.replace(C,""):u).replace(S,"$1").replace(I,"$1;"),u="function("+i+"){"+(l?"":i+"||("+i+"={});")+"var __t,__p='',__e=_.escape"+(r?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+u+"return __p}";try{var c=ee(n,"return "+u).apply(f,a)}catch(h){throw h.source=u,h}return e?c(e):(c.source=u,c)},g.unescape=function(t){return null==t?"":se(t).replace(qe,mt)},g.uniqueId=function(t){var e=++v;return se(null==t?"":t)+e},g.all=Tt,g.any=Ot,g.detect=Ut,g.findWhere=Ut,g.foldl=Ft,g.foldr=Pt,g.include=It,g.inject=Ft,Gt(function(){var t={};return Qe(g,function(e,i){g.prototype[i]||(t[i]=e)}),t}(),!1),g.first=Nt,g.last=function(t,e,i){var n=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var a=r;for(e=g.createCallback(e,i,3);a--&&e(t[a],a,t);)n++}else if(n=e,null==n||i)return t?t[r-1]:f;return d(t,$e(0,r-n))},g.sample=function(t,e,i){return t&&"number"!=typeof t.length?t=kt(t):Oe.unindexedChars&&St(t)&&(t=t.split("")),null==e||i?t?t[lt(0,t.length-1)]:f:(t=Lt(t),t.length=Ae($e(0,e),t.length),t)},g.take=Nt,g.head=Nt,Qe(g,function(t,e){var i="sample"!==e;g.prototype[e]||(g.prototype[e]=function(e,n){var r=this.__chain__,a=t(this.__wrapped__,e,n);return r||null!=e&&(!n||i&&"function"==typeof e)?new m(a,r):a})}),g.VERSION="2.4.0",g.prototype.chain=function(){return this.__chain__=!0,this},g.prototype.toString=function(){return se(this.__wrapped__)},g.prototype.value=Jt,g.prototype.valueOf=Jt,Xe(["join","pop","shift"],function(t){var e=le[t];g.prototype[t]=function(){var t=this.__chain__,i=e.apply(this.__wrapped__,arguments);return t?new m(i,t):i}}),Xe(["push","reverse","sort","unshift"],function(t){var e=le[t];g.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Xe(["concat","slice","splice"],function(t){var e=le[t];g.prototype[t]=function(){return new m(e.apply(this.__wrapped__,arguments),this.__chain__)}}),Oe.spliceObjects||Xe(["pop","shift","splice"],function(t){var e=le[t],i="splice"==t;g.prototype[t]=function(){var t=this.__chain__,n=this.__wrapped__,r=e.apply(n,arguments);return 0===n.length&&delete n[0],t||i?new m(r,t):r}}),g}var f,g=[],m=[],v=0,y={},b=+new Date+"",_=75,x=40,w=" 	\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",C=/\b__p\+='';/g,S=/\b(__p\+=)''\+/g,I=/(__e\(.*?\)|\b__t\))\+'';/g,T=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,D=/\w*$/,U=/^\s*function[ \n\r\t]+\w/,M=/<%=([\s\S]+?)%>/g,$=RegExp("^["+w+"]*0+(?=.$)"),A=/($^)/,E=/\bthis\b/,F=/['\n\r\t\u2028\u2029\\]/g,P="Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),O="[object Arguments]",N="[object Array]",R="[object Boolean]",B="[object Date]",j="[object Error]",z="[object Function]",V="[object Number]",H="[object Object]",W="[object RegExp]",Y="[object String]",q={};q[z]=!1,q[O]=q[N]=q[R]=q[B]=q[V]=q[H]=q[W]=q[Y]=!0;var G={leading:!1,maxWait:0,trailing:!1},X={configurable:!1,enumerable:!1,value:null,writable:!1},K={a:"",b:null,c:"",d:"",e:"",v:null,g:"",h:null,support:null,i:"",j:!1},J={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},Q=J[typeof window]&&window||this,tt=J[typeof exports]&&exports&&!exports.nodeType&&exports,et=J[typeof module]&&module&&!module.nodeType&&module,it=et&&et.exports===tt&&tt,nt=J[typeof global]&&global;!nt||nt.global!==nt&&nt.window!==nt||(Q=nt);var rt=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Q._=rt,define(function(){return rt})):tt&&et?it?(et.exports=rt)._=rt:tt._=rt:Q._=rt}.call(this),function(){var t;this.SopUI.Collection=function(){function t(t){return void 0===t?void Logger.error("Error: A type must be specified"):(this.length=0,this.collectionKlass=t,this.watchers=[],void(this.events={}))}return t}(),this.SopUI.Collection.prototype.castItem=function(t){return t instanceof this.collectionKlass==!1?new this.collectionKlass(t):t},this.SopUI.Collection.prototype.on=function(t,e){var i;return null==(i=this.events)[t]&&(i[t]=[]),this.events[t].push(e)},this.SopUI.Collection.prototype.addWithoutEvent=function(t,e,i){return null==i&&(i=!0),t=this.castItem(t),t.on("change",function(t){return function(){return t.alertWatchers(e)}}(this)),Array.prototype.push.call(this,t),this._resetModelIndexes(),i?this.alertWatchers(e):void 0},this.SopUI.Collection.prototype.setValue=function(t,e,i){var n,r,a,s,o,l,u,c;for(null==i&&(i=!0),n=this.length||0,u=t.length,c=u>n?n:u,a=void 0===e,a&&(e=new SopUI.EventDeferrer),r=!1,s=0;c>s;)o=t[s],this[s].setAttributes(o,r,e,i),s++;for(s=u;n>s;)this.removeAtIndex(u,e,i),s++;for(s=n;u>s;)o=t[s],l=new this.collectionKlass,l.setAttributes(o,r,e,i),this.add(l,e,i),s++;return this._resetModelIndexes(),a?e.fireEvents():void 0},this.SopUI.Collection.prototype.setAttributes=this.SopUI.Collection.prototype.setValue,this.SopUI.Collection.prototype.add=function(t,e,i){return null==i&&(i=!0),this.addWithoutEvent(t,e,i),this.alertEvents("add",t,this.length,e)},this.SopUI.Collection.prototype.removeAtIndexWithoutEvent=function(t,e,i){var n;return null==i&&(i=!0),n=this[t],n?(Array.prototype.splice.call(this,t,1),i&&this.alertWatchers(e),this._resetModelIndexes(),n):void 0},this.SopUI.Collection.prototype.removeAtIndex=function(t,e,i){var n;return null==i&&(i=!0),n=this.removeAtIndexWithoutEvent(t,e,i),n?this.alertEvents("remove",n,t,e):void 0},this.SopUI.Collection.prototype.removeWithoutEvent=function(t,e,i){var n;return null==i&&(i=!0),n=_.findIndex(this,t),-1!==n?(this.removeAtIndexWithoutEvent(n,e,i),this._resetModelIndexes(),n):void 0},this.SopUI.Collection.prototype.remove=function(t,e,i){var n;return null==i&&(i=!0),n=this.removeWithoutEvent(t,e,i),void 0!==n?this.alertEvents("remove",t,n,e):void 0},this.SopUI.Collection.prototype.alertEvents=function(t,e,i,n){var r,a,s;for(a=this.events[t]||[],s=0;s<a.length;)r=a[s],n?n.defer(function(){r(e,i)}):r(e,i),s++},this.SopUI.Collection.prototype.watch=function(t){return this.watchers.push(t)},this.SopUI.Collection.prototype.alertWatchers=function(t){var e,i;for(e=0;e<this.watchers.length;)i=this.watchers[e],t?t.defer(function(){i()}):i(),e++},this.SopUI.Collection.prototype.toPlainObject=function(t){return null==t&&(t={}),this.length?_.map(this,function(e){return e.toPlainObject?e.toPlainObject(t):e}):[]},this.SopUI.Collection.prototype._resetModelIndexes=function(){return this.each(function(t,e){return t._index(e,!1,void 0,!1)})},t=["forEach","each","map","at","all","any","find","detect","every","filter","inject","reduce","invoke","reject","select","some"],_.forEach(t,function(t){SopUI.Collection.prototype[t]=function(){var e;return e=Array.prototype.slice.call(arguments),e.unshift(this),_[t].apply(_,e)}})}.call(this),function(){var t=[].slice;this.SopUI.CollectionViewController=function(e,i){var n,r,a;return a=new SopUI.ControllerConstructor("CollectionViewController",e,i),n=function(e){var i,r,s,o;return Logger.groupCollapsed("CollectionViewController init"),s=this,o={instance:s,constructor:{name:a.klassName}},SopUI.controllers.push(o),"string"==typeof e&&(e=_ui(e)),this.klass=n,this.klassName=a.klassName,this.context=e,this.collectionKlass=this.klass.models.model,i=new SopUI.Collection(this.collectionKlass),this.collection=function(){return i},this.setupModelWatchers=function(t){return _.forEach(this.klass.modelwatchers,function(e,i){return _.forEach(e,function(e,i){return _.forEach(e,function(e){return t.watch(i,function(t){var n;return n={index:this._index(),item:this,target:i},e.call(s,t,n)})})})})},this.setupUIEvents=function(e){return null==e&&(e=s.context),_.forEach(this.klass.uievents,function(i,n){var r;return r=_ui(n,$(e)),_.forEach(i,function(i,n){return _.forEach(r,function(r,a){return _.forEach(i,function(i){return $(r).on(n,function(){var n,r,a;return n=1<=arguments.length?t.call(arguments,0):[],a=n.shift(),r={index:s.context[0].collectionTargets().index(e),item:e,target:this},i.call(s,a,n,r)})})})})})},r=this.context,r instanceof UIComponent||(r=_ui(this.context)[0]),void 0===r?void Logger.warn("Couldn't find ui component: "+this.context):(this.$component=$(r),this.$component.on("recordAdded",function(t){return function(e,i){var n;return n=new t.collectionKlass,t.setupModelWatchers(n),t.setupUIEvents(i),new SopUI.CollectionConnectionWirer(s,n,$(i)).wire(),t.collection().addWithoutEvent(n)}}(this)),this.$component.on("recordRemoved",function(t){return function(e,i,n){return t.collection().removeAtIndexWithoutEvent(n)}}(this)),this.collection().on("add",function(t){return function(e){var i,n;return i=e.toPlainObject(),n=r.addRecord(i),t.setupModelWatchers(e),t.setupUIEvents(n),new SopUI.CollectionConnectionWirer(s,e,$(n)).wire(e)}}(this)),this.collection().on("remove",function(t,e){return r.removeRecordAtIndex(e)}),_.forEach(r.collectionTargets(),function(t){return function(e,i){var n;return n=new t.collectionKlass,t.setupModelWatchers(n),t.setupUIEvents(e),new SopUI.CollectionConnectionWirer(s,n,$(e)).wire(),t.collection().addWithoutEvent(n)}}(this)),this.ownView=function(){return this.context instanceof UnderscoreUI?this.context[0]:this.context},this._ui=function(t){return _ui(t,this.context)},"function"==typeof this.ready&&this.ready(),Logger.info("CollectionViewController Initialised",o),void Logger.groupEnd())},r=new SopUI.Definers.CollectionViewController(n),a.block(r),n}}.call(this),function(){var t=[].slice;this.SopUI.Definers.BaseController=function(){function t(t){this.klass=t,this.klass.connections={},this.klass.models={},this.klass.uievents={},this.klass.modelwatchers={},this.klass.uiEventHandlers=function(t,e){var i;return null==(i=this.uievents)[t]&&(i[t]={}),this.uievents[t][e]=[],this.uievents[t][e]},this.klass.modelWatchers=function(t,e){var i;return null==(i=this.modelwatchers)[t]&&(i[t]={}),this.modelwatchers[t][e]=[],this.modelwatchers[t][e]}}return t}(),this.SopUI.Definers.BaseController.prototype.ready=function(t){return this.klass.prototype.ready=t},this.SopUI.Definers.BaseController.prototype.def=function(t,e){return this.klass.prototype[t]=e},this.SopUI.Definers.BaseController.prototype.connect=function(){var e,i;return e=1<=arguments.length?t.call(arguments,0):[],i=_.first(e),this.klass.connections[i]=e},this.SopUI.Definers.BaseController.prototype.watch=function(t,e){return t=t.split(","),_.forEach(t,function(t){return function(i){var n,r,a,s;return n=i.trim(),n=n.split(":"),a=n[0],i=n[1],r=n[2],s="watch_"+a,t[s]?t[s](i,r,e):t.watchModel(i,a,e)}}(this))},this.SopUI.Definers.BaseController.prototype.watch_ui=function(t,e,i){return this.klass.uiEventHandlers(t,e).push(i)},this.SopUI.Definers.BaseController.prototype.watchModel=function(t,e,i){return this.klass.modelWatchers(e,t).push(i)}}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;this.SopUI.Definers.CollectionViewController=function(e){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,e),i}(this.SopUI.Definers.BaseController),this.SopUI.Definers.CollectionViewController.prototype.model=function(t){return this.klass.models.model=t}}.call(this),function(){this.SopUI.Definers.Model=function(){function t(t){this.klass=t,t.collections={},t.associations={},t.watchers={},t.collectionWatchers={},t.associationWatchers={},t.isCollection=function(t){return void 0!==this.collections[t]},t.isAssocation=function(t){return void 0!==this.associations[t]},t.populateFallbackAttributes=function(t){var e,i,n;for(e in this.collections)void 0===t.attributes[e]&&(n=this.collections[e],t[e](new SopUI.Collection(n)));i=[];for(e in this.associations)void 0===t.attributes[e]?(n=this.associations[e],i.push(t[e](new n))):i.push(void 0);return i},t.hasValueChanged=function(t,e,i){return i&&(t=new i(t).toString(),e=new i(e).toString()),t!=e},this.property=function(e,i){return t.prototype[e]=function(n,r,a,s){var o,l,u,c;return null==r&&(r=!0),null==s&&(s=!0),o=this.attributes[e],u=o instanceof Array,c=void 0!==n,l=t.hasValueChanged(o,n,i),(c&&l||u)&&(this.attributes[e]=n,s&&this.alertWatchers(e,n,a),r&&this.fireEvent("change")),!i||this.attributes[e]instanceof i||(this.attributes[e]=new i(this.attributes[e])),this.attributes[e]}},this.property("_index"),this.hasMany=this.collection=function(e,i){return t.collections[e]=i||!0,t.prototype[e]=function(i){var n,r;return n=this,i&&(this.attributes[e]=i,r=t.collWatchers(e),_.forEach(r,function(t,e){i.watch(function(){return t.call(n)})})),this.attributes[e]}},this.has_many=function(t){return function(e,i){return Logger.warn("Deprecation: use hasMany instead"),t.hasMany(e,i)}}(this),this.hasOne=function(e,i){return t.associations[e]=i||!0,t.prototype[e]=function(i){var n,r;return n=this,i&&(this.attributes[e]=i,r=t.assocWatchers(e),_.forEach(r,function(t,e){i.on("change",function(){return t.call(n)})})),this.attributes[e]}},this.has_one=function(t){return function(e,i){return Logger.warn("Deprecation: use hasOne instead"),t.hasOne(e,i)}}(this),this.watch=function(e,i){var n;return n=e.split(","),_.forEach(n,function(e){var n;n=e.trim(),t.isCollection(n)?t.collWatchers(n).push(i):t.isAssocation(n)?t.assocWatchers(n).push(i):t.attrWatchers(n).push(i)})},this.def=function(e,i){return t.prototype[e]=i}}return t}()}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty,i=[].slice;this.SopUI.Definers.ViewController=function(e){function i(t){i.__super__.constructor.call(this,t),this.klass.subviews={}}return t(i,e),i}(this.SopUI.Definers.BaseController),this.SopUI.Definers.ViewController.prototype.model=function(t,e){return null==e&&(e="model"),this.klass.models[e]=t},this.SopUI.Definers.ViewController.prototype.subview=function(){var t,e,n,r;return t=1<=arguments.length?i.call(arguments,0):[],e=t.shift(),"string"==typeof t[0]&&(r=t.shift(),n=new SopUI.UIStringParser(r),t.unshift(n.selector)),this.klass.subviews[e]=t}}.call(this),function(){this.SopUI.Model=function(t){var e,i;return i=function(t){t instanceof i&&(t=t.attributes),this.toPlainObject=function(e){return null==e&&(e={}),t={},_.forEach(this.attributes,function(i,n){(e.includeIndex||"_index"!==n)&&(i.toPlainObject?t[n]=i.toPlainObject(e):t[n]=i)}),t},this.clear=function(){var t;for(t in this.attributes)this.attributes[t]=void 0;return this.attributes},this.clone=function(){return new i(this.attributes)},this.attributes={},this.setAttributes=function(t,e,n,r){var a;return null==r&&(r=!0),a=void 0===n,a&&(n=new SopUI.EventDeferrer),_.forEach(t,function(t){return function(a,s){return t[s]?i.isAssocation(s)?void t[s]().setAttributes(a,e,n,r):i.isCollection(s)?void t[s]().setAttributes(a,n,r):void t[s](a,e,n,r):void 0}}(this)),a?n.fireEvents():void 0},this.watchers={},this.events={},this.on=function(t,e){return this.handlersForEvent(t).push(e)},this.handlersForEvent=function(t){var e;return null==(e=this.events)[t]&&(e[t]=[]),this.events[t]},this.fireEvent=function(t){var e;return e=this.handlersForEvent(t),_.forEach(e,function(t){t()})},$.extend(this.attributes,t||{}),i.populateFallbackAttributes(this)},i.collection_types={},SopUI.Model.buildWatchMethods(i),e=new SopUI.Definers.Model(i),t(e),i},SopUI.Model.buildWatchMethods=function(t){return t.prototype.attrWatchers=function(t){var e;return null==(e=this.watchers)[t]&&(e[t]=[]),this.watchers[t]},t.attrWatchers=function(t){var e;return null==(e=this.watchers)[t]&&(e[t]=[]),this.watchers[t]},t.collWatchers=function(t){var e;return null==(e=this.collectionWatchers)[t]&&(e[t]=[]),this.collectionWatchers[t]},t.assocWatchers=function(t){var e;return null==(e=this.associationWatchers)[t]&&(e[t]=[]),this.associationWatchers[t]},t.prototype.watch=function(e,i){var n;return n=e.split(","),_.forEach(n,function(e){return function(n){var r,a,s;a=n.trim(),t.isCollection(a)?(s=e.attributes[a],s.watch(i)):t.isAssocation(a)?(r=e.attributes[a],r.on("change",function(){return i.call(r)})):e.attrWatchers(a).push(i)}}(this))},t.prototype.alertWatchers=function(e,i,n){var r,a,s,o,l;for(l=t.attrWatchers(e).concat(this.attrWatchers(e)),r=function(t){return function(e){return n?n.defer(function(){return e.call(t,i)}):e.call(t,i)}}(this),a=0,s=l.length;s>a;a++)o=l[a],r(o)}}}.call(this),function(){this.SopUI.Module=function(t,e){var i,n,r,a,s;for(r=window,s=t.split("."),i=0,n=s.length;n>i;i++)a=s[i],r[a]=r[a]||{},r=r[a];return e.apply(r,[r])}}.call(this),function(){this.SopUI.Outlets.Controller=function(){function t(t){this.target=t}return t.prototype.getValue=function(t){return this.isCollection()?this.target.collection():this.target[t]?this.target[t]():this.target.model()},t.prototype.setValue=function(t){return this.isCollection()?this.target.collection().setAttributes(t):this.target.model(t)},t.prototype.isCollection=function(){return this.target.collection},t.prototype.applyTo=function(t,e){var i,n;return i=this.getValue(e),n=t[e](),t[e](i)},t}()}.call(this),function(){this.SopUI.Outlets.Model=function(){function t(t,e){this.target=t,this.attr=e}return t.prototype.getValue=function(){return this.target[this.attr]()},t.prototype.setValue=function(t){return this.target[this.attr](t)},t.prototype.applyTo=function(t){var e;if(this!==t)return e=this.getValue(),e&&t.setValue(e),t.watch(this,this.setValue)},t.prototype.watch=function(t,e){return this.target.watch(this.attr,function(i){return e.call(t,i)})},t}()}.call(this),function(){this.SopUI.Outlets.UI=function(){function t(t,e){this.target=t,this.attr=e}return t.prototype.getValue=function(){return this.target.getValue()},t.prototype.setValue=function(t){return this.target.setValue(t)},t.prototype.applyTo=function(t){var e;if(this!==t)return e=this.getValue(),e&&t.setValue(e),t.watch(this,this.setValue)},t.prototype.watch=function(t,e){return $(this.target).on("valueChanged",function(i){return function(){return e.call(t,i.getValue())}}(this))},t}()}.call(this),function(){var t=[].slice;this.SopUI.PageController=function(e,i){var n,r,a;return r=new SopUI.ControllerConstructor("PageController",e,i),a=function(e){var i,n,s;Logger.groupCollapsed("PageController init"),i=[],n=this,s={instance:n,constructor:{name:r.klassName}},SopUI.controllers.push(s),this.klass=a,this.klassName=r.klassName,this.subviews=function(){return i},this.context=e,this.childViewController=function(t){return _.find(this.subviews(),function(e){return e.context===t})},this._ui=function(t){return function(e){return _ui(e,t.context)}}(this),Logger.groupCollapsed("Page Controller: Subview init",_.keys(this.klass.subviews).length),_.forEach(this.klass.subviews,function(t){return function(e,r){var a,s;return s=e[0],a=new SopUI.UIStringParser(r),_.forEach(_ui(a.selector,t.context),function(t){var e,r;if(t.render!==!1)return e=new s(t),r={instance:e,constructor:{name:e.klassName}},Logger.info("Initialised Subview:",r),e.superView=n,i.push(e)})}}(this)),Logger.groupEnd(),_.forEach(this.klass.uievents,function(e,i){var r;return r=_ui(i,n.context),_.forEach(e,function(e,i){return _.forEach(r,function(r,a){return _.forEach(e,function(e){return $(r).on(i,function(){var i,r;return i=1<=arguments.length?t.call(arguments,0):[],r=i.shift(),e.call(n,r,i)})})})})}),"function"==typeof this.ready&&this.ready(),Logger.info("PageController Initialised",s),Logger.groupEnd()},n=new SopUI.Definers.ViewController(a),r.block(n),a}}.call(this),function(){var t;t={index:"/:resource","new":"/:resource/new",show:"/:resource/:id",edit:"/:resource/:id/edit"},this.SopUI.Routeset=function(){function e(){var e,i,n;n={},this.matchUrl=function(t){return null==n[t]&&(n[t]=[]),n[t]},this.fetchMatches=function(t){var e,i,r;e=[];for(i in n)r=new RegExp(i),t.match(r)&&(e=e.concat(n[i]));return e},this.escapeStr=function(t){var e;return e=new RegExp("/","g"),t="^"+t+"$",t=t.replace(e,"\\$&")},this.map=function(t,i){return t=e(t),t=this.escapeStr(t),this.matchUrl(t).push(i)},this.resources=function(e,n,r){var a;return a=t,e=e.split(","),r&&(a=_.filter(a,function(t,e){return _.contains(r,e)})),_.forEach(e,function(t){return function(e){return e=e.trim(),_.forEach(a,function(r){return r=i(r,e),t.map(r,n)})}}(this))},e=function(t){var e,i;return e=/(:[a-zA-Z_]+)/g,i="\\d+",t=t.replace(e,i)},i=function(t,e){var i;return i=":resource",t=t.replace(i,e)}}return e}(),this.SopUI.Router=function(){var t;return t=new SopUI.Routeset,{draw:function(e){return e(t)},start:function(e){var i;return i=t.fetchMatches(e),Logger.groupCollapsed("Starting Router",e),Logger.info("Matching routes found:",i.length),_.forEach(i,function(t){return new t}),Logger.groupEnd()}}}()}.call(this),function(){SopUI.HttpService=function(){function t(t,e){this.endpoint=t,this.timeout=null!=e?e:300}return t.prototype.withTimeout=function(t,e){return this.constructor.timeout=setTimeout(e,t)},t.prototype.get=function(t,e){var i;return i=this.generateOpts("GET",t,e),this.ajax(i)},t.prototype.post=function(t,e){var i;return i=this.generateOpts("POST",t,e),this.ajax(i)},t.prototype.put=function(t,e){var i;return i=this.generateOpts("PUT",t,e),this.ajax(i)},t.prototype["delete"]=function(t,e){var i;return i=this.generateOpts("DELETE",t,e),this.ajax(i)},t.prototype.deferredGet=function(t,e){return this.cancelDeferred(),this.constructor.deferred=new $.Deferred,this.withTimeout(this.timeout,function(i){return function(){return i.get(t,e).done(function(t,e,n){return i.constructor.deferred.resolve(t,e,n)})}}(this)),this.constructor.deferred},t.prototype.deferredPost=function(t,e){return this.cancelDeferred(),this.constructor.deferred=new $.Deferred,this.withTimeout(this.timeout,function(i){return function(){return i.post(t,e).done(function(t,e,n){return i.constructor.deferred.resolve(t,e,n)})}}(this)),this.constructor.deferred},t.prototype.cancelDeferred=function(){return this.constructor.timeout?(clearTimeout(this.constructor.timeout),this.constructor.deferred.reject()):void 0},t.prototype.generateOpts=function(t,e,i){var n;return null==t&&(t="GET"),n={type:t,url:this.generateUrl(e),data:i}},t.prototype.ajax=function(t){return $.ajax(t)},t.prototype.generateUrl=function(t){return _.compact([this.endpoint,t]).join("/")},t}()}.call(this),function(){var t=function(t,i){function n(){this.constructor=t}for(var r in i)e.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t},e={}.hasOwnProperty;SopUI.ModelService=function(e){function i(t,e){this.modelInstance=t,this.endpoint=e,i.__super__.constructor.call(this,this.endpoint)}return t(i,e),i.prototype.model=function(){return this.modelInstance},i.prototype.modelData=function(){return this.model().toPlainObject()},i.prototype.put=function(t,e){return e||(e=this.model().toPlainObject()),i.__super__.put.call(this,t,e).done(function(t){return function(e){return t.modelInstance.setAttributes(e)}}(this))},i.prototype.get=function(t,e){return e||(e=this.model().toPlainObject()),i.__super__.get.call(this,t,e).done(function(t){return function(e){return t.modelInstance.setAttributes(e)}}(this))},i.prototype.post=function(t,e){return e||(e=this.model().toPlainObject()),i.__super__.post.call(this,t,e).done(function(t){return function(e){return t.modelInstance.setAttributes(e)}}(this))},i.prototype["delete"]=function(t,e){return e||(e=this.model().toPlainObject()),i.__super__["delete"].call(this,t,e).done(function(t){return function(e){return t.modelInstance.setAttributes(e)}}(this))},i}(SopUI.HttpService)}.call(this),function(){var t,e;this.bigData=function(t){return new BigData(t)},this.BigData=function(){function i(n){return n instanceof i?n:(e(n)&&(n=t(n)),void(this._data=n||{}))}return i}(),this.BigData.prototype.toString=function(){return JSON.stringify(this._data)},this.BigData.prototype.toPlainObject=function(){return this._data},e=function(t){return t&&"string"==typeof t},t=function(t){var e;try{return JSON.parse(t)}catch(i){return e=i,{}}}}.call(this),function(){var t=[].slice;this.SopUI.ControllerConstructor=function(){function e(){var e,i;i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],this.klassName=i,"string"==typeof e[0]&&(this.klassName=e.shift()),this.block=e.shift()||function(){}}return e}()}.call(this),function(){this.SopUI.EventDeferrer=function(){function t(){this.deferred=[]}return t.prototype.defer=function(t){this.deferred.push(t)},t.prototype.fireEvents=function(){_.forEach(this.deferred,function(t){t()})},t}()}.call(this),function(){this.SopUI.UIStringParser=function(){function t(t){var e;e=t.split(":"),this.selector=e.length>1?e[1]:e[0]}return t}()}.call(this),function(){var t=[].slice;this.SopUI.ViewController=function(e,i){var n,r,a;return r=new SopUI.ControllerConstructor("ViewController",e,i),a=function(e){var i,n;Logger.groupCollapsed("ViewController init"),i=this,n={instance:i,constructor:{name:r.klassName}},SopUI.controllers.push(n),"string"==typeof e&&(e=_ui(e)),this.klass=a,this.klassName=r.klassName,this.modelInstances={},this.subviews={},this.context=e,_.forEach(this.klass.models,function(t,e){var n;return n=new t,i.modelInstances[e]=n,i[e]=function(){return i.modelInstances[e]}}),new SopUI.ConnectionWirer(i,this.modelInstances,this.context).wire(),_.forEach(this.klass.uievents,function(e,n){var r;return r=_ui(n,i.context),_.forEach(e,function(e,n){return _.forEach(r,function(r,a){return _.forEach(e,function(e){return $(r).on(n,function(){var n,r;return n=1<=arguments.length?t.call(arguments,0):[],r=n.shift(),e.call(i,r,n)})})})})}),Logger.groupCollapsed("View Controller: Subview init",_.keys(this.klass.subviews).length),_.forEach(this.klass.subviews,function(t,e){var n,r,a,s,o,l,u,c,h,d;if(n=t[1],d=t[0],h=_ui(d,i.context),h[0]&&null!=h[0].render){if(!h[0].render)return;h=h[0].context}u=new n(h),c={instance:u,constructor:{name:u.klassName}},Logger.info("Initialised Subview:",c),i.subviews[e]=u,u.superView=i,o=e.split(":"),a=o[0],l=o[1],r=i[a](),s=new SopUI.Outlets.Controller(u),s.applyTo(r,l)}),_.forEach(this.klass.modelwatchers,function(t,e){var n;return n=i[e](),_.forEach(t,function(t,e){return _.forEach(t,function(t){return n.watch(e,function(e){return t.call(i,e)})})})}),Logger.groupEnd(),this.childViewController=function(t){return _.find(this.subviews,function(e){return _.isEqual(e.context,t)})},this.ownView=function(){return this.context instanceof UnderscoreUI?this.context[0]:this.context},this._ui=function(t){return _ui(t,this.context)},"function"==typeof this.ready&&this.ready(),Logger.info("ViewController Initialised",n),Logger.groupEnd()},n=new SopUI.Definers.ViewController(a),r.block(n),a}}.call(this),function(){this.SopUI.CollectionConnectionWirer=function(){function t(t,e,i){this.controller=t,this.klass=this.controller.klass,this.model=e,this.$item=i}return t}(),this.SopUI.CollectionConnectionWirer.prototype.wire=function(t){var e;return e=this,_.forEach(this.klass.connections,function(i,n){return e.setupConnection(n,i,t)})},this.SopUI.CollectionConnectionWirer.prototype.setupConnection=function(t,e,i){var n,r;return r=void 0,n=this,e=_.map(e,function(t){return n.locateConnection(t)}),i&&_.forEach(e,function(t,e){t.target===i&&(r=t)}),_.forEach(e,function(t,i){return _.forEach(e,function(e,i){var n;return t!==e?r?(n=r.getValue(),n&&e.setValue(n),e.watch(t,t.setValue)):t.applyTo(e):void 0})})},this.SopUI.CollectionConnectionWirer.prototype.locateConnection=function(t){var e,i,n;return e=t.split(":"),n=e[0],i=e[1],"ui"===n?this.uiLocate(i):this.modelLocate(i)},this.SopUI.CollectionConnectionWirer.prototype.modelLocate=function(t){return new SopUI.Outlets.Model(this.model,t)},this.SopUI.CollectionConnectionWirer.prototype.uiLocate=function(t){var e;return e=_ui(t,this.$item)[0],void 0===e?void Logger.warn("Couldn't find ui component: "+t):new SopUI.Outlets.UI(e,"tbc")}}.call(this),function(){this.SopUI.ConnectionWirer=function(){function t(t,e,i){this.controller=t,this.klass=this.controller.klass,this.models=e,this.context=i}return t}(),this.SopUI.ConnectionWirer.prototype.wire=function(){var t;return t=this,_.forEach(this.klass.connections,function(e,i){return t.setupConnection(i,e)})},this.SopUI.ConnectionWirer.prototype.setupConnection=function(t,e){var i;return i=this,e=_.map(e,function(t){return i.locateConnection(t)}),_.forEach(e,function(t,i){return _.forEach(e,function(e,i){return t.applyTo(e)})})},this.SopUI.ConnectionWirer.prototype.locateConnection=function(t){var e,i,n;return e=t.split(":"),n=e[0],i=e[1],"ui"===n?this.uiLocate(i):this.modelLocate(n,i)},this.SopUI.ConnectionWirer.prototype.modelLocate=function(t,e){return new SopUI.Outlets.Model(this.models[t],e)},this.SopUI.ConnectionWirer.prototype.uiLocate=function(t){var e;return e=_ui(t,this.context)[0],void 0===e?void Logger.warn("Couldn't find ui component: "+t):new SopUI.Outlets.UI(e,t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/grid_tooltip"]=Mustache.compile('<div class="grid-tooltip-wrapper">\n  <div class="grid-tooltip">\n    <div class="tooltip-header">{{ header }}</div>\n    {{ #content }}\n      {{.}}</br>\n    {{ /content }}\n  </div>\n</div>\n'),Mustache.compilePartial("templates/grid_tooltip",'<div class="grid-tooltip-wrapper">\n  <div class="grid-tooltip">\n    <div class="tooltip-header">{{ header }}</div>\n    {{ #content }}\n      {{.}}</br>\n    {{ /content }}\n  </div>\n</div>\n'),this.SMT["templates/grid_tooltip"]=function(t){return t||(t={}),SMTCache["templates/grid_tooltip"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),
this.SMTCache["templates/inline_message"]=Mustache.compile('<span class="{{type}} {{type}}Message" title="{{message}}">{{message}}</span>\n'),Mustache.compilePartial("templates/inline_message",'<span class="{{type}} {{type}}Message" title="{{message}}">{{message}}</span>\n'),this.SMT["templates/inline_message"]=function(t){return t||(t={}),SMTCache["templates/inline_message"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/inline_message_icon"]=Mustache.compile('<i class="icon-{{type}}" />\n'),Mustache.compilePartial("templates/inline_message_icon",'<i class="icon-{{type}}" />\n'),this.SMT["templates/inline_message_icon"]=function(t){return t||(t={}),SMTCache["templates/inline_message_icon"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/popup_example_view"]=Mustache.compile("<ul>\n  <li>Name: {{name}}</li>\n  <li>Amount: {{amount}}</li>\n  <li>Date: {{date}}</li>\n</ul>\n"),Mustache.compilePartial("templates/popup_example_view","<ul>\n  <li>Name: {{name}}</li>\n  <li>Amount: {{amount}}</li>\n  <li>Date: {{date}}</li>\n</ul>\n"),this.SMT["templates/popup_example_view"]=function(t){return t||(t={}),SMTCache["templates/popup_example_view"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/textarea_limit"]=Mustache.compile('{{limit_prefix}}<span class="limit-used">{{limit_used}}</span>{{limit_middle}}<span class="limit-max">{{limit_max}}</span>{{limit_suffix}}\n'),Mustache.compilePartial("templates/textarea_limit",'{{limit_prefix}}<span class="limit-used">{{limit_used}}</span>{{limit_middle}}<span class="limit-max">{{limit_max}}</span>{{limit_suffix}}\n'),this.SMT["templates/textarea_limit"]=function(t){return t||(t={}),SMTCache["templates/textarea_limit"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/textarea_limit_remaining"]=Mustache.compile('<span class="limit-used">{{limit_chars_remaining}}</span>{{limit_remaining}}\n'),Mustache.compilePartial("templates/textarea_limit_remaining",'<span class="limit-used">{{limit_chars_remaining}}</span>{{limit_remaining}}\n'),this.SMT["templates/textarea_limit_remaining"]=function(t){return t||(t={}),SMTCache["templates/textarea_limit_remaining"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_dialog"]=Mustache.compile('<div class="UIDialog medium hidden modal" data-tag="{{tag}}" data-ui-widget="UIDialog">\n  <h1 class="title">{{{title}}}</h1>\n  <p class="description">{{{description}}}</p>\n  <button class="close icon-close"></button>\n</div>\n'),Mustache.compilePartial("templates/ui_dialog",'<div class="UIDialog medium hidden modal" data-tag="{{tag}}" data-ui-widget="UIDialog">\n  <h1 class="title">{{{title}}}</h1>\n  <p class="description">{{{description}}}</p>\n  <button class="close icon-close"></button>\n</div>\n'),this.SMT["templates/ui_dialog"]=function(t){return t||(t={}),SMTCache["templates/ui_dialog"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_dropdown_options"]=Mustache.compile('{{#results}}\n  {{#prompt}}\n    <option value="{{value}}">{{text}}</option>\n  {{/prompt}}\n  {{#options}}\n    <option value="{{value}}" {{#selected}}selected="selected"{{/selected}}>{{text}}</option>\n  {{/options}}\n{{/results}}\n'),Mustache.compilePartial("templates/ui_dropdown_options",'{{#results}}\n  {{#prompt}}\n    <option value="{{value}}">{{text}}</option>\n  {{/prompt}}\n  {{#options}}\n    <option value="{{value}}" {{#selected}}selected="selected"{{/selected}}>{{text}}</option>\n  {{/options}}\n{{/results}}\n'),this.SMT["templates/ui_dropdown_options"]=function(t){return t||(t={}),SMTCache["templates/ui_dropdown_options"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_dropdown_suggest"]=Mustache.compile('<div class="results">\n  {{#results}}\n    <ul>\n      {{#group}}\n        <li class="group">{{group}}</li>\n      {{/group}}\n      {{#items}}\n        <li data-suggest-id="{{id}}" data-suggest-resource="{{resource}}"><span class="item-title">{{name}}</span>{{#showItemLabel}} <span class="resource-type">- {{resource_name}}</span>{{/showItemLabel}}</li>\n      {{/items}}\n      {{^items}}\n        {{#errors}}\n          <li class="no-results">{{noResultsText}}</li>\n        {{/errors}}\n      {{/items}}\n    </ul>\n  {{/results}}\n  {{#create}}\n    <a class="create" data-target="create-dialog">{{createText}}</a>\n  {{/create}}\n</div>\n'),Mustache.compilePartial("templates/ui_dropdown_suggest",'<div class="results">\n  {{#results}}\n    <ul>\n      {{#group}}\n        <li class="group">{{group}}</li>\n      {{/group}}\n      {{#items}}\n        <li data-suggest-id="{{id}}" data-suggest-resource="{{resource}}"><span class="item-title">{{name}}</span>{{#showItemLabel}} <span class="resource-type">- {{resource_name}}</span>{{/showItemLabel}}</li>\n      {{/items}}\n      {{^items}}\n        {{#errors}}\n          <li class="no-results">{{noResultsText}}</li>\n        {{/errors}}\n      {{/items}}\n    </ul>\n  {{/results}}\n  {{#create}}\n    <a class="create" data-target="create-dialog">{{createText}}</a>\n  {{/create}}\n</div>\n'),this.SMT["templates/ui_dropdown_suggest"]=function(t){return t||(t={}),SMTCache["templates/ui_dropdown_suggest"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_dropdown_suggest_create_message"]=Mustache.compile('<div class="create-message-wrapper">\n  <div class="create-message">\n    <div class="overflow-wrapper">\n      {{create}} <a class="create">{{value}}</a>\n    </div>\n  </div>\n</div>\n'),Mustache.compilePartial("templates/ui_dropdown_suggest_create_message",'<div class="create-message-wrapper">\n  <div class="create-message">\n    <div class="overflow-wrapper">\n      {{create}} <a class="create">{{value}}</a>\n    </div>\n  </div>\n</div>\n'),this.SMT["templates/ui_dropdown_suggest_create_message"]=function(t){return t||(t={}),SMTCache["templates/ui_dropdown_suggest_create_message"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_grid"]=Mustache.compile('<tr{{#tags}} data-{{name}}="{{value}}" {{/tags}} {{#klass}} class="{{.}}" {{/klass}}>\n  {{#cells}}\n    <td class="{{klass}}">{{{content}}}</td>\n  {{/cells}}\n</tr>\n'),Mustache.compilePartial("templates/ui_grid",'<tr{{#tags}} data-{{name}}="{{value}}" {{/tags}} {{#klass}} class="{{.}}" {{/klass}}>\n  {{#cells}}\n    <td class="{{klass}}">{{{content}}}</td>\n  {{/cells}}\n</tr>\n'),this.SMT["templates/ui_grid"]=function(t){return t||(t={}),SMTCache["templates/ui_grid"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_link"]=Mustache.compile('<a href="" class="UILink" data-target="{{target}}" data-ui-widget="UILink"><span>{{label}}</span></a>\n'),Mustache.compilePartial("templates/ui_link",'<a href="" class="UILink" data-target="{{target}}" data-ui-widget="UILink"><span>{{label}}</span></a>\n'),this.SMT["templates/ui_link"]=function(t){return t||(t={}),SMTCache["templates/ui_link"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_multi_select_grid_checkbox"]=Mustache.compile('<input {{#checked}}checked="checked"{{/checked}} id="{{name}}" name="{{name}}" type="checkbox" value="1" />\n<span class="checkbox-overlay">\n  <svg width="15" height="15" viewBox="0 0 15 15">\n    <rect class="checkbox-outline" fill="#AFAFAF" x="0" y="0" width="15" height="15"></rect>\n    <rect class="checkbox-fill" fill="#FFFFFF" x="1" y="1" width="13" height="13"></rect>\n    <path d="M5.06079081,11.805307 L2.2548404,9.4508351 C1.95287351,9.19745479 1.91372172,\n      8.74748731 2.16708208,8.44554418 L3.08395978,7.35285189 C3.3376225,7.05054844 3.78738919,\n      7.01144632 4.08921714,7.26471004 L6.46118447,9.25502694 L11.4959248,3.25485701 C11.7492184,\n      2.95299356 12.1993451,2.91365198 12.5012882,3.16701234 L13.5939805,4.08389004 C13.896284,\n      4.33755276 13.9353536,4.78735811 13.6820499,5.08923375 L8.30934217,11.4921775 C8.28333213,\n      11.5485068 8.24949267,11.6023543 8.20769039,11.6521724 L7.2908127,12.7448647 C7.12011041,\n      12.9482997 6.86060017,13.032541 6.61713008,12.9887006 C6.48855215,12.9709764 6.36324771,\n      12.9179844 6.25647356,12.8283903 L5.16378128,11.9115126 C5.12512704,11.8790778 5.09077658,\n      11.8434362 5.06079081,11.805307 L5.06079081,11.805307 Z" class="checkbox-check" fill="#41A940"></path>\n  </svg>\n</span>\n'),Mustache.compilePartial("templates/ui_multi_select_grid_checkbox",'<input {{#checked}}checked="checked"{{/checked}} id="{{name}}" name="{{name}}" type="checkbox" value="1" />\n<span class="checkbox-overlay">\n  <svg width="15" height="15" viewBox="0 0 15 15">\n    <rect class="checkbox-outline" fill="#AFAFAF" x="0" y="0" width="15" height="15"></rect>\n    <rect class="checkbox-fill" fill="#FFFFFF" x="1" y="1" width="13" height="13"></rect>\n    <path d="M5.06079081,11.805307 L2.2548404,9.4508351 C1.95287351,9.19745479 1.91372172,\n      8.74748731 2.16708208,8.44554418 L3.08395978,7.35285189 C3.3376225,7.05054844 3.78738919,\n      7.01144632 4.08921714,7.26471004 L6.46118447,9.25502694 L11.4959248,3.25485701 C11.7492184,\n      2.95299356 12.1993451,2.91365198 12.5012882,3.16701234 L13.5939805,4.08389004 C13.896284,\n      4.33755276 13.9353536,4.78735811 13.6820499,5.08923375 L8.30934217,11.4921775 C8.28333213,\n      11.5485068 8.24949267,11.6023543 8.20769039,11.6521724 L7.2908127,12.7448647 C7.12011041,\n      12.9482997 6.86060017,13.032541 6.61713008,12.9887006 C6.48855215,12.9709764 6.36324771,\n      12.9179844 6.25647356,12.8283903 L5.16378128,11.9115126 C5.12512704,11.8790778 5.09077658,\n      11.8434362 5.06079081,11.805307 L5.06079081,11.805307 Z" class="checkbox-check" fill="#41A940"></path>\n  </svg>\n</span>\n'),this.SMT["templates/ui_multi_select_grid_checkbox"]=function(t){return t||(t={}),SMTCache["templates/ui_multi_select_grid_checkbox"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_report"]=Mustache.compile('<tr{{#data_attributes}} data-{{key}}="{{value}}"{{/data_attributes}}{{#html_options}}{{#klass}} class="{{klass}}"{{/klass}}{{/html_options}}>\n  {{#cells}}\n    <td{{#html_options}}{{#klass}} class="{{klass}}"{{/klass}}{{/html_options}} colspan="{{colspan}}">\n      {{#html_safe}}\n        {{{content}}}\n      {{/html_safe}}\n      {{^html_safe}}\n        {{content}}\n      {{/html_safe}}\n    </td>\n  {{/cells}}\n</tr>\n'),Mustache.compilePartial("templates/ui_report",'<tr{{#data_attributes}} data-{{key}}="{{value}}"{{/data_attributes}}{{#html_options}}{{#klass}} class="{{klass}}"{{/klass}}{{/html_options}}>\n  {{#cells}}\n    <td{{#html_options}}{{#klass}} class="{{klass}}"{{/klass}}{{/html_options}} colspan="{{colspan}}">\n      {{#html_safe}}\n        {{{content}}}\n      {{/html_safe}}\n      {{^html_safe}}\n        {{content}}\n      {{/html_safe}}\n    </td>\n  {{/cells}}\n</tr>\n'),this.SMT["templates/ui_report"]=function(t){return t||(t={}),SMTCache["templates/ui_report"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_single_select_grid_radio"]=Mustache.compile('<input id="{{id}}" name="{{name}}" type="radio" value="{{val}}" />\n<span class="checkbox-overlay">\n  <svg width="15" height="15" viewBox="0 0 15 15">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g transform="translate(-69.000000, -293.000000)">\n        <g transform="translate(69.000000, 268.000000)">\n          <g transform="translate(0.000000, 25.000000)">\n            <circle class="checkbox-fill" fill="#FFFFFF" cx="7.5" cy="7.5" r="7.5"></circle>\n            <path class="checkbox-outline" d="M7.5,15 C11.6421356,15 15,11.6421356 15,\n              7.5 C15,3.35786438 11.6421356,0 7.5,0 C3.35786438,0 0,3.35786438 0,7.5 C0,\n              11.6421356 3.35786438,15 7.5,15 Z M7.5,14 C11.0898509,14 14,11.0898509 14,\n              7.5 C14,3.91014913 11.0898509,1 7.5,1 C3.91014913,1 1,3.91014913 1,7.5 C1,\n              11.0898509 3.91014913,14 7.5,14 Z" fill="#AFAFAF"></path>\n            <circle fill="#41A940" cx="7.5" cy="7.5" r="3.5" class="checkbox-check"></circle>\n          </g>\n        </g>\n      </g>\n    </g>\n  </svg>\n</span>\n'),Mustache.compilePartial("templates/ui_single_select_grid_radio",'<input id="{{id}}" name="{{name}}" type="radio" value="{{val}}" />\n<span class="checkbox-overlay">\n  <svg width="15" height="15" viewBox="0 0 15 15">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g transform="translate(-69.000000, -293.000000)">\n        <g transform="translate(69.000000, 268.000000)">\n          <g transform="translate(0.000000, 25.000000)">\n            <circle class="checkbox-fill" fill="#FFFFFF" cx="7.5" cy="7.5" r="7.5"></circle>\n            <path class="checkbox-outline" d="M7.5,15 C11.6421356,15 15,11.6421356 15,\n              7.5 C15,3.35786438 11.6421356,0 7.5,0 C3.35786438,0 0,3.35786438 0,7.5 C0,\n              11.6421356 3.35786438,15 7.5,15 Z M7.5,14 C11.0898509,14 14,11.0898509 14,\n              7.5 C14,3.91014913 11.0898509,1 7.5,1 C3.91014913,1 1,3.91014913 1,7.5 C1,\n              11.0898509 3.91014913,14 7.5,14 Z" fill="#AFAFAF"></path>\n            <circle fill="#41A940" cx="7.5" cy="7.5" r="3.5" class="checkbox-check"></circle>\n          </g>\n        </g>\n      </g>\n    </g>\n  </svg>\n</span>\n'),this.SMT["templates/ui_single_select_grid_radio"]=function(t){return t||(t={}),SMTCache["templates/ui_single_select_grid_radio"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_suggest"]=Mustache.compile('<div class="results">\n  <ul>\n    {{#results}}\n      {{#group}}\n        <li class="group">{{group}}</li>\n      {{/group}}\n      {{#items}}\n        <li data-suggest-id="{{id}}" data-suggest-resource="{{resource}}">{{name}}</li>\n      {{/items}}\n      {{#create}}\n        <li class="create" data-target="{{target}}">{{text}}</li>\n      {{/create}}\n    {{/results}}\n  </ul>\n</div>\n'),Mustache.compilePartial("templates/ui_suggest",'<div class="results">\n  <ul>\n    {{#results}}\n      {{#group}}\n        <li class="group">{{group}}</li>\n      {{/group}}\n      {{#items}}\n        <li data-suggest-id="{{id}}" data-suggest-resource="{{resource}}">{{name}}</li>\n      {{/items}}\n      {{#create}}\n        <li class="create" data-target="{{target}}">{{text}}</li>\n      {{/create}}\n    {{/results}}\n  </ul>\n</div>\n'),this.SMT["templates/ui_suggest"]=function(t){return t||(t={}),SMTCache["templates/ui_suggest"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ui_synopsis_report"]=Mustache.compile('<td>\n  <div{{#data_attributes}} data-{{key}}="{{value}}"{{/data_attributes}} class="parent{{#html_options}}{{#klass}} {{klass}}{{/klass}}{{/html_options}}">\n    {{#cells}}\n      <span>{{content}}</span>\n    {{/cells}}\n  </div>\n  {{#children}}\n  <div{{#child}}{{#data_attributes}} data-{{key}}="{{value}}"{{/data_attributes}}{{/child}} class="{{#child}}{{#html_options}}{{#klass}}{{klass}}{{/klass}}{{/html_options}}{{/child}}">\n      {{#child}}\n        {{#content}}\n          <span>{{content}}</span>\n        {{/content}}\n      {{/child}}\n    </div>\n  {{/children}}\n</td>\n'),Mustache.compilePartial("templates/ui_synopsis_report",'<td>\n  <div{{#data_attributes}} data-{{key}}="{{value}}"{{/data_attributes}} class="parent{{#html_options}}{{#klass}} {{klass}}{{/klass}}{{/html_options}}">\n    {{#cells}}\n      <span>{{content}}</span>\n    {{/cells}}\n  </div>\n  {{#children}}\n  <div{{#child}}{{#data_attributes}} data-{{key}}="{{value}}"{{/data_attributes}}{{/child}} class="{{#child}}{{#html_options}}{{#klass}}{{klass}}{{/klass}}{{/html_options}}{{/child}}">\n      {{#child}}\n        {{#content}}\n          <span>{{content}}</span>\n        {{/content}}\n      {{/child}}\n    </div>\n  {{/children}}\n</td>\n'),this.SMT["templates/ui_synopsis_report"]=function(t){return t||(t={}),SMTCache["templates/ui_synopsis_report"](t)}}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/ujs_confirm"]=Mustache.compile('<div class="UJSConfirm small modal">\n  <h1 class="title">{{title}}</h1>\n  <span class="icon"></span>\n  <div class="message">\n    <pre>{{{message}}}</pre>\n  </div>\n  <div class="options">\n    <a class="UILink primary button" data-tag="confirm">{{ok}}</a>\n    <a class="UILink primary button" data-tag="cancel">{{cancel}}</a>\n  </div>\n</div>\n<div id="UJSConfirmLayer" class="layer"></div>\n'),Mustache.compilePartial("templates/ujs_confirm",'<div class="UJSConfirm small modal">\n  <h1 class="title">{{title}}</h1>\n  <span class="icon"></span>\n  <div class="message">\n    <pre>{{{message}}}</pre>\n  </div>\n  <div class="options">\n    <a class="UILink primary button" data-tag="confirm">{{ok}}</a>\n    <a class="UILink primary button" data-tag="cancel">{{cancel}}</a>\n  </div>\n</div>\n<div id="UJSConfirmLayer" class="layer"></div>\n'),this.SMT["templates/ujs_confirm"]=function(t){return t||(t={}),SMTCache["templates/ujs_confirm"](t)}}.call(this),function(t){"use strict";function e(t,r){var a,s,u,c,p,f,y=this;if(!(y instanceof e))return new e(t,r);if(t instanceof e){if(x=0,r===a)return y.s=t.s,y.e=t.e,void(y.c=(t=t.c)?t.slice():t);t+=""}if("string"!=typeof t&&(t=(u="number"==typeof t||"[object Number]"==Object.prototype.toString.call(t))&&0===t&&0>1/t?"-0":t+""),f=t,r===a&&w.test(t))y.s="-"==t.charAt(0)?(t=t.slice(1),-1):1;else{if(10==r)return o(t,h,d);if(t=C.call(t).replace(/^\+(?!-)/,""),y.s="-"==t.charAt(0)?(t=t.replace(/^-(?!-)/,""),-1):1,null!=r?r!=(0|r)&&v||(l=!(r>=2&&65>r))?(i(r,2),p=w.test(t)):(c="["+_.slice(0,r=0|r)+"]+",t=t.replace(/\.$/,"").replace(/^\./,"0."),(p=new RegExp("^"+c+"(?:\\."+c+")?$",37>r?"i":"").test(t))?(u&&(t.replace(/^0\.0*|\./,"").length>15&&i(f,0),u=!u),t=n(t,10,r,y.s)):"Infinity"!=t&&"NaN"!=t&&(i(f,1,r),t="NaN")):p=w.test(t),!p)return y.c=y.e=null,"Infinity"!=t&&("NaN"!=t&&i(f,3),y.s=null),void(x=0)}for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(0>a&&(a=s),a+=+t.slice(s+1),t=t.substring(0,s)):0>a&&(a=t.length),s=0;"0"==t.charAt(s);s++);if(r=t.length,u&&r>15&&t.slice(s).length>15&&i(f,0),x=0,(a-=s+1)>m)y.c=y.e=null;else if(s==r||g>a)y.c=[y.e=0];else{for(;"0"==t.charAt(--r););for(y.e=a,y.c=[],a=0;r>=s;y.c[a++]=+t.charAt(s++));}}function i(t,e,i,n,r,a){if(v){var s,o=["new BigNumber","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFr"][x?0>x?-x:x:0>1/x?1:0]+"()",u=l?" out of range":" not a"+(r?" non-zero":"n")+" integer";throw u=([o+" number type has more than 15 significant digits",o+" not a base "+i+" number",o+" base"+u,o+" not a number"][e]||i+"() "+e+(a?" not a boolean or binary digit":u+(n?" or not ["+(l?" negative, positive":" integer, integer")+" ]":"")))+": "+t,l=x=0,s=new Error(u),s.name="BigNumber Error",s}}function n(t,i,n,a){function s(t,e){var r,a,s=0,o=t.length,l=[0];for(e=e||n;o>s;s++){for(a=l.length,r=0;a>r;l[r]*=e,r++);for(l[0]+=_.indexOf(t.charAt(s)),r=0;r<l.length;r++)l[r]>i-1&&(null==l[r+1]&&(l[r+1]=0),l[r+1]+=l[r]/i^0,l[r]%=i)}return l.reverse()}function o(t){for(var e=0,i=t.length,n="";i>e;n+=_.charAt(t[e++]));return n}var l,u,c,h,d,p;if(37>n&&(t=t.toLowerCase()),(l=t.indexOf("."))>-1)if(l=t.length-l-1,u=s(new e(n).pow(l).toF(),10),h=t.split("."),c=s(h[1]),h=s(h[0]),p=r(c,u,c.length-u.length,a,i,1&h[h.length-1]),d=p.c,l=p.e){for(;++l;d.unshift(0));t=o(h)+"."+o(d)}else d[0]?h[l=h.length-1]<i-1?(++h[l],t=o(h)):t=new e(o(h),i).plus(S).toS(i):t=o(h);else t=o(s(t));return t}function r(t,i,n,r,a,o){var l,u,c,d,p,f=i.slice(),v=l=i.length,y=t.length,b=t.slice(0,l),_=b.length,x=new e(S),w=x.c=[],C=0,k=h+(x.e=n)+1;for(x.s=r,r=0>k?0:k;_++<l;b.push(0));f.unshift(0);do{for(c=0;a>c;c++){if(l!=(_=b.length))d=l>_?1:-1;else for(p=-1,d=0;++p<l;)if(i[p]!=b[p]){d=i[p]>b[p]?1:-1;break}if(!(0>d))break;for(u=_==l?i:f;_;){if(b[--_]<u[_]){for(p=_;p&&!b[--p];b[p]=a-1);--b[p],b[_]+=a}b[_]-=u[_]}for(;!b[0];b.shift());}w[C++]=d?c:++c,b[0]&&d?b[_]=t[v]||0:b=[t[v]]}while((v++<y||null!=b[0])&&r--);return w[0]||1==C||(--x.e,w.shift()),C>k&&s(x,h,a,o,null!=b[0]),x.e>m?x.c=x.e=null:x.e<g&&(x.c=[x.e=0]),x}function a(t,i,n){var r=i-(t=new e(t)).e,a=t.c;if(!a)return t.toS();for(a.length>++i&&s(t,r,10),r=0==a[0]?r+1:n?i:t.e+r+1;a.length<r;a.push(0));return r=t.e,1==n||2==n&&(--i<r||p>=r)?(t.s<0&&a[0]?"-":"")+(a.length>1?(a.splice(1,0,"."),a.join("")):a[0])+(0>r?"e":"e+")+r:t.toS()}function s(t,e,i,n,r){var a=t.c,s=t.s<0,o=i/2,l=t.e+e+1,u=a[l],c=r||0>l||null!=a[l+1];if(r=4>d?(null!=u||c)&&(0==d||2==d&&!s||3==d&&s):u>o||u==o&&(4==d||c||6==d&&(1&a[l-1]||!e&&n)||7==d&&!s||8==d&&s),1>l||!a[0])return a.length=0,a.push(0),r?(a[0]=1,t.e=-e):t.e=0,t;if(a.length=l--,r)for(--i;++a[l]>i;)a[l]=0,l--||(++t.e,a.unshift(1));for(l=a.length;!a[--l];a.pop());return t}function o(t,i,n){var r=d;return d=n,t=new e(t),t.c&&s(t,i,10),d=r,t}/*
      bignumber.js v1.3.0
      A JavaScript library for arbitrary-precision arithmetic.
      https://github.com/MikeMcl/bignumber.js
      Copyright (c) 2012 Michael Mclaughlin <M8ch88l@gmail.com>
      MIT Expat Licence
    */
var l,u=1e9,c=1e6,h=20,d=4,p=-7,f=21,g=-u,m=u,v=!0,y=parseInt,b=e.prototype,_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",x=0,w=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,C=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},S=e(1);e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.config=function(){var t,e,n=0,r={},a=arguments,s=a[0],o="config",c=function(t,e,i){return!((l=e>t||t>i)||y(t)!=t&&0!==t)},b=s&&"object"==typeof s?function(){return s.hasOwnProperty(e)?null!=(t=s[e]):void 0}:function(){return a.length>n?null!=(t=a[n++]):void 0};return b(e="DECIMAL_PLACES")&&(c(t,0,u)?h=0|t:i(t,e,o)),r[e]=h,b(e="ROUNDING_MODE")&&(c(t,0,8)?d=0|t:i(t,e,o)),r[e]=d,b(e="EXPONENTIAL_AT")&&(c(t,-u,u)?p=-(f=~~(0>t?-t:+t)):!l&&t&&c(t[0],-u,0)&&c(t[1],0,u)?(p=~~t[0],f=~~t[1]):i(t,e,o,1)),r[e]=[p,f],b(e="RANGE")&&(c(t,-u,u)&&~~t?g=-(m=~~(0>t?-t:+t)):!l&&t&&c(t[0],-u,-1)&&c(t[1],1,u)?(g=~~t[0],m=~~t[1]):i(t,e,o,1,1)),r[e]=[g,m],b(e="ERRORS")&&(t===!!t||1===t||0===t?(l=x=0,y=(v=!!t)?parseInt:parseFloat):i(t,e,o,0,0,1)),r[e]=v,r},b.abs=b.absoluteValue=function(){var t=new e(this);return t.s<0&&(t.s=1),t},b.ceil=function(){return o(this,0,2)},b.comparedTo=b.cmp=function(t,i){var n,r=this,a=r.c,s=(x=-x,t=new e(t,i)).c,o=r.s,l=t.s,u=r.e,c=t.e;if(!o||!l)return null;if(n=a&&!a[0],i=s&&!s[0],n||i)return n?i?0:-l:o;if(o!=l)return o;if(n=0>o,i=u==c,!a||!s)return i?0:!a^n?1:-1;if(!i)return u>c^n?1:-1;for(o=-1,l=(u=a.length)<(c=s.length)?u:c;++o<l;)if(a[o]!=s[o])return a[o]>s[o]^n?1:-1;return u==c?0:u>c^n?1:-1},b.dividedBy=b.div=function(t,i){var n=this.c,a=this.e,s=this.s,o=(x=2,t=new e(t,i)).c,l=t.e,u=t.s,c=s==u?1:-1;return(a||n&&n[0])&&(l||o&&o[0])?r(n,o,a-l,c,10):new e(s&&u&&(n?!o||n[0]!=o[0]:o)?n&&0==n[0]||!o?0*c:c/0:NaN)},b.equals=b.eq=function(t,e){return x=3,0===this.cmp(t,e)},b.floor=function(){return o(this,0,3)},b.greaterThan=b.gt=function(t,e){return x=4,this.cmp(t,e)>0},b.greaterThanOrEqualTo=b.gte=function(t,e){return x=5,1==(e=this.cmp(t,e))||0===e},b.isFinite=b.isF=function(){return!!this.c},b.isNaN=function(){return!this.s},b.isNegative=b.isNeg=function(){return this.s<0},b.isZero=b.isZ=function(){return!!this.c&&0==this.c[0]},b.lessThan=b.lt=function(t,e){return x=6,this.cmp(t,e)<0},b.lessThanOrEqualTo=b.lte=function(t,e){return x=7,-1==(e=this.cmp(t,e))||0===e},b.minus=function(t,i){var n,r,a,s,o=this,l=o.s;if(i=(x=8,t=new e(t,i)).s,!l||!i)return new e(NaN);if(l!=i)return t.s=-i,o.plus(t);var u=o.c,c=o.e,h=t.c,p=t.e;if(!c||!p){if(!u||!h)return u?(t.s=-i,t):new e(h?o:NaN);if(!u[0]||!h[0])return h[0]?(t.s=-i,t):new e(u[0]?o:3==d?-0:0)}if(u=u.slice(),l=c-p){for(n=(s=0>l)?(l=-l,u):(p=c,h),n.reverse(),i=l;i--;n.push(0));n.reverse()}else for(a=((s=u.length<h.length)?u:h).length,l=i=0;a>i;i++)if(u[i]!=h[i]){s=u[i]<h[i];break}if(s&&(n=u,u=h,h=n,t.s=-t.s),(i=-((a=u.length)-h.length))>0)for(;i--;u[a++]=0);for(i=h.length;i>l;){if(u[--i]<h[i]){for(r=i;r&&!u[--r];u[r]=9);--u[r],u[i]+=10}u[i]-=h[i]}for(;0==u[--a];u.pop());for(;0==u[0];u.shift(),--p);return(g>p||!u[0])&&(u[0]||(t.s=3==d?-1:1),u=[p=0]),t.c=u,t.e=p,t},b.modulo=b.mod=function(t,i){var n=this,r=n.c,a=(x=9,t=new e(t,i)).c,s=n.s,o=t.s;return i=!s||!o||a&&!a[0],i||r&&!r[0]?new e(i?NaN:n):(n.s=t.s=1,i=1==t.cmp(n),n.s=s,t.s=o,i?new e(n):(s=h,o=d,h=0,d=1,n=n.div(t),h=s,d=o,this.minus(n.times(t))))},b.negated=b.neg=function(){var t=new e(this);return t.s=-t.s||null,t},b.plus=function(t,i){var n,r=this,a=r.s;if(i=(x=10,t=new e(t,i)).s,!a||!i)return new e(NaN);if(a!=i)return t.s=-i,r.minus(t);var s=r.e,o=r.c,l=t.e,u=t.c;if(!s||!l){if(!o||!u)return new e(a/0);if(!o[0]||!u[0])return u[0]?t:new e(o[0]?r:0*a)}if(o=o.slice(),a=s-l){for(n=a>0?(l=s,u):(a=-a,o),n.reverse();a--;n.push(0));n.reverse()}for(o.length-u.length<0&&(n=u,u=o,o=n),a=u.length,i=0;a;i=(o[--a]=o[a]+u[a]+i)/10^0,o[a]%=10);for(i&&(o.unshift(i),++l>m&&(o=l=null)),a=o.length;0==o[--a];o.pop());return t.c=o,t.e=l,t},b.toPower=b.pow=function(t){var n=0*t==0?0|t:t,r=new e(this),a=new e(S);if(((l=-c>t||t>c)&&(n=1*t/0)||y(t)!=t&&0!==t&&!(n=NaN))&&!i(t,"exponent","pow")||!n)return new e(Math.pow(r.toS(),n));for(n=0>n?-n:n;1&n&&(a=a.times(r)),n>>=1,n;)r=r.times(r);return 0>t?S.div(a):a},b.round=function(t,e){return t=null==t||((l=0>t||t>u)||y(t)!=t)&&!i(t,"decimal places","round")?0:0|t,e=null==e||((l=0>e||e>8)||y(e)!=e&&0!==e)&&!i(e,"mode","round")?d:0|e,o(this,t,e)},b.squareRoot=b.sqrt=function(){var t,i,n,r,a=this,o=a.c,l=a.s,u=a.e,c=h,p=d,f=new e("0.5");if(1!==l||!o||!o[0])return new e(!l||0>l&&(!o||o[0])?NaN:o?a:1/0);for(l=Math.sqrt(a.toS()),d=1,0==l||l==1/0?(t=o.join(""),t.length+u&1||(t+="0"),i=new e(Math.sqrt(t)+""),i.c||(i.c=[1]),i.e=((u+1)/2|0)-(0>u||1&u)):i=new e(t=l.toString()),n=i.e,l=n+(h+=4),3>l&&(l=0),u=l;;)if(r=i,i=f.times(r.plus(a.div(r))),r.c.slice(0,l).join("")===i.c.slice(0,l).join("")){if(o=i.c,l-=t&&i.e<n,9!=o[l]||9!=o[l-1]||9!=o[l-2]||!(9==o[l-3]||t&&4==o[l-3])){if(!(o[u]||o[u-1]||o[u-2]||o[u-3]&&5!=o[u-3]||(o.length>u-2&&(o.length=u-2),i.times(i).eq(a)))){for(;o.length<u-3;)o.push(0);o[u-3]++}return d=p,s(i,h=c,10),i}if(t&&9==o[l-3]&&(r=i.round(c,0),r.times(r).eq(a)))return d=p,h=c,r;h+=4,l+=4,t=""}},b.times=function(t,i){var n,r=this,a=r.c,s=(x=11,t=new e(t,i)).c,o=r.e,l=t.e,u=r.s;if(t.s=u==(i=t.s)?1:-1,!((o||a&&a[0])&&(l||s&&s[0])))return new e(!u||!i||a&&!a[0]&&!s||s&&!s[0]&&!a?NaN:a&&s?0*t.s:t.s/0);for(t.e=o+l,(u=a.length)<(i=s.length)&&(n=a,a=s,s=n,l=u,u=i,i=l),l=u+i,n=[];l--;n.push(0));for(o=i-1;o>-1;o--){for(i=0,l=u+o;l>o;i=n[l]+s[o]*a[l-o-1]+i,n[l--]=i%10|0,i=i/10|0);i&&(n[l]=(n[l]+i)%10)}for(i&&++t.e,!n[0]&&n.shift(),l=n.length;!n[--l];n.pop());return t.c=t.e>m?t.e=null:t.e<g?[t.e=0]:n,t},b.toExponential=b.toE=function(t){return a(this,(null==t||((l=0>t||t>u)||y(t)!=t&&0!==t)&&!i(t,"decimal places","toE"))&&this.c?this.c.length-1:0|t,1)},b.toFixed=b.toF=function(t){var e,n,r,s=this;return null==t||((l=0>t||t>u)||y(t)!=t&&0!==t)&&!i(t,"decimal places","toF")||(r=s.e+(0|t)),e=p,t=f,p=-(f=1/0),r==n?n=s.toS():(n=a(s,r),s.s<0&&s.c&&(s.c[0]?n.indexOf("-")<0&&(n="-"+n):n=n.replace(/^-/,""))),p=e,f=t,n},b.toFraction=b.toFr=function(t){var n,r,a,s,o,u,c,p=s=new e(S),f=a=new e("0"),g=this,y=g.c,b=m,_=h,w=d,C=new e(S);if(!y)return g.toS();for(c=C.e=y.length-g.e-1,(null==t||(!(x=12,u=new e(t)).s||(l=u.cmp(p)<0||!u.c)||v&&u.e<u.c.length-1)&&!i(t,"max denominator","toFr")||(t=u).cmp(C)>0)&&(t=c>0?C:p),m=1/0,u=new e(y.join("")),h=0,d=1;n=u.div(C),o=s.plus(n.times(f)),1!=o.cmp(t);)s=f,f=o,p=a.plus(n.times(o=p)),a=o,C=u.minus(n.times(o=C)),u=o;return o=t.minus(s).div(f),a=a.plus(o.times(p)),s=s.plus(o.times(f)),a.s=p.s=g.s,h=2*c,d=w,r=p.div(f).minus(g).abs().cmp(a.div(s).minus(g).abs())<1?[p.toS(),f.toS()]:[a.toS(),s.toS()],m=b,h=_,r},b.toPrecision=b.toP=function(t){return null==t||((l=1>t||t>u)||y(t)!=t)&&!i(t,"precision","toP")?this.toS():a(this,0|--t,2)},b.toString=b.toS=function(t){var e,r,s,o=this,u=o.e;if(null===u)r=o.s?"Infinity":"NaN";else{if(t===e&&(p>=u||u>=f))return a(o,o.c.length-1,1);if(r=o.c.join(""),0>u){for(;++u;r="0"+r);r="0."+r}else if(s=r.length,u>0)if(++u>s)for(u-=s;u--;r+="0");else s>u&&(r=r.slice(0,u)+"."+r.slice(u));else if(e=r.charAt(0),s>1)r=e+"."+r.slice(1);else if("0"==e)return e;if(null!=t)if((l=!(t>=2&&65>t))||t!=(0|t)&&v)i(t,"base","toS");else if(r=n(r,0|t,10,o.s),"0"==r)return r}return o.s<0?"-"+r:r},b.valueOf=function(){return this.toS()},b.add=b.plus,b.subtract=b.minus,b.multiply=b.times,b.divide=b.div,t.BigNumber=e}(this);var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},FastClick.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},FastClick.prototype.sendClick=function(t,e){"use strict";var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},FastClick.prototype.determineEventType=function(t){"use strict";return deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(t){"use strict";var e;deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},FastClick.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},FastClick.prototype.onTouchStart=function(t){"use strict";var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],deviceIsIOS){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!deviceIsIOS4){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i?!0:!1},FastClick.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(t){"use strict";var e,i,n,r,a,s=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(a=t.changedTouches[0],s=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||s,s.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=s.tagName.toLowerCase(),"label"===n){if(e=this.findControl(s)){if(this.focus(s),deviceIsAndroid)return!1;s=e}}else if(this.needsFocus(s))return t.timeStamp-i>100||deviceIsIOS&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(s),this.sendClick(s,t),deviceIsIOS&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(r=s.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(s)||(t.preventDefault(),this.sendClick(s,t)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},FastClick.prototype.destroy=function(){"use strict";var t=this.layer;deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(t){"use strict";var e,i,n;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(deviceIsBlackBerry10&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction?!0:!1},FastClick.attach=function(t,e){"use strict";return new FastClick(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(){function t(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function e(){var t,e=arguments.length,i={},n=function(t,e){var i,r;for(r in e)e.hasOwnProperty(r)&&(i=e[r],"object"!=typeof t&&(t={}),i&&"object"==typeof i&&"[object Array]"!==Object.prototype.toString.call(i)&&"number"!=typeof i.nodeType?t[r]=n(t[r]||{},i):t[r]=e[r]);return t};for(t=0;e>t;t++)i=n(i,arguments[t]);return i}function i(){for(var t=0,e=arguments,i=e.length,n={};i>t;t++)n[e[t++]]=e[t];return n}function n(t,e){return parseInt(t,e||10)}function r(t){return"string"==typeof t}function a(t){return"object"==typeof t}function s(t){return"[object Array]"===Object.prototype.toString.call(t)}function o(t){return"number"==typeof t}function l(t){return gt.log(t)/gt.LN10}function u(t){return gt.pow(10,t)}function c(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}}function h(t){return t!==q&&null!==t}function d(t,e,i){var n,s,o="setAttribute";if(r(e))h(i)?t[o](e,i):t&&t.getAttribute&&(s=t.getAttribute(e));else if(h(e)&&a(e))for(n in e)t[o](n,e[n]);return s}function p(t){return s(t)?t:[t]}function f(){var t,e,i=arguments,n=i.length;for(t=0;n>t;t++)if(e=i[t],"undefined"!=typeof e&&null!==e)return e}function g(e,i){Dt&&i&&i.opacity!==q&&(i.filter="alpha(opacity="+100*i.opacity+")"),t(e.style,i)}function m(e,i,n,r,a){var s=pt.createElement(e);return i&&t(s,i),a&&g(s,{padding:0,border:Jt,margin:0}),n&&g(s,n),r&&r.appendChild(s),s}function v(e,i){var n=function(){};return n.prototype=new e,t(n.prototype,i),n}function y(t,e,i,r){var a=K.lang,s=t,o=-1===e?((s||0).toString().split(".")[1]||"").length:isNaN(e=xt(e))?2:e,l=void 0===i?a.decimalPoint:i,u=void 0===r?a.thousandsSep:r,c=0>s?"-":"",h=String(n(s=xt(+s||0).toFixed(o))),d=h.length>3?h.length%3:0;return c+(d?h.substr(0,d)+u:"")+h.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+u)+(o?l+xt(s-h).toFixed(o).slice(2):"")}function b(t,e){return new Array((e||2)+1-String(t).length).join(0)+t}function _(t,e,i){var n=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(n),i.apply(this,t)}}function x(t,e){var i,n=/f$/,r=/\.([0-9])/,a=K.lang;return n.test(t)?(i=t.match(r),i=i?i[1]:-1,e=y(e,i,a.decimalPoint,t.indexOf(",")>-1?a.thousandsSep:"")):e=J(t,e),e}function w(t,e){for(var i,n,r,a,s,o,l,u="{",c=!1,h=[];-1!==(l=t.indexOf(u));){if(i=t.slice(0,l),c){for(n=i.split(":"),r=n.shift().split("."),s=r.length,o=e,a=0;s>a;a++)o=o[r[a]];n.length&&(o=x(n.join(":"),o)),h.push(o)}else h.push(i);t=t.slice(l+1),c=!c,u=c?"}":"{"}return h.push(t),h.join("")}function C(t,e,i,n){var r,a;for(i=f(i,1),r=t/i,e||(e=[1,2,2.5,5,10],n&&n.allowDecimals===!1&&(1===i?e=[1,2,5,10]:.1>=i&&(e=[1/i]))),a=0;a<e.length&&(t=e[a],!(r<=(e[a]+(e[a+1]||e[a]))/2));a++);return t*=i}function S(t,e){var i,n,r=e||[[re,[1,2,5,10,20,25,50,100,200,500]],[ae,[1,2,5,10,15,30]],[se,[1,2,5,10,15,30]],[oe,[1,2,3,4,6,8,12]],[le,[1,2]],[ue,[1,2]],[ce,[1,2,3,4,6]],[he,null]],a=r[r.length-1],s=tt[a[0]],o=a[1];for(n=0;n<r.length;n++)if(a=r[n],s=tt[a[0]],o=a[1],r[n+1]){var l=(s*o[o.length-1]+tt[r[n+1][0]])/2;if(l>=t)break}return s===tt[he]&&5*s>t&&(o=[1,2,5]),s===tt[he]&&5*s>t&&(o=[1,2,5]),i=C(t/s,o),{unitRange:s,count:i,unitName:a[0]}}function k(e,i,n,r){var a,s,o=[],l={},u=K.global.useUTC,c=new Date(i),d=e.unitRange,p=e.count;if(h(i)){d>=tt[ae]&&(c.setMilliseconds(0),c.setSeconds(d>=tt[se]?0:p*vt(c.getSeconds()/p))),d>=tt[se]&&c[lt](d>=tt[oe]?0:p*vt(c[it]()/p)),d>=tt[oe]&&c[ut](d>=tt[le]?0:p*vt(c[nt]()/p)),d>=tt[le]&&c[ct](d>=tt[ce]?1:p*vt(c[at]()/p)),d>=tt[ce]&&(c[ht](d>=tt[he]?0:p*vt(c[st]()/p)),s=c[ot]()),d>=tt[he]&&(s-=s%p,c[dt](s)),d===tt[ue]&&c[ct](c[at]()-c[rt]()+f(r,1)),a=1,s=c[ot]();for(var g=c.getTime(),m=c[st](),v=c[at](),y=u?0:(864e5+60*c.getTimezoneOffset()*1e3)%864e5;n>g;)o.push(g),d===tt[he]?g=et(s+a*p,0):d===tt[ce]?g=et(s,m+a*p):u||d!==tt[le]&&d!==tt[ue]?(d<=tt[oe]&&g%tt[le]===y&&(l[g]=le),g+=d*p):g=et(s,m,v+a*p*(d===tt[le]?1:7)),a++;o.push(g)}return o.info=t(e,{higherRanks:l,totalRange:d*p}),o}function I(){this.color=0,this.symbol=0}function T(t,e){var i,n,r=t.length;for(n=0;r>n;n++)t[n].ss_i=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.ss_i-n.ss_i:i}),n=0;r>n;n++)delete t[n].ss_i}function D(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i}function U(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i}function M(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]}function $(t){X||(X=m(Ht)),t&&X.appendChild(t),X.innerHTML=""}function A(t,e){var i="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(e)throw i;ft.console&&console.log(i)}function E(t){return parseFloat(t.toPrecision(14))}function F(t,e){Z=f(t,e.animation)}function P(){var t=K.global.useUTC,e=t?"getUTC":"get",i=t?"setUTC":"set";et=t?Date.UTC:function(t,e,i,n,r,a){return new Date(t,e,f(i,1),f(n,0),f(r,0),f(a,0)).getTime()},it=e+"Minutes",nt=e+"Hours",rt=e+"Day",at=e+"Date",st=e+"Month",ot=e+"FullYear",lt=i+"Minutes",ut=i+"Hours",ct=i+"Date",ht=i+"Month",dt=i+"FullYear"}function L(t){return K=e(K,t),P(),K}function O(){return K}function N(){}function R(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()}function B(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)}function j(t,e,i,n,r,a){var s=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.stack=r,this.percent="percent"===a,this.alignOptions={align:e.align||(s?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(s?"middle":i?"bottom":"top"),y:f(e.y,s?4:i?14:-6),x:f(e.x,s?i?-6:6:0)},this.textAlign=e.textAlign||(s?i?"right":"left":"center")}function z(){this.init.apply(this,arguments)}function V(){this.init.apply(this,arguments)}function H(t,e){this.init(t,e)}function W(t,e){this.init(t,e)}function Y(){this.init.apply(this,arguments)}var q,G,X,K,J,Z,Q,tt,et,it,nt,rt,at,st,ot,lt,ut,ct,ht,dt,pt=document,ft=window,gt=Math,mt=gt.round,vt=gt.floor,yt=gt.ceil,bt=gt.max,_t=gt.min,xt=gt.abs,wt=gt.cos,Ct=gt.sin,St=gt.PI,kt=2*St/360,It=navigator.userAgent,Tt=ft.opera,Dt=/msie/i.test(It)&&!Tt,Ut=8===pt.documentMode,Mt=/AppleWebKit/.test(It),$t=/Firefox/.test(It),At=/(Mobile|Android|Windows Phone)/.test(It),Et="http://www.w3.org/2000/svg",Ft=!!pt.createElementNS&&!!pt.createElementNS(Et,"svg").createSVGRect,Pt=$t&&parseInt(It.split("Firefox/")[1],10)<4,Lt=!Ft&&!Dt&&!!pt.createElement("canvas").getContext,Ot=pt.documentElement.ontouchstart!==q,Nt={},Rt=0,Bt=function(){},jt=[],zt="Highcharts",Vt="3.0.1",Ht="div",Wt="absolute",Yt="relative",qt="hidden",Gt="highcharts-",Xt="visible",Kt="px",Jt="none",Zt="M",Qt="L",te="rgba(192,192,192,"+(Ft?1e-4:.002)+")",ee="",ie="hover",ne="select",re="millisecond",ae="second",se="minute",oe="hour",le="day",ue="week",ce="month",he="year",de="stroke-width",pe={};ft.Highcharts=ft.Highcharts?A(16,!0):{},J=function(e,i,n){if(!h(i)||isNaN(i))return"Invalid date";e=f(e,"%Y-%m-%d %H:%M:%S");var r,a=new Date(i),s=a[nt](),o=a[rt](),l=a[at](),u=a[st](),c=a[ot](),d=K.lang,p=d.weekdays,g=t({a:p[o].substr(0,3),A:p[o],d:b(l),e:l,b:d.shortMonths[u],B:d.months[u],m:b(u+1),y:c.toString().substr(2,2),Y:c,H:b(s),I:b(s%12||12),l:s%12||12,M:b(a[it]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:b(a.getSeconds()),L:b(mt(i%1e3),3)},Highcharts.dateFormats);for(r in g)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof g[r]?g[r](i):g[r]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},I.prototype={wrapColor:function(t){this.color>=t&&(this.color=0)},wrapSymbol:function(t){this.symbol>=t&&(this.symbol=0)}},tt=i(re,1,ae,1e3,se,6e4,oe,36e5,le,864e5,ue,6048e5,ce,26784e5,he,31556952e3),Q={init:function(t,e,i){e=e||"";var n,r,a,s,o,l=t.shift,u=e.indexOf("C")>-1,c=u?7:3,h=e.split(" "),d=[].concat(i),p=function(t){for(a=t.length;a--;)t[a]===Zt&&t.splice(a+1,0,t[a+1],t[a+2],t[a+1],t[a+2])};if(u&&(p(h),p(d)),t.isArea&&(s=h.splice(h.length-6,6),o=d.splice(d.length-6,6)),l<=d.length/c)for(;l--;)d=[].concat(d).splice(0,c).concat(d);if(t.shift=0,h.length)for(n=d.length;h.length<n;)r=[].concat(h).splice(h.length-c,c),u&&(r[c-6]=r[c-2],r[c-5]=r[c-1]),h=h.concat(r);return s&&(h=h.concat(s),d=d.concat(o)),[h,d]},step:function(t,e,i,n){var r,a=[],s=t.length;if(1===i)a=n;else if(s===e.length&&1>i)for(;s--;)r=parseFloat(t[s]),a[s]=isNaN(r)?t[s]:i*parseFloat(e[s]-r)+r;else a=e;return a}},function(e){ft.HighchartsAdapter=ft.HighchartsAdapter||e&&{init:function(t){var i,n=e.fx,a=n.step,s=e.Tween,o=s&&s.propHooks;e.extend(e.easing,{easeOutQuad:function(t,e,i,n,r){return-n*(e/=r)*(e-2)+i}}),e.each(["cur","_default","width","height","opacity"],function(t,e){var i,r,l=a;"cur"===e?l=n.prototype:"_default"===e&&s&&(l=o[e],e="set"),i=l[e],i&&(l[e]=function(n){return n=t?n:this,r=n.elem,r.attr?r.attr(n.prop,"cur"===e?q:n.now):i.apply(this,arguments)})}),i=function(e){var i,n=e.elem;e.started||(i=t.init(n,n.d,n.toD),e.start=i[0],e.end=i[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},s?o.d={set:i}:a.d=i,this.each=Array.prototype.forEach?function(t,e){return Array.prototype.forEach.call(t,e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(e.call(t[i],t[i],i,t)===!1)return i},e.fn.highcharts=function(){var t,e,i,n="Chart",a=arguments;return r(a[0])&&(n=a[0],a=Array.prototype.slice.call(a,1)),t=a[0],t!==q&&(t.chart=t.chart||{},t.chart.renderTo=this[0],i=new Highcharts[n](t,a[1]),e=this),t===q&&(e=jt[d(this[0],"data-highcharts-chart")]),e}},getScript:e.getScript,inArray:e.inArray,adapterRun:function(t,i){return e(t)[i]()},grep:e.grep,map:function(t,e){for(var i=[],n=0,r=t.length;r>n;n++)i[n]=e.call(t[n],t[n],n,t);return i},offset:function(t){return e(t).offset()},addEvent:function(t,i,n){e(t).bind(i,n)},removeEvent:function(t,i,n){var r=pt.removeEventListener?"removeEventListener":"detachEvent";pt[r]&&t&&!t[r]&&(t[r]=function(){}),e(t).unbind(i,n)},fireEvent:function(i,n,r,a){var s,o=e.Event(n),l="detached"+n;!Dt&&r&&(delete r.layerX,delete r.layerY),t(o,r),i[n]&&(i[l]=i[n],i[n]=null),e.each(["preventDefault","stopPropagation"],function(t,e){var i=o[e];o[e]=function(){try{i.call(o)}catch(t){"preventDefault"===e&&(s=!0)}}}),e(i).trigger(o),i[l]&&(i[n]=i[l],i[l]=null),!a||o.isDefaultPrevented()||s||a(o)},washMouseEvent:function(t){var e=t.originalEvent||t;return e.pageX===q&&(e.pageX=t.pageX,e.pageY=t.pageY),e},animate:function(t,i,n){var r=e(t);i.d&&(t.toD=i.d,i.d=1),r.stop(),i.opacity!==q&&t.attr&&(i.opacity+="px"),r.animate(i,n)},stop:function(t){e(t).stop()}}}(ft.jQuery);var fe=ft.HighchartsAdapter,ge=fe||{};fe&&fe.init.call(fe,Q);var me=ge.adapterRun,ve=ge.getScript,ye=ge.inArray,be=ge.each,_e=ge.grep,xe=ge.offset,we=ge.map,Ce=ge.addEvent,Se=ge.removeEvent,ke=ge.fireEvent,Ie=ge.washMouseEvent,Te=ge.animate,De=ge.stop,Ue={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};K={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"//code.highcharts.com/3.0.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:e(Ue,{enabled:!1,formatter:function(){return this.y},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:Wt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:Wt,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Yt,top:"1em"},style:{position:Wt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ft,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:At?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Me=K.plotOptions,$e=Me.line;P();var Ae=function(t){function i(t){t&&t.stops?u=we(t.stops,function(t){return Ae(t[1])}):(l=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t),l?c=[n(l[1]),n(l[2]),n(l[3]),parseFloat(l[4],10)]:(l=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t),l?c=[n(l[1],16),n(l[2],16),n(l[3],16),1]:(l=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t),l&&(c=[n(l[1]),n(l[2]),n(l[3]),1]))))}function r(i){var n;return u?(n=e(t),n.stops=[].concat(n.stops),be(u,function(t,e){n.stops[e]=[n.stops[e][0],t.get(i)]})):n=c&&!isNaN(c[0])?"rgb"===i?"rgb("+c[0]+","+c[1]+","+c[2]+")":"a"===i?c[3]:"rgba("+c.join(",")+")":t,n}function a(t){if(u)be(u,function(e){e.brighten(t)});else if(o(t)&&0!==t){var e;for(e=0;3>e;e++)c[e]+=n(255*t),c[e]<0&&(c[e]=0),c[e]>255&&(c[e]=255)}return this}function s(t){return c[3]=t,this}var l,u,c=[];return i(t),{get:r,brighten:a,rgba:c,setOpacity:s}};N.prototype={init:function(t,e){var i=this;i.element="span"===e?m(e):pt.createElementNS(Et,e),i.renderer=t,i.attrSetters={}},opacity:1,animate:function(t,i,n){var r=f(i,Z,!0);De(this),r?(r=e(r),n&&(r.complete=n),Te(this,t,r)):(this.attr(t),n&&n())},attr:function(t,e){var i,a,s,o,l,u,c,p,f,g=this,m=g.element,v=m.nodeName.toLowerCase(),y=g.renderer,b=g.attrSetters,_=g.shadows,x=g;if(r(t)&&h(e)&&(i=t,t={},t[i]=e),r(t))i=t,"circle"===v?i={x:"cx",y:"cy"}[i]||i:"strokeWidth"===i&&(i="stroke-width"),x=d(m,i)||g[i]||0,"d"!==i&&"visibility"!==i&&(x=parseFloat(x));else{for(i in t)if(u=!1,a=t[i],s=b[i]&&b[i].call(g,a,i),s!==!1){if(s!==q&&(a=s),"d"===i)a&&a.join&&(a=a.join(" ")),/(NaN| {2}|^$)/.test(a)&&(a="M 0 0");else if("x"===i&&"text"===v)for(o=0;o<m.childNodes.length;o++)l=m.childNodes[o],d(l,"x")===d(m,"x")&&d(l,"x",a);else if(!g.rotation||"x"!==i&&"y"!==i)if("fill"===i)a=y.color(a,m,i);else if("circle"!==v||"x"!==i&&"y"!==i)if("rect"===v&&"r"===i)d(m,{rx:a,ry:a}),u=!0;else if("translateX"===i||"translateY"===i||"rotation"===i||"verticalAlign"===i||"scaleX"===i||"scaleY"===i)f=!0,u=!0;else if("stroke"===i)a=y.color(a,m,i);else if("dashstyle"===i){if(i="stroke-dasharray",a=a&&a.toLowerCase(),"solid"===a)a=Jt;else if(a){for(a=a.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),o=a.length;o--;)a[o]=n(a[o])*t["stroke-width"];a=a.join(",")}}else"width"===i?a=n(a):"align"===i?(i="text-anchor",a={left:"start",center:"middle",right:"end"}[a]):"title"===i&&(c=m.getElementsByTagName("title")[0],c||(c=pt.createElementNS(Et,"title"),m.appendChild(c)),c.textContent=a);else i={x:"cx",y:"cy"}[i]||i;else f=!0;if("strokeWidth"===i&&(i="stroke-width"),("stroke-width"===i||"stroke"===i)&&(g[i]=a,g.stroke&&g["stroke-width"]?(d(m,"stroke",g.stroke),d(m,"stroke-width",g["stroke-width"]),g.hasStroke=!0):"stroke-width"===i&&0===a&&g.hasStroke&&(m.removeAttribute("stroke"),g.hasStroke=!1),u=!0),g.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(p||(g.symbolAttr(t),p=!0),u=!0),_&&/^(width|height|visibility|x|y|d|transform)$/.test(i))for(o=_.length;o--;)d(_[o],i,"height"===i?bt(a-(_[o].cutHeight||0),0):a);("width"===i||"height"===i)&&"rect"===v&&0>a&&(a=0),g[i]=a,"text"===i?(a!==g.textStr&&delete g.bBox,g.textStr=a,g.added&&y.buildText(g)):u||d(m,i,a)}f&&g.updateTransform()}return x},addClass:function(t){return d(this.element,"class",d(this.element,"class")+" "+t),this},symbolAttr:function(t){var e=this;be(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=f(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Jt)},crisp:function(t,e,i,n,r){var a,s,o=this,l={},u={};t=t||o.strokeWidth||o.attr&&o.attr("stroke-width")||0,s=mt(t)%2/2,u.x=vt(e||o.x||0)+s,u.y=vt(i||o.y||0)+s,u.width=vt((n||o.width||0)-2*s),u.height=vt((r||o.height||0)-2*s),u.strokeWidth=t;for(a in u)o[a]!==u[a]&&(o[a]=l[a]=u[a]);return l},css:function(e){var i,n=this,r=n.element,a=e&&e.width&&"text"===r.nodeName.toLowerCase(),s="",o=function(t,e){return"-"+e.toLowerCase()};if(e&&e.color&&(e.fill=e.color),e=t(n.styles,e),n.styles=e,Lt&&a&&delete e.width,Dt&&!Ft)a&&delete e.width,g(n.element,e);else{for(i in e)s+=i.replace(/([A-Z])/g,o)+":"+e[i]+";";n.attr({style:s})}return a&&n.added&&n.renderer.buildText(n),n},on:function(t,e){
return Ot&&"click"===t&&(this.element.ontouchstart=function(t){t.preventDefault(),e()}),this.element["on"+t]=e,this},setRadialReference:function(t){return this.element.radialReference=t,this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},htmlCss:function(e){var i=this,n=i.element,r=e&&"SPAN"===n.tagName&&e.width;return r&&(delete e.width,i.textWidth=r,i.updateTransform()),i.styles=t(i.styles,e),g(i.element,e),i},htmlGetBBox:function(){var t=this,e=t.element,i=t.bBox;return i||("text"===e.nodeName&&(e.style.position=Wt),i=t.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),i},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,i=t.element,r=t.translateX||0,a=t.translateY||0,s=t.x||0,o=t.y||0,l=t.textAlign||"left",u={left:0,center:.5,right:1}[l],c=l&&"left"!==l,d=t.shadows;if((r||a)&&(g(i,{marginLeft:r,marginTop:a}),d&&be(d,function(t){g(t,{marginLeft:r+1,marginTop:a+1})})),t.inverted&&be(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var p,m,v,y,b,_=t.rotation,x=0,w=1,C=0,S=n(t.textWidth),k=t.xCorr||0,I=t.yCorr||0,T=[_,l,i.innerHTML,t.textWidth].join(","),D={};T!==t.cTT&&(h(_)&&(e.isSVG?(b=Dt?"-ms-transform":Mt?"-webkit-transform":$t?"MozTransform":Tt?"-o-transform":"",D[b]=D.transform="rotate("+_+"deg)"):(x=_*kt,w=wt(x),C=Ct(x),D.filter=_?["progid:DXImageTransform.Microsoft.Matrix(M11=",w,", M12=",-C,", M21=",C,", M22=",w,", sizingMethod='auto expand')"].join(""):Jt),g(i,D)),p=f(t.elemWidth,i.offsetWidth),m=f(t.elemHeight,i.offsetHeight),p>S&&/[ \-]/.test(i.textContent||i.innerText)&&(g(i,{width:S+Kt,display:"block",whiteSpace:"normal"}),p=S),v=e.fontMetrics(i.style.fontSize).b,k=0>w&&-p,I=0>C&&-m,y=0>w*C,k+=C*v*(y?1-u:u),I-=w*v*(_?y?u:1-u:1),c&&(k-=p*u*(0>w?-1:1),_&&(I-=m*u*(0>C?-1:1)),g(i,{textAlign:l})),t.xCorr=k,t.yCorr=I),g(i,{left:s+k+Kt,top:o+I+Kt}),Mt&&(m=i.offsetHeight),t.cTT=T}},updateTransform:function(){var t=this,e=t.translateX||0,i=t.translateY||0,n=t.scaleX,r=t.scaleY,a=t.inverted,s=t.rotation,o=[];a&&(e+=t.attr("width"),i+=t.attr("height")),(e||i)&&o.push("translate("+e+","+i+")"),a?o.push("rotate(90) scale(-1,1)"):s&&o.push("rotate("+s+" "+(t.x||0)+" "+(t.y||0)+")"),(h(n)||h(r))&&o.push("scale("+f(n,1)+" "+f(r,1)+")"),o.length&&d(t.element,"transform",o.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,a,s,o,l,u={},h=this.renderer,d=h.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,(!i||r(i))&&(this.alignTo=l=i||"renderer",c(d,this),d.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,l=this.alignTo),i=f(i,h[l],h),n=t.align,a=t.verticalAlign,s=(i.x||0)+(t.x||0),o=(i.y||0)+(t.y||0),("right"===n||"center"===n)&&(s+=(i.width-(t.width||0))/{right:1,center:2}[n]),u[e?"translateX":"x"]=mt(s),("bottom"===a||"middle"===a)&&(o+=(i.height-(t.height||0))/({bottom:1,middle:2}[a]||1)),u[e?"translateY":"y"]=mt(o),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(){var e,i,n=this,r=n.bBox,a=n.renderer,s=n.rotation,o=n.element,l=n.styles,u=s*kt;if(!r){if(o.namespaceURI===Et||a.forExport){try{r=o.getBBox?t({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(c){}(!r||r.width<0)&&(r={width:0,height:0})}else r=n.htmlGetBBox();a.isSVG&&(e=r.width,i=r.height,Dt&&l&&"11px"===l.fontSize&&"22.7"===i.toPrecision(3)&&(r.height=i=14),s&&(r.width=xt(i*Ct(u))+xt(e*wt(u)),r.height=xt(i*wt(u))+xt(e*Ct(u)))),n.bBox=r}return r},show:function(){return this.attr({visibility:Xt})},hide:function(){return this.attr({visibility:qt})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.hide()}})},add:function(t){var e,i,r,a,s=this.renderer,o=t||s,l=o.element||s.box,u=l.childNodes,c=this.element,p=d(c,"zIndex");if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&s.buildText(this),p&&(o.handleZ=!0,p=n(p)),o.handleZ)for(r=0;r<u.length;r++)if(e=u[r],i=d(e,"zIndex"),e!==c&&(n(i)>p||!h(p)&&h(i))){l.insertBefore(c,e),a=!0;break}return a||l.appendChild(c),this.added=!0,ke(this,"add"),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i=this,n=i.element||{},r=i.shadows;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=n.point=null,De(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(e=0;e<i.stops.length;e++)i.stops[e]=i.stops[e].destroy();i.stops=null}i.safeRemoveChild(n),r&&be(r,function(t){i.safeRemoveChild(t)}),i.alignTo&&c(i.renderer.alignedObjects,i);for(t in i)delete i[t];return null},shadow:function(t,e,i){var n,r,a,s,o,l,u=[],c=this.element;if(t){for(s=f(t.width,3),o=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+f(t.offsetX,1)+", "+f(t.offsetY,1)+")",n=1;s>=n;n++)r=c.cloneNode(0),a=2*s+1-2*n,d(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":o*n,"stroke-width":a,transform:"translate"+l,fill:Jt}),i&&(d(r,"height",bt(d(r,"height")-a,0)),r.cutHeight=a),e?e.element.appendChild(r):c.parentNode.insertBefore(r,c),u.push(r);this.shadows=u}return this}};var Ee=function(){this.init.apply(this,arguments)};Ee.prototype={Element:N,init:function(t,e,i,n){var r,a,s=this,o=location;r=s.createElement("svg").attr({xmlns:Et,version:"1.1"}),t.appendChild(r.element),s.isSVG=!0,s.box=r.element,s.boxWrapper=r,s.alignedObjects=[],s.url=($t||Mt)&&pt.getElementsByTagName("base").length?o.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a=this.createElement("desc").add(),a.element.appendChild(pt.createTextNode("Created with "+zt+" "+Vt)),s.defs=this.createElement("defs").add(),s.forExport=n,s.gradients={},s.setSize(e,i,!1);var l,u;$t&&t.getBoundingClientRect&&(s.subPixelFix=l=function(){g(t,{left:0,top:0}),u=t.getBoundingClientRect(),g(t,{left:yt(u.left)-u.left+Kt,top:yt(u.top)-u.top+Kt})},l(),Ce(ft,"resize",l))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),M(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.subPixelFix&&Se(ft,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},buildText:function(t){for(var e=t.element,i=this,r=i.forExport,a=f(t.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),s=e.childNodes,o=/style="([^"]+)"/,l=/href="([^"]+)"/,u=d(e,"x"),c=t.styles,h=c&&c.width&&n(c.width),p=c&&c.lineHeight,m=s.length;m--;)e.removeChild(s[m]);h&&!t.added&&this.box.appendChild(e),""===a[a.length-1]&&a.pop(),be(a,function(n,a){var s,f=0;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),s=n.split("|||"),be(s,function(n){if(""!==n||1===s.length){var m,v={},y=pt.createElementNS(Et,"tspan");if(o.test(n)&&(m=n.match(o)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),d(y,"style",m)),l.test(n)&&!r&&(d(y,"onclick",'location.href="'+n.match(l)[1]+'"'),g(y,{cursor:"pointer"})),n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),y.appendChild(pt.createTextNode(n)),f?v.dx=0:v.x=u,d(y,v),!f&&a&&(!Ft&&r&&g(y,{display:"block"}),d(y,"dy",p||i.fontMetrics(/px$/.test(y.style.fontSize)?y.style.fontSize:c.fontSize).h,Mt&&y.offsetHeight)),e.appendChild(y),f++,h)for(var b,_,x=n.replace(/([^\^])-/g,"$1- ").split(" "),w=[];x.length||w.length;)delete t.bBox,_=t.getBBox().width,b=_>h,b&&1!==x.length?(y.removeChild(y.firstChild),w.unshift(x.pop())):(x=w,w=[],x.length&&(y=pt.createElementNS(Et,"tspan"),d(y,{dy:p||16,x:u}),m&&d(y,"style",m),e.appendChild(y),_>h&&(h=_))),x.length&&y.appendChild(pt.createTextNode(x.join(" ").replace(/- /g,"-")))}})})},button:function(i,n,r,a,s,o,l){var u,c,h,d,p,f=this.label(i,n,r,null,null,null,null,null,"button"),g=0,m="style",v={x1:0,y1:0,x2:0,y2:1};return s=e({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:v,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},s),h=s[m],delete s[m],o=e(s,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#FFF"],[1,"#ACF"]]}},o),d=o[m],delete o[m],l=e(s,{stroke:"#68A",fill:{linearGradient:v,stops:[[0,"#9BD"],[1,"#CDF"]]}},l),p=l[m],delete l[m],Ce(f.element,"mouseenter",function(){f.attr(o).css(d)}),Ce(f.element,"mouseleave",function(){u=[s,o,l][g],c=[h,d,p][g],f.attr(u).css(c)}),f.setState=function(t){g=t,t?2===t&&f.attr(l).css(p):f.attr(s).css(h)},f.on("click",function(){a.call(f)}).attr(s).css(t({cursor:"default"},h))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=mt(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=mt(t[2])+e%2/2),t},path:function(e){var i={fill:Jt};return s(e)?i.d=e:a(e)&&t(i,e),this.createElement("path").attr(i)},circle:function(t,e,i){var n=a(t)?t:{x:t,y:e,r:i};return this.createElement("circle").attr(n)},arc:function(t,e,i,n,r,s){return a(t)&&(e=t.y,i=t.r,n=t.innerR,r=t.start,s=t.end,t=t.x),this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:r||0,end:s||0})},rect:function(t,e,i,n,r,s){r=a(t)?t.r:r;var o=this.createElement("rect").attr({rx:r,ry:r,fill:Jt});return o.attr(a(t)?t:o.crisp(s,t,e,bt(i,0),bt(n,0)))},setSize:function(t,e,i){var n=this,r=n.alignedObjects,a=r.length;for(n.width=t,n.height=e,n.boxWrapper[f(i,!0)?"animate":"attr"]({width:t,height:e});a--;)r[a].align()},g:function(t){var e=this.createElement("g");return h(t)?e.attr({"class":Gt+t}):e},image:function(e,i,n,r,a){var s,o={preserveAspectRatio:Jt};return arguments.length>1&&t(o,{x:i,y:n,width:r,height:a}),s=this.createElement("image").attr(o),s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):s.element.setAttribute("hc-svg-href",e),s},symbol:function(e,i,n,r,a,s){var o,l,u,c,h,d=this.symbols[e],p=d&&d(mt(i),mt(n),r,a,s),f=/^url\((.*?)\)$/;return p?(o=this.path(p),t(o,{symbolName:e,x:i,y:n,width:r,height:a}),s&&t(o,s)):f.test(e)&&(h=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(mt((r-e[0])/2),mt((a-e[1])/2)))},u=e.match(f)[1],c=Nt[u],o=this.image(u).attr({x:i,y:n}),o.isImg=!0,c?h(o,c):(o.attr({width:0,height:0}),l=m("img",{onload:function(){h(o,Nt[u]=[this.width,this.height])},src:u}))),o},symbols:{circle:function(t,e,i,n){var r=.166*i;return[Zt,t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return[Zt,t,e,Qt,t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return[Zt,t+i/2,e,Qt,t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return[Zt,t,e,Qt,t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return[Zt,t+i/2,e,Qt,t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var a=r.start,s=r.r||i||n,o=r.end-.001,l=r.innerR,u=r.open,c=wt(a),h=Ct(a),d=wt(o),p=Ct(o),f=r.end-a<St?0:1;return[Zt,t+s*c,e+s*h,"A",s,s,0,f,1,t+s*d,e+s*p,u?Zt:Qt,t+l*d,e+l*p,"A",l,l,0,f,0,t+l*c,e+l*h,u?"":"Z"]}},clipRect:function(t,e,i,n){var r,a=Gt+Rt++,s=this.createElement("clipPath").attr({id:a}).add(this.defs);return r=this.rect(t,e,i,n,0).add(s),r.id=a,r.clipPath=s,r},color:function(t,i,n){var r,a,o,l,u,c,p,f,g,m,v,y=this,b=/^rgba/,_=[];if(t&&t.linearGradient?a="linearGradient":t&&t.radialGradient&&(a="radialGradient"),a){o=t[a],l=y.gradients,c=t.stops,g=i.radialReference,s(o)&&(t[a]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&g&&!h(o.gradientUnits)&&(o=e(o,{cx:g[0]-g[2]/2+o.cx*g[2],cy:g[1]-g[2]/2+o.cy*g[2],r:o.r*g[2],gradientUnits:"userSpaceOnUse"}));for(m in o)"id"!==m&&_.push(m,o[m]);for(m in c)_.push(c[m]);return _=_.join(","),l[_]?v=l[_].id:(o.id=v=Gt+Rt++,l[_]=u=y.createElement(a).attr(o).add(y.defs),u.stops=[],be(c,function(t){var e;b.test(t[1])?(r=Ae(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),e=y.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(u),u.stops.push(e)})),"url("+y.url+"#"+v+")"}return b.test(t)?(r=Ae(t),d(i,n+"-opacity",r.get("a")),r.get("rgb")):(i.removeAttribute(n+"-opacity"),t)},text:function(t,e,i,n){var r,a=this,s=K.chart.style,o=Lt||!Ft&&a.forExport;return n&&!a.forExport?a.html(t,e,i):(e=mt(f(e,0)),i=mt(f(i,0)),r=a.createElement("text").attr({x:e,y:i,text:t}).css({fontFamily:s.fontFamily,fontSize:s.fontSize}),o&&r.css({position:Wt}),r.x=e,r.y=i,r)},html:function(e,i,n){var r=K.chart.style,a=this.createElement("span"),s=a.attrSetters,o=a.element,l=a.renderer;return s.text=function(t){return t!==o.innerHTML&&delete this.bBox,o.innerHTML=t,!1},s.x=s.y=s.align=function(t,e){return"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform(),!1},a.attr({text:e,x:mt(i),y:mt(n)}).css({position:Wt,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),a.css=a.htmlCss,l.isSVG&&(a.add=function(e){var i,n,r=l.box.parentNode,s=[];if(e){if(i=e.div,!i){for(n=e;n;)s.push(n),n=n.parentGroup;be(s.reverse(),function(e){var n;i=e.div=e.div||m(Ht,{className:d(e.element,"class")},{position:Wt,left:(e.translateX||0)+Kt,top:(e.translateY||0)+Kt},i||r),n=i.style,t(e.attrSetters,{translateX:function(t){n.left=t+Kt},translateY:function(t){n.top=t+Kt},visibility:function(t,e){n[e]=t}})})}}else i=r;return i.appendChild(o),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a},fontMetrics:function(t){t=n(t||11);var e=24>t?t+4:mt(1.2*t),i=mt(.8*e);return{h:e,b:i}},label:function(i,n,r,a,s,o,l,u,c){function d(){var t,i,n=I.element.style;v=(void 0===y||void 0===b||k.styles.textAlign)&&I.getBBox(),k.width=(y||v.width||0)+2*D+U,k.height=(b||v.height||0)+2*D,w=D+S.fontMetrics(n&&n.fontSize).b,C&&(m||(t=mt(-T*D),i=u?-w:0,k.box=m=a?S.symbol(a,t,i,k.width,k.height):S.rect(t,i,k.width,k.height,0,$[de]),m.add(k)),m.isImg||m.attr(e({width:k.width,height:k.height},$)),$=null)}function p(){var t,e=k.styles,i=e&&e.textAlign,n=U+D*(1-T);t=u?0:w,!h(y)||"center"!==i&&"right"!==i||(n+={center:.5,right:1}[i]*(y-v.width)),(n!==I.x||t!==I.y)&&I.attr({x:n,y:t}),I.x=n,I.y=t}function f(t,e){m?m.attr(t,e):$[t]=e}function g(){I.add(k),k.attr({text:i,x:n,y:r}),m&&h(s)&&k.attr({anchorX:s,anchorY:o})}var m,v,y,b,_,x,w,C,S=this,k=S.g(c),I=S.text("",0,0,l).attr({zIndex:1}),T=0,D=3,U=0,M=0,$={},A=k.attrSetters;Ce(k,"add",g),A.width=function(t){return y=t,!1},A.height=function(t){return b=t,!1},A.padding=function(t){return h(t)&&t!==D&&(D=t,p()),!1},A.paddingLeft=function(t){return h(t)&&t!==U&&(U=t,p()),!1},A.align=function(t){return T={left:0,center:.5,right:1}[t],!1},A.text=function(t,e){return I.attr(e,t),d(),p(),!1},A[de]=function(t,e){return C=!0,M=t%2/2,f(e,t),!1},A.stroke=A.fill=A.r=function(t,e){return"fill"===e&&(C=!0),f(e,t),!1},A.anchorX=function(t,e){return s=t,f(e,t+M-_),!1},A.anchorY=function(t,e){return o=t,f(e,t-x),!1},A.x=function(t){return k.x=t,t-=T*((y||v.width)+D),_=mt(t),k.attr("translateX",_),!1},A.y=function(t){return x=k.y=mt(t),k.attr("translateY",x),!1};var E=k.css;return t(k,{css:function(t){if(t){var i={};t=e(t),be(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(e){t[e]!==q&&(i[e]=t[e],delete t[e])}),I.css(i)}return E.call(k,t)},getBBox:function(){return{width:v.width+2*D,height:v.height+2*D,x:v.x-D,y:v.y-D}},shadow:function(t){return m&&m.shadow(t),k},destroy:function(){Se(k,"add",g),Se(k.element,"mouseenter"),Se(k.element,"mouseleave"),I&&(I=I.destroy()),m&&(m=m.destroy()),N.prototype.destroy.call(k),k=S=d=p=f=g=null}})}},G=Ee;var Fe,Pe;if(!Ft&&!Lt){Highcharts.VMLElement=Pe={init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],r=["position: ",Wt,";"],a=e===Ht;("shape"===e||a)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",a?qt:Xt),n.push(' style="',r.join(""),'"/>'),e&&(n=a||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=m(n)),i.renderer=t,i.attrSetters={}},add:function(t){var e=this,i=e.renderer,n=e.element,r=i.box,a=t&&t.inverted,s=t?t.element||t:r;return a&&i.invertChild(n,s),s.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),ke(e,"add"),e},updateTransform:N.prototype.htmlUpdateTransform,attr:function(t,e){var i,n,a,s,l,u,c=this,p=c.element||{},f=p.style,g=p.nodeName,v=c.renderer,y=c.symbolName,b=c.shadows,_=c.attrSetters,x=c;if(r(t)&&h(e)&&(i=t,t={},t[i]=e),r(t))i=t,x="strokeWidth"===i||"stroke-width"===i?c.strokeweight:c[i];else for(i in t)if(n=t[i],u=!1,s=_[i]&&_[i].call(c,n,i),s!==!1&&null!==n){if(s!==q&&(n=s),y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(i))l||(c.symbolAttr(t),l=!0),u=!0;else if("d"===i){n=n||[],c.d=n.join(" "),a=n.length;for(var w,C=[];a--;)o(n[a])?C[a]=mt(10*n[a])-5:"Z"===n[a]?C[a]="x":(C[a]=n[a],!n.isArc||"wa"!==n[a]&&"at"!==n[a]||(w="wa"===n[a]?1:-1,C[a+5]===C[a+7]&&(C[a+7]-=w),C[a+6]===C[a+8]&&(C[a+8]-=w)));if(n=C.join(" ")||"x",p.path=n,b)for(a=b.length;a--;)b[a].path=b[a].cutOff?this.cutOffPath(n,b[a].cutOff):n;u=!0}else if("visibility"===i){if(b)for(a=b.length;a--;)b[a].style[i]=n;"DIV"===g&&(n=n===qt?"-999em":0,Ut||(f[i]=n?Xt:qt),i="top"),f[i]=n,u=!0}else if("zIndex"===i)n&&(f[i]=n),u=!0;else if(-1!==ye(i,["x","y","width","height"]))c[i]=n,"x"===i||"y"===i?i={x:"left",y:"top"}[i]:n=bt(0,n),c.updateClipping?(c[i]=n,c.updateClipping()):f[i]=n,u=!0;else if("class"===i&&"DIV"===g)p.className=n;else if("stroke"===i)n=v.color(n,p,i),i="strokecolor";else if("stroke-width"===i||"strokeWidth"===i)p.stroked=n?!0:!1,i="strokeweight",c[i]=n,o(n)&&(n+=Kt);else if("dashstyle"===i){var S=p.getElementsByTagName("stroke")[0]||m(v.prepVML(["<stroke/>"]),null,null,p);S[i]=n||"solid",c.dashstyle=n,u=!0}else"fill"===i?"SPAN"===g?f.color=n:"IMG"!==g&&(p.filled=n!==Jt?!0:!1,n=v.color(n,p,i,c),i="fillcolor"):"opacity"===i?u=!0:"shape"===g&&"rotation"===i?(c[i]=n,p.style.left=-mt(Ct(n*kt)+1)+Kt,p.style.top=mt(wt(n*kt))+Kt):"translateX"===i||"translateY"===i||"rotation"===i?(c[i]=n,c.updateTransform(),u=!0):"text"===i&&(this.bBox=null,p.innerHTML=n,u=!0);u||(Ut?p[i]=n:d(p,i,n))}return x},clip:function(t){var e,i,n=this;return t?(e=t.members,c(e,n),e.push(n),n.destroyClip=function(){c(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:Ut?"inherit":"rect(auto)"}),n.css(i)},css:N.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&$(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),N.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=ft.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,(9===i||11===i)&&(t[i-4]=t[i-2]=n(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var r,a,s,o,l,u,c,h=[],d=this.element,p=this.renderer,g=d.style,v=d.path;if(v&&"string"!=typeof v.value&&(v="x"),l=v,t){for(u=f(t.width,3),c=(t.opacity||.15)/u,r=1;3>=r;r++)o=2*u+1-2*r,i&&(l=this.cutOffPath(v.value,o+.5)),s=['<shape isShadow="true" strokeweight="',o,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],a=m(p.prepVML(s),null,{left:n(g.left)+f(t.offsetX,1),top:n(g.top)+f(t.offsetY,1)}),i&&(a.cutOff=o+1),s=['<stroke color="',t.color||"black",'" opacity="',c*r,'"/>'],m(p.prepVML(s),null,null,a),e?e.element.appendChild(a):d.parentNode.insertBefore(a,d),h.push(a);this.shadows=h}return this}},Pe=v(N,Pe);var Le={Element:Pe,isIE8:It.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,r,a=this;a.alignedObjects=[],n=a.createElement(Ht),r=n.element,r.style.position=Yt,t.appendChild(n.element),a.isVML=!0,a.box=r,a.boxWrapper=n,a.setSize(e,i,!1),pt.namespaces.hcv||(pt.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),pt.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,i,n,r){var s=this.createElement(),o=a(e);return t(s,{members:[],left:o?e.x:e,top:o?e.y:i,width:o?e.width:n,height:o?e.height:r,getCSS:function(e){var i=e.element,n=i.nodeName,r="shape"===n,a=e.inverted,s=this,o=s.top-(r?i.offsetTop:0),l=s.left,u=l+s.width,c=o+s.height,h={clip:"rect("+mt(a?l:o)+"px,"+mt(a?c:u)+"px,"+mt(a?u:c)+"px,"+mt(a?o:l)+"px)"};return!a&&Ut&&"DIV"===n&&t(h,{width:u+Kt,height:c+Kt}),h},updateClipping:function(){be(s.members,function(t){t.css(s.getCSS(t))})}})},color:function(t,e,i,n){var r,a,s,o=this,l=/^rgba/,u=Jt;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var c,h,d,p,f,g,v,y,b,_,x,w,C=t.linearGradient||t.radialGradient,S="",k=t.stops,I=[],T=function(){a=['<fill colors="'+I.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',s,'" ',S,'focus="100%" method="any" />'],m(o.prepVML(a),null,null,e)};if(x=k[0],w=k[k.length-1],x[0]>0&&k.unshift([0,x[1]]),w[0]<1&&k.push([1,w[1]]),be(k,function(t,e){l.test(t[1])?(r=Ae(t[1]),c=r.get("rgb"),h=r.get("a")):(c=t[1],h=1),I.push(100*t[0]+"% "+c),e?(y=h,b=c):(v=h,_=c)}),"fill"===i)if("gradient"===s)d=C.x1||C[0]||0,p=C.y1||C[1]||0,f=C.x2||C[2]||0,g=C.y2||C[3]||0,S='angle="'+(90-180*gt.atan((g-p)/(f-d))/St)+'"',T();else{var D,U=C.r,M=2*U,$=2*U,A=C.cx,E=C.cy,F=e.radialReference,P=function(){F&&(D=n.getBBox(),A+=(F[0]-D.x)/D.width-.5,E+=(F[1]-D.y)/D.height-.5,M*=F[2]/D.width,$*=F[2]/D.height),S='src="'+K.global.VMLRadialGradientURL+'" size="'+M+","+$+'" origin="0.5,0.5" position="'+A+","+E+'" color2="'+_+'" ',T()};n.added?P():Ce(n,"add",P),u=b}else u=c}else if(l.test(t)&&"IMG"!==e.tagName)r=Ae(t),a=["<",i,' opacity="',r.get("a"),'"/>'],m(this.prepVML(a),null,null,e),u=r.get("rgb");else{var L=e.getElementsByTagName(i);L.length&&(L[0].opacity=1,L[0].type="solid"),u=t}return u},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Ee.prototype.html,path:function(e){var i={coordsize:"10 10"};return s(e)?i.d=e:a(e)&&t(i,e),this.createElement("shape").attr(i)},circle:function(t,e,i){return a(t)&&(i=t.r,e=t.y,t=t.x),this.symbol("circle").attr({x:t-i,y:e-i,width:2*i,height:2*i})},g:function(t){var e,i;return t&&(i={className:Gt+t,"class":Gt+t}),e=this.createElement(Ht).attr(i)},image:function(t,e,i,n,r){var a=this.createElement("img").attr({src:t});return arguments.length>1&&a.attr({x:e,y:i,width:n,height:r}),a},rect:function(t,e,i,n,r,s){a(t)&&(e=t.y,i=t.width,n=t.height,s=t.strokeWidth,t=t.x);var o=this.symbol("rect");return o.r=r,o.attr(o.crisp(s,t,e,bt(i,0),bt(n,0)))},invertChild:function(t,e){var i=e.style;g(t,{flip:"x",left:n(i.width)-1,top:n(i.height)-1,rotation:-90})},symbols:{arc:function(t,e,i,n,r){var a,s=r.start,o=r.end,l=r.r||i||n,u=r.innerR,c=wt(s),h=Ct(s),d=wt(o),p=Ct(o);return o-s===0?["x"]:(a=["wa",t-l,e-l,t+l,e+l,t+l*c,e+l*h,t+l*d,e+l*p],r.open&&!u&&a.push("e",Zt,t,e),a.push("at",t-u,e-u,t+u,e+u,t+u*d,e+u*p,t+u*c,e+u*h,"x","e"),a.isArc=!0,a)},circle:function(t,e,i,n){return["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){var a,s,o=t+i,l=e+n;return h(r)&&r.r?(s=_t(r.r,i,n),a=[Zt,t+s,e,Qt,o-s,e,"wa",o-2*s,e,o,e+2*s,o-s,e,o,e+s,Qt,o,l-s,"wa",o-2*s,l-2*s,o,l,o,l-s,o-s,l,Qt,t+s,l,"wa",t,l-2*s,t+2*s,l,t+s,l,t,l-s,Qt,t,e+s,"wa",t,e,t+2*s,e+2*s,t,e+s,t+s,e,"x","e"]):a=Ee.prototype.symbols.square.apply(0,arguments),a}}};Highcharts.VMLRenderer=Fe=function(){this.init.apply(this,arguments)},Fe.prototype=e(Ee.prototype,Le),G=Fe}var Oe,Ne;Lt&&(Highcharts.CanVGRenderer=Oe=function(){Et="http://www.w3.org/1999/xhtml"},Oe.prototype.symbols={},Ne=function(){function t(){var t,i=e.length;for(t=0;i>t;t++)e[t]();e=[]}var e=[];return{push:function(i,n){0===e.length&&ve(n,t),e.push(i)}}}(),G=Oe),R.prototype={addLabel:function(){var e,i,n,r,a=this,s=a.axis,l=s.options,c=s.chart,d=s.horiz,p=s.categories,g=s.series[0]&&s.series[0].names,m=a.pos,v=l.labels,y=s.tickPositions,b=d&&p&&!v.step&&!v.staggerLines&&!v.rotation&&c.plotWidth/y.length||!d&&(c.optionsMarginLeft||c.plotWidth/2),_=m===y[0],x=m===y[y.length-1],w=p?f(p[m],g&&g[m],m):m,C=a.label,S=y.info;s.isDatetimeAxis&&S&&(r=l.dateTimeLabelFormats[S.higherRanks[m]||S.unitName]),a.isFirst=_,a.isLast=x,e=s.labelFormatter.call({axis:s,chart:c,isFirst:_,isLast:x,dateTimeLabelFormat:r,value:s.isLog?E(u(w)):w}),i=b&&{width:bt(1,mt(b-2*(v.padding||10)))+Kt},i=t(i,v.style),h(C)?C&&C.attr({text:e}).css(i):(n={align:v.align},o(v.rotation)&&(n.rotation=v.rotation),a.label=h(e)&&v.enabled?c.renderer.text(e,0,0,v.useHTML).attr(n).css(i).add(s.labelGroup):null)},getLabelSize:function(){var t=this.label,e=this.axis;return t?(this.labelBBox=t.getBBox())[e.horiz?"height":"width"]:0},getLabelSides:function(){var t=this.labelBBox,e=this.axis,i=e.options,n=i.labels,r=t.width,a=r*{left:0,center:.5,right:1}[n.align]-n.x;return[-a,r-a]},handleOverflow:function(t,e){var i=!0,n=this.axis,r=n.chart,a=this.isFirst,s=this.isLast,o=e.x,l=n.reversed,u=n.tickPositions;if(a||s){var c=this.getLabelSides(),h=c[0],d=c[1],p=r.plotLeft,f=p+n.len,g=n.ticks[u[t+(a?1:-1)]],m=g&&g.label.xy&&g.label.xy.x+g.getLabelSides()[a?0:1];a&&!l||s&&l?p>o+h&&(o=p-h,g&&o+d>m&&(i=!1)):o+d>f&&(o=f-d,g&&m>o+h&&(i=!1)),e.x=o}return i},getPosition:function(t,e,i,n){var r=this.axis,a=r.chart,s=n&&a.oldChartHeight||a.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&a.oldChartWidth||a.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,i,r,a,s,o,l){var u=this.axis,c=u.transA,d=u.reversed,p=u.staggerLines;return t=t+a.x-(s&&r?s*c*(d?-1:1):0),e=e+a.y-(s&&!r?s*c*(d?1:-1):0),h(a.y)||(e+=.9*n(i.styles.lineHeight)-i.getBBox().height/2),p&&(e+=o/(l||1)%p*16),{x:t,y:e}},getMarkPath:function(t,e,i,n,r,a){return a.crispLine([Zt,t,e,Qt,t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e,i){var n,r,a,s=this,o=s.axis,l=o.options,u=o.chart,c=u.renderer,h=o.horiz,d=s.type,p=s.label,g=s.pos,m=l.labels,v=s.gridLine,y=d?d+"Grid":"grid",b=d?d+"Tick":"tick",_=l[y+"LineWidth"],x=l[y+"LineColor"],w=l[y+"LineDashStyle"],C=l[b+"Length"],S=l[b+"Width"]||0,k=l[b+"Color"],I=l[b+"Position"],T=s.mark,D=m.step,U=!0,M=o.tickmarkOffset,$=s.getPosition(h,g,M,e),A=$.x,E=$.y,F=h&&A===o.pos||!h&&E===o.pos+o.len?-1:1,P=o.staggerLines;this.isActive=!0,_&&(n=o.getPlotLinePath(g+M,_*F,e,!0),v===q&&(a={stroke:x,"stroke-width":_},w&&(a.dashstyle=w),d||(a.zIndex=1),e&&(a.opacity=0),s.gridLine=v=_?c.path(n).attr(a).add(o.gridGroup):null),!e&&v&&n&&v[s.isNew?"attr":"animate"]({d:n,opacity:i})),S&&C&&("inside"===I&&(C=-C),o.opposite&&(C=-C),r=s.getMarkPath(A,E,C,S*F,h,c),T?T.animate({d:r,opacity:i}):s.mark=c.path(r).attr({stroke:k,"stroke-width":S,opacity:i}).add(o.axisGroup)),p&&!isNaN(A)&&(p.xy=$=s.getLabelPosition(A,E,p,h,m,M,t,D),s.isFirst&&!f(l.showFirstLabel,1)||s.isLast&&!f(l.showLastLabel,1)?U=!1:P||!h||"justify"!==m.overflow||s.handleOverflow(t,$)||(U=!1),D&&t%D&&(U=!1),U&&!isNaN($.y)?($.opacity=i,p[s.isNew?"attr":"animate"]($),s.isNew=!1):p.attr("y",-9999))},destroy:function(){M(this,this.axis)}},B.prototype={render:function(){var t,i,n,r,a,s,o,u=this,c=u.axis,d=c.horiz,p=(c.pointRange||0)/2,g=u.options,m=g.label,v=u.label,y=g.width,b=g.to,_=g.from,x=h(_)&&h(b),w=g.value,C=g.dashStyle,S=u.svgElem,k=[],I=g.color,T=g.zIndex,M=g.events,$=c.chart.renderer;if(c.isLog&&(_=l(_),b=l(b),w=l(w)),y)k=c.getPlotLinePath(w,y),o={stroke:I,"stroke-width":y},C&&(o.dashstyle=C);else{if(!x)return;_=bt(_,c.min-p),b=_t(b,c.max+p),k=c.getPlotBandPath(_,b,g),o={fill:I},g.borderWidth&&(o.stroke=g.borderColor,o["stroke-width"]=g.borderWidth)}if(h(T)&&(o.zIndex=T),S)k?S.animate({d:k},null,S.onGetPath):(S.hide(),S.onGetPath=function(){S.show()});else if(k&&k.length&&(u.svgElem=S=$.path(k).attr(o).add(),M)){t=function(t){S.on(t,function(e){M[t].apply(u,[e])})};for(i in M)t(i)}return m&&h(m.text)&&k&&k.length&&c.width>0&&c.height>0?(m=e({align:d&&x&&"center",x:d?!x&&4:10,verticalAlign:!d&&x&&"middle",y:d?x?16:10:x?6:-4,rotation:d&&!x&&90},m),v||(u.label=v=$.text(m.text,0,0).attr({align:m.textAlign||m.align,rotation:m.rotation,zIndex:T}).css(m.style).add()),n=[k[1],k[4],f(k[6],k[1])],r=[k[2],k[5],f(k[7],k[2])],a=D(n),s=D(r),v.align(m,!1,{x:a,y:s,width:U(n)-a,height:U(r)-s}),v.show()):v&&v.hide(),u},destroy:function(){var t=this,e=t.axis;c(e.plotLinesAndBands,t),M(t,this.axis)}},j.prototype={destroy:function(){M(this,this.axis)},setTotal:function(t){this.total=t,this.cum=t},render:function(t){var e=this.options,i=e.formatter.call(this);this.label?this.label.attr({text:i,visibility:qt}):this.label=this.axis.chart.renderer.text(i,0,0,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:qt}).add(t)},setOffset:function(t,e){var i,n=this,r=n.axis,a=r.chart,s=a.inverted,o=this.isNegative,l=r.translate(this.percent?100:this.total,0,0,0,1),u=r.translate(0),c=xt(l-u),h=a.xAxis[0].translate(this.x)+t,d=a.plotHeight,p={x:s?o?l:l-c:h,y:s?d-h-e:o?d-l-c:d-l,width:s?c:e,height:s?e:c},f=this.label;f&&(f.align(this.alignOptions,null,p),i=f.alignAttr,f.attr({visibility:this.options.crop===!1||a.isInsidePlot(i.x,i.y)?Ft?"inherit":Xt:qt}))}},z.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ue,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Ue.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,e){var i=e.isX,n=this;n.horiz=t.inverted?!i:i,n.isXAxis=i,n.xOrY=i?"x":"y",n.opposite=e.opposite,n.side=n.horiz?n.opposite?0:2:n.opposite?1:3,n.setOptions(e);var r=this.options,a=r.type,s="datetime"===a;n.labelFormatter=r.labels.formatter||n.defaultLabelFormatter,n.staggerLines=n.horiz&&r.labels.staggerLines,n.userOptions=e,n.minPixelPadding=0,n.chart=t,n.reversed=r.reversed,n.zoomEnabled=r.zoomEnabled!==!1,n.categories=r.categories||"category"===a,n.isLog="logarithmic"===a,n.isDatetimeAxis=s,n.isLinked=h(r.linkedTo),n.tickmarkOffset=n.categories&&"between"===r.tickmarkPlacement?.5:0,n.ticks={},n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=r.minRange||r.maxZoom,n.range=r.range,n.offset=r.offset||0,n.stacks={},n._stacksTouched=0,n.max=null,n.min=null;var o,c=n.options.events;-1===ye(n,t.axes)&&(t.axes.push(n),t[i?"xAxis":"yAxis"].push(n)),n.series=n.series||[],t.inverted&&i&&n.reversed===q&&(n.reversed=!0),n.removePlotBand=n.removePlotBandOrLine,n.removePlotLine=n.removePlotBandOrLine;for(o in c)Ce(n,o,c[o]);n.isLog&&(n.val2lin=l,n.lin2val=u)},setOptions:function(t){this.options=e(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e(K[this.isXAxis?"xAxis":"yAxis"],t))},update:function(t,i){var n=this.chart;t=n.options[this.xOrY+"Axis"][this.options.index]=e(this.userOptions,t),this.destroy(),this._addedPlotLB=!1,this.init(n,t),n.isDirtyBox=!0,f(i,!0)&&n.redraw()},remove:function(t){var e=this.chart,i=this.xOrY+"Axis";be(this.series,function(t){t.remove(!1)}),c(e.axes,this),c(e[i],this),e.options[i].splice(this.options.index,1),this.destroy(),e.isDirtyBox=!0,f(t,!0)&&e.redraw()},defaultLabelFormatter:function(){var t,e,i=this.axis,n=this.value,r=i.categories,a=this.dateTimeLabelFormat,s=K.lang.numericSymbols,o=s&&s.length,l=i.options.labels.format,u=i.isLog?n:i.tickInterval;if(l)e=w(l,this);else if(r)e=n;else if(a)e=J(a,n);else if(o&&u>=1e3)for(;o--&&e===q;)t=Math.pow(1e3,o+1),u>=t&&null!==s[o]&&(e=y(n/t,-1)+s[o]);return e===q&&(e=n>=1e3?y(n,0):y(n,-1)),e},getSeriesExtremes:function(){var t,e,i=this,n=i.chart,r=i.stacks,a=[],s=[],o=i._stacksTouched=i._stacksTouched+1;i.hasVisibleSeries=!1,i.dataMin=i.dataMax=null,be(i.series,function(t){if(t.visible||!n.options.chart.ignoreHiddenSeries){
var l,u,c,d,p,g,m,v,y,b,_,x,w,C=t.options,S=C.threshold,k=[],I=0;if(i.hasVisibleSeries=!0,i.isLog&&0>=S&&(S=C.threshold=null),i.isXAxis)m=t.xData,m.length&&(i.dataMin=_t(f(i.dataMin,m[0]),D(m)),i.dataMax=bt(f(i.dataMax,m[0]),U(m)));else{var T,M,$,A,F=t.cropped,P=t.xAxis.getExtremes(),L=!!t.modifyValue;for(l=C.stacking,i.usePercentage="percent"===l,l&&(p=C.stack,d=t.type+f(p,""),g="-"+d,t.stackKey=d,u=a[d]||[],a[d]=u,c=s[g]||[],s[g]=c),i.usePercentage&&(i.dataMin=0,i.dataMax=99),m=t.processedXData,v=t.processedYData,_=v.length,e=0;_>e;e++)if(y=m[e],b=v[e],l&&(T=S>b,M=T?c:u,$=T?g:d,h(M[y])?(M[y]=E(M[y]+b),b=[b,M[y]]):M[y]=b,r[$]||(r[$]={}),r[$][y]||(r[$][y]=new j(i,i.options.stackLabels,T,y,p,l)),r[$][y].setTotal(M[y]),r[$][y].touched=o),null!==b&&b!==q&&(!i.isLog||b.length||b>0)&&(L&&(b=t.modifyValue(b)),t.getExtremesFromAll||F||(m[e+1]||y)>=P.min&&(m[e-1]||y)<=P.max))if(A=b.length)for(;A--;)null!==b[A]&&(k[I++]=b[A]);else k[I++]=b;!i.usePercentage&&k.length&&(t.dataMin=x=D(k),t.dataMax=w=U(k),i.dataMin=_t(f(i.dataMin,x),x),i.dataMax=bt(f(i.dataMax,w),w)),h(S)&&(i.dataMin>=S?(i.dataMin=S,i.ignoreMinPadding=!0):i.dataMax<S&&(i.dataMax=S,i.ignoreMaxPadding=!0))}}});for(t in r)for(e in r[t])r[t][e].touched<o&&(r[t][e].destroy(),delete r[t][e])},translate:function(t,e,i,n,r,a){var s,o=this,l=o.len,u=1,c=0,h=n?o.oldTransA:o.transA,d=n?o.oldMin:o.min,p=o.minPixelPadding,f=(o.options.ordinal||o.isLog&&r)&&o.lin2val;return h||(h=o.transA),i&&(u*=-1,c=l),o.reversed&&(u*=-1,c-=u*l),e?(t=t*u+c,t-=p,s=t/h+d,f&&(s=o.lin2val(s))):(f&&(t=o.val2lin(t)),s=u*(t-d)*h+c+u*p+(a?h*o.pointRange/2:0)),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n){var r,a,s,o,l,u=this,c=u.chart,h=u.left,d=u.top,p=u.translate(t,null,null,i),f=i&&c.oldChartHeight||c.chartHeight,g=i&&c.oldChartWidth||c.chartWidth,m=u.transB;return r=s=mt(p+m),a=o=mt(f-p-m),isNaN(p)?l=!0:u.horiz?(a=d,o=f-u.bottom,(h>r||r>h+u.width)&&(l=!0)):(r=h,s=g-u.right,(d>a||a>d+u.height)&&(l=!0)),l&&!n?null:c.renderer.crispLine([Zt,r,a,Qt,s,o],e||0)},getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e),n=this.getPlotLinePath(t);return n&&i?n.push(i[4],i[5],i[1],i[2]):n=null,n},getLinearTickPositions:function(t,e,i){var n,r,a=E(vt(e/t)*t),s=E(yt(i/t)*t),o=[];for(n=a;s>=n&&(o.push(n),n=E(n+t),n!==r);)r=n;return o},getLogTickPositions:function(t,e,i,n){var r=this,a=r.options,s=r.len,o=[];if(n||(r._minorAutoInterval=null),t>=.5)t=mt(t),o=r.getLinearTickPositions(t,e,i);else if(t>=.08){var c,h,d,p,g,m,v,y=vt(e);for(c=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],h=y;i+1>h&&!v;h++)for(p=c.length,d=0;p>d&&!v;d++)g=l(u(h)*c[d]),g>e&&(!n||i>=m)&&o.push(m),m>i&&(v=!0),m=g}else{var b=u(e),_=u(i),x=a[n?"minorTickInterval":"tickInterval"],w="auto"===x?null:x,S=a.tickPixelInterval/(n?5:1),k=n?s/r.tickPositions.length:s;t=f(w,r._minorAutoInterval,(_-b)*S/(k||1)),t=C(t,null,gt.pow(10,vt(gt.log(t)/gt.LN10))),o=we(r.getLinearTickPositions(t,b,_),l),n||(r._minorAutoInterval=t/5)}return n||(r.tickInterval=t),o},getMinorTickPositions:function(){var t,e,i,n=this,r=n.options,a=n.tickPositions,s=n.minorTickInterval,o=[];if(n.isLog)for(i=a.length,e=1;i>e;e++)o=o.concat(n.getLogTickPositions(s,a[e-1],a[e],!0));else if(n.isDatetimeAxis&&"auto"===r.minorTickInterval)o=o.concat(k(S(s),n.min,n.max,r.startOfWeek)),o[0]<n.min&&o.shift();else for(t=n.min+(a[0]-n.min)%s;t<=n.max;t+=s)o.push(t);return o},adjustForMinRange:function(){var t,e,i,n,r,a,s,o,l=this,u=l.options,c=l.min,d=l.max,p=l.dataMax-l.dataMin>=l.minRange;if(l.isXAxis&&l.minRange===q&&!l.isLog&&(h(u.min)||h(u.max)?l.minRange=null:(be(l.series,function(t){for(r=t.xData,a=t.xIncrement?1:r.length-1,i=a;i>0;i--)n=r[i]-r[i-1],(e===q||e>n)&&(e=n)}),l.minRange=_t(5*e,l.dataMax-l.dataMin))),d-c<l.minRange){var g=l.minRange;t=(g-d+c)/2,s=[c-t,f(u.min,c-t)],p&&(s[2]=l.dataMin),c=U(s),o=[c+g,f(u.max,c+g)],p&&(o[2]=l.dataMax),d=D(o),g>d-c&&(s[0]=d-g,s[1]=f(u.min,d-g),c=U(s))}l.min=c,l.max=d},setAxisTranslation:function(t){var e,i,n=this,r=n.max-n.min,a=0,s=0,o=0,l=n.linkedParent,u=n.transA;n.isXAxis&&(l?(s=l.minPointOffset,o=l.pointRangePadding):be(n.series,function(t){var i=t.pointRange,n=t.options.pointPlacement,l=t.closestPointRange;i>r&&(i=0),a=bt(a,i),s=bt(s,n?0:i/2),o=bt(o,"on"===n?0:i),!t.noSharedTooltip&&h(l)&&(e=h(e)?_t(e,l):l)}),i=n.ordinalSlope?n.ordinalSlope/e:1,n.minPointOffset=s*=i,n.pointRangePadding=o*=i,n.pointRange=_t(a,r),n.closestPointRange=e),t&&(n.oldTransA=u),n.translationSlope=n.transA=u=n.len/(r+o||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=u*s},setTickPositions:function(t){var e,i,n,r,a=this,s=a.chart,o=a.options,u=a.isLog,c=a.isDatetimeAxis,d=a.isXAxis,p=a.isLinked,g=a.options.tickPositioner,m=o.maxPadding,v=o.minPadding,y=o.tickInterval,b=o.minTickInterval,_=o.tickPixelInterval,x=a.categories;if(p?(a.linkedParent=s[d?"xAxis":"yAxis"][o.linkedTo],n=a.linkedParent.getExtremes(),a.min=f(n.min,n.dataMin),a.max=f(n.max,n.dataMax),o.type!==a.linkedParent.options.type&&A(11,1)):(a.min=f(a.userMin,o.min,a.dataMin),a.max=f(a.userMax,o.max,a.dataMax)),u&&(!t&&_t(a.min,f(a.dataMin,a.min))<=0&&A(10,1),a.min=E(l(a.min)),a.max=E(l(a.max))),a.range&&(a.userMin=a.min=bt(a.min,a.max-a.range),a.userMax=a.max,t&&(a.range=null)),a.beforePadding&&a.beforePadding(),a.adjustForMinRange(),x||a.usePercentage||p||!h(a.min)||!h(a.max)||(i=a.max-a.min,i&&(h(o.min)||h(a.userMin)||!v||!(a.dataMin<0)&&a.ignoreMinPadding||(a.min-=i*v),h(o.max)||h(a.userMax)||!m||!(a.dataMax>0)&&a.ignoreMaxPadding||(a.max+=i*m))),a.min===a.max||void 0===a.min||void 0===a.max?a.tickInterval=1:p&&!y&&_===a.linkedParent.options.tickPixelInterval?a.tickInterval=a.linkedParent.tickInterval:a.tickInterval=f(y,x?1:(a.max-a.min)*_/(a.len||1)),d&&!t&&be(a.series,function(t){t.processData(a.min!==a.oldMin||a.max!==a.oldMax)}),a.setAxisTranslation(!0),a.beforeSetTickPositions&&a.beforeSetTickPositions(),a.postProcessTickInterval&&(a.tickInterval=a.postProcessTickInterval(a.tickInterval)),!y&&a.tickInterval<b&&(a.tickInterval=b),c||u||(e=gt.pow(10,vt(gt.log(a.tickInterval)/gt.LN10)),y||(a.tickInterval=C(a.tickInterval,null,e,o))),a.minorTickInterval="auto"===o.minorTickInterval&&a.tickInterval?a.tickInterval/5:o.minorTickInterval,a.tickPositions=r=o.tickPositions?[].concat(o.tickPositions):g&&g.apply(a,[a.min,a.max]),r||(r=c?(a.getNonLinearTimeTicks||k)(S(a.tickInterval,o.units),a.min,a.max,o.startOfWeek,a.ordinalPositions,a.closestPointRange,!0):u?a.getLogTickPositions(a.tickInterval,a.min,a.max):a.getLinearTickPositions(a.tickInterval,a.min,a.max),a.tickPositions=r),!p){var w,I=r[0],T=r[r.length-1],D=a.minPointOffset||0;o.startOnTick?a.min=I:a.min-D>I&&r.shift(),o.endOnTick?a.max=T:a.max+D<T&&r.pop(),1===r.length&&(w=.001,a.min-=w,a.max+=w)}},setMaxTicks:function(){var t=this.chart,e=t.maxTicks||{},i=this.tickPositions,n=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&i&&i.length>(e[n]||0)&&this.options.alignTicks!==!1&&(e[n]=i.length),t.maxTicks=e},adjustTickAmount:function(){var t=this,e=t.chart,i=t._maxTicksKey,n=t.tickPositions,r=e.maxTicks;if(r&&r[i]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1){var a,s=t.tickAmount,o=n.length;if(t.tickAmount=a=r[i],a>o){for(;n.length<a;)n.push(E(n[n.length-1]+t.tickInterval));t.transA*=(o-1)/(a-1),t.max=n[n.length-1]}h(s)&&a!==s&&(t.isDirty=!0)}},setScale:function(){var t,e,i,n,r=this,a=r.stacks;if(r.oldMin=r.min,r.oldMax=r.max,r.oldAxisLength=r.len,r.setAxisSize(),n=r.len!==r.oldAxisLength,be(r.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(i=!0)}),(n||i||r.isLinked||r.forceRedraw||r.userMin!==r.oldUserMin||r.userMax!==r.oldUserMax)&&(r.forceRedraw=!1,r.getSeriesExtremes(),r.setTickPositions(),r.oldUserMin=r.userMin,r.oldUserMax=r.userMax,r.isDirty||(r.isDirty=n||r.min!==r.oldMin||r.max!==r.oldMax)),!r.isXAxis)for(t in a)for(e in a[t])a[t][e].cum=a[t][e].total;r.setMaxTicks()},setExtremes:function(e,i,n,r,a){var s=this,o=s.chart;n=f(n,!0),a=t(a,{min:e,max:i}),ke(s,"setExtremes",a,function(){s.userMin=e,s.userMax=i,s.isDirtyExtremes=!0,n&&o.redraw(r)})},zoom:function(t,e){return this.allowZoomOutside||(t<=this.dataMin&&(t=q),e>=this.dataMax&&(e=q)),this.displayBtn=t!==q||e!==q,this.setExtremes(t,e,!1,q,{trigger:"zoom"}),!0},setAxisSize:function(){var t,e,i,n,r=this.chart,a=this.options,s=a.offsetLeft||0,o=a.offsetRight||0,l=this.horiz;this.left=n=f(a.left,r.plotLeft+s),this.top=i=f(a.top,r.plotTop),this.width=t=f(a.width,r.plotWidth-s+o),this.height=e=f(a.height,r.plotHeight),this.bottom=r.chartHeight-e-i,this.right=r.chartWidth-t-n,this.len=bt(l?t:e,0),this.pos=l?n:i},getExtremes:function(){var t=this,e=t.isLog;return{min:e?E(u(t.min)):t.min,max:e?E(u(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=i?u(e.min):e.min,r=i?u(e.max):e.max;return n>t||null===t?t=n:t>r&&(t=r),e.translate(t,0,1,0,1)},addPlotBand:function(t){this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var i=new B(this,t).render(),n=this.userOptions;return e&&(n[e]=n[e]||[],n[e].push(t)),this.plotLinesAndBands.push(i),i},getOffset:function(){var t,e,i,n,r=this,a=r.chart,s=a.renderer,o=r.options,l=r.tickPositions,u=r.ticks,c=r.horiz,d=r.side,p=a.inverted?[1,0,3,2][d]:d,g=0,m=0,v=o.title,y=o.labels,b=0,_=a.axisOffset,x=a.clipOffset,w=[-1,1,1,-1][d];if(r.hasData=t=r.hasVisibleSeries||h(r.min)&&h(r.max)&&!!l,r.showAxis=e=t||f(o.showEmpty,!0),r.axisGroup||(r.gridGroup=s.g("grid").attr({zIndex:o.gridZIndex||1}).add(),r.axisGroup=s.g("axis").attr({zIndex:o.zIndex||2}).add(),r.labelGroup=s.g("axis-labels").attr({zIndex:y.zIndex||7}).add()),t||r.isLinked)be(l,function(t){u[t]?u[t].addLabel():u[t]=new R(r,t)}),be(l,function(t){(0===d||2===d||{1:"left",3:"right"}[d]===y.align)&&(b=bt(u[t].getLabelSize(),b))}),r.staggerLines&&(b+=16*(r.staggerLines-1));else for(n in u)u[n].destroy(),delete u[n];v&&v.text&&v.enabled!==!1&&(r.axisTitle||(r.axisTitle=s.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).css(v.style).add(r.axisGroup),r.axisTitle.isNew=!0),e&&(g=r.axisTitle.getBBox()[c?"height":"width"],m=f(v.margin,c?5:10),i=v.offset),r.axisTitle[e?"show":"hide"]()),r.offset=w*f(o.offset,_[d]),r.axisTitleMargin=f(i,b+m+(2!==d&&b&&w*o.labels[c?"y":"x"])),_[d]=bt(_[d],r.axisTitleMargin+g+w*r.offset),x[p]=bt(x[p],o.lineWidth)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,a=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return this.lineTop=s,i||(t*=-1),e.renderer.crispLine([Zt,r?this.left:a,r?s:this.top,Qt,r?e.chartWidth-this.right:a,r?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,r=this.len,a=this.options.title,s=t?e:i,o=this.opposite,l=this.offset,u=n(a.style.fontSize||12),c={low:s+(t?0:r),middle:s+r/2,high:s+(t?r:0)}[a.align],h=(t?i+this.height:e)+(t?1:-1)*(o?-1:1)*this.axisTitleMargin+(2===this.side?u:0);return{x:t?c:h+(o?this.width:0)+l+(a.x||0),y:t?h-(o?this.height:0)+l:c+(a.y||0)}},render:function(){var t,e,i,n=this,r=n.chart,a=r.renderer,s=n.options,o=n.isLog,l=n.isLinked,c=n.tickPositions,d=n.axisTitle,p=n.stacks,f=n.ticks,g=n.minorTicks,m=n.alternateBands,v=s.stackLabels,y=s.alternateGridColor,b=n.tickmarkOffset,_=s.lineWidth,x=r.hasRendered,w=x&&h(n.oldMin)&&!isNaN(n.oldMin),C=n.hasData,S=n.showAxis;if(be([f,g,m],function(t){var e;for(e in t)t[e].isActive=!1}),(C||l)&&(n.minorTickInterval&&!n.categories&&be(n.getMinorTickPositions(),function(t){g[t]||(g[t]=new R(n,t,"minor")),w&&g[t].isNew&&g[t].render(null,!0),g[t].render(null,!1,1)}),c.length&&(be(c.slice(1).concat([c[0]]),function(t,e){e=e===c.length-1?0:e+1,(!l||t>=n.min&&t<=n.max)&&(f[t]||(f[t]=new R(n,t)),w&&f[t].isNew&&f[t].render(e,!0),f[t].render(e,!1,1))}),b&&0===n.min&&(f[-1]||(f[-1]=new R(n,-1,null,!0)),f[-1].render(-1))),y&&be(c,function(t,r){r%2===0&&t<n.max&&(m[t]||(m[t]=new B(n)),e=t+b,i=c[r+1]!==q?c[r+1]+b:n.max,m[t].options={from:o?u(e):e,to:o?u(i):i,color:y},m[t].render(),m[t].isActive=!0)}),n._addedPlotLB||(be((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),be([f,g,m],function(t){var e,i,n=[],a=Z?Z.duration||500:0,s=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));t!==m&&r.hasRendered&&a?a&&setTimeout(s,a):s()}),_&&(t=n.getLinePath(_),n.axisLine?n.axisLine.animate({d:t}):n.axisLine=a.path(t).attr({stroke:s.lineColor,"stroke-width":_,zIndex:7}).add(n.axisGroup),n.axisLine[S?"show":"hide"]()),d&&S&&(d[d.isNew?"attr":"animate"](n.getTitlePosition()),d.isNew=!1),v&&v.enabled){var k,I,T,D=n.stackTotalGroup;D||(n.stackTotalGroup=D=a.g("stack-labels").attr({visibility:Xt,zIndex:6}).add()),D.translate(r.plotLeft,r.plotTop);for(k in p){I=p[k];for(T in I)I[T].render(D)}}n.isDirty=!1},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=e.length;i--;)e[i].id===t&&e[i].destroy()},setTitle:function(t,e){this.update({title:t},e)},redraw:function(){var t=this,e=t.chart,i=e.pointer;i.reset&&i.reset(!0),t.render(),be(t.plotLinesAndBands,function(t){t&&t.render()}),be(t.series,function(t){t.isDirty=!0})},setCategories:function(t,e){this.update({categories:t},e)},destroy:function(){var t,e=this,i=e.stacks;Se(e);for(t in i)M(i[t]),i[t]=null;be([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(t){M(t)}),be(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},V.prototype={init:function(t,e){var i=e.borderWidth,r=e.style,a=n(r.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape,null,null,e.useHTML,null,"tooltip").attr({padding:a,fill:e.backgroundColor,"stroke-width":i,r:e.borderRadius,zIndex:8}).css(r).css({padding:0}).hide().add(),Lt||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){be(this.crosshairs,function(t){t&&t.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(e,i,n,r){var a=this,s=a.now,o=a.options.animation!==!1&&!a.isHidden;t(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+i)/2:i,anchorX:o?(2*s.anchorX+n)/3:n,anchorY:o?(s.anchorY+r)/2:r}),a.label.attr(s),o&&(xt(e-s.x)>1||xt(i-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(e,i,n,r)},32))},hide:function(){var t,e=this;this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},f(this.options.hideDelay,500)),t&&be(t,function(t){t.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){be(this.crosshairs,function(t){t&&t.hide()})},getAnchor:function(t,e){var i,n,r=this.chart,a=r.inverted,s=r.plotTop,o=0,l=0;return t=p(t),i=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===q&&(e=r.pointer.normalize(e)),i=[e.chartX-r.plotLeft,e.chartY-s]),i||(be(t,function(t){n=t.series.yAxis,o+=t.plotX,l+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!a&&n?n.top-s:0)}),o/=t.length,l/=t.length,i=[a?r.plotWidth-l:o,this.shared&&!a&&t.length>1&&e?e.chartY-s:a?r.plotHeight-o:l]),we(i,mt)},getPosition:function(t,e,i){var n,r=this.chart,a=r.plotLeft,s=r.plotTop,o=r.plotWidth,l=r.plotHeight,u=f(this.options.distance,12),c=i.plotX,h=i.plotY,d=c+a+(r.inverted?u:-t-u),p=h-e+s+15;return 7>d&&(d=a+bt(c,0)+u),d+t>a+o&&(d-=d+t-(a+o),p=h-e+s-u,n=!0),s+5>p&&(p=s+5,n&&h>=p&&p+e>=h&&(p=h+s+u)),p+e>s+l&&(p=bt(s,s+l-e-u)),{x:d,y:p}},defaultFormatter:function(t){var e,i=this.points||p(this),n=i[0].series;return e=[n.tooltipHeaderFormatter(i[0])],be(i,function(t){n=t.series,e.push(n.tooltipFormatter&&n.tooltipFormatter(t)||t.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),e.push(t.options.footerFormat||""),e.join("")},refresh:function(t,e){var i,n,r,a,s,o,u,c=this,h=c.chart,d=c.label,g=c.options,m={},v=[],y=g.formatter||c.defaultFormatter,b=h.hoverPoints,_=g.crosshairs,x=c.shared;if(clearTimeout(this.hideTimer),c.followPointer=p(t)[0].series.tooltipOptions.followPointer,a=c.getAnchor(t,e),i=a[0],n=a[1],!x||t.series&&t.series.noSharedTooltip?m=t.getLabelConfig():(h.hoverPoints=t,b&&be(b,function(t){t.setState()}),be(t,function(t){t.setState(ie),v.push(t.getLabelConfig())}),m={x:t[0].category,y:t[0].y},m.points=v,t=t[0]),s=y.call(m,c),u=t.series,r=x||!u.isCartesian||u.tooltipOutsidePlot||h.isInsidePlot(i,n),s!==!1&&r?(c.isHidden&&(De(d),d.attr("opacity",1).show()),d.attr({text:s}),o=g.borderColor||t.color||u.color||"#606060",d.attr({stroke:o}),c.updatePosition({plotX:i,plotY:n}),this.isHidden=!1):this.hide(),_){_=p(_);for(var w,C,S,k,I=_.length;I--;)S=t.series[I?"yAxis":"xAxis"],_[I]&&S&&(k=I?f(t.stackY,t.y):t.x,S.isLog&&(k=l(k)),w=S.getPlotLinePath(k,1),c.crosshairs[I]?c.crosshairs[I].attr({d:w,visibility:Xt}):(C={"stroke-width":_[I].width||1,stroke:_[I].color||"#C0C0C0",zIndex:_[I].zIndex||2},_[I].dashStyle&&(C.dashstyle=_[I].dashStyle),c.crosshairs[I]=h.renderer.path(w).attr(C).add()))}ke(h,"tooltipRefresh",{text:s,x:i+h.plotLeft,y:n+h.plotTop,borderColor:o})},updatePosition:function(t){var e=this.chart,i=this.label,n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(mt(n.x),mt(n.y),t.plotX+e.plotLeft,t.plotY+e.plotTop)}},H.prototype={init:function(t,e){var i,n,r=Lt?"":e.chart.zoomType,a=t.inverted;this.options=e,this.chart=t,this.zoomX=i=/x/.test(r),this.zoomY=n=/y/.test(r),this.zoomHor=i&&!a||n&&a,this.zoomVert=n&&!a||i&&a,this.pinchDown=[],this.lastValidTouch={},e.tooltip.enabled&&(t.tooltip=new V(t,e.tooltip)),this.setDOMEvents()},normalize:function(e){var i,n,r,a;return e=e||ft.event,e.target||(e.target=e.srcElement),e=Ie(e),a=e.touches?e.touches.item(0):e,this.chartPosition=i=xe(this.chart.container),a.pageX===q?(n=e.x,r=e.y):(n=a.pageX-i.left,r=a.pageY-i.top),t(e,{chartX:mt(n),chartY:mt(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return be(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},getIndex:function(t){var e=this.chart;return e.inverted?e.plotHeight+e.plotTop-t.chartY:t.chartX-e.plotLeft},runPointActions:function(t){var e,i,n,r,a,s=this,o=s.chart,l=o.series,u=o.tooltip,c=o.hoverPoint,h=o.hoverSeries,d=o.chartWidth,p=s.getIndex(t);if(u&&s.options.tooltip.shared&&(!h||!h.noSharedTooltip)){for(i=[],n=l.length,r=0;n>r;r++)l[r].visible&&l[r].options.enableMouseTracking!==!1&&!l[r].noSharedTooltip&&l[r].tooltipPoints.length&&(e=l[r].tooltipPoints[p],e.series&&(e._dist=xt(p-e.clientX),d=_t(d,e._dist),i.push(e)));for(n=i.length;n--;)i[n]._dist>d&&i.splice(n,1);i.length&&i[0].clientX!==s.hoverX&&(u.refresh(i,t),s.hoverX=i[0].clientX)}h&&h.tracker?(e=h.tooltipPoints[p],e&&e!==c&&e.onMouseOver(t)):u&&u.followPointer&&!u.isHidden&&(a=u.getAnchor([{}],t),u.updatePosition({plotX:a[0],plotY:a[1]}))},reset:function(t){var e=this,i=e.chart,n=i.hoverSeries,r=i.hoverPoint,a=i.tooltip,s=a&&a.shared?i.hoverPoints:r;t=t&&a&&s,t&&p(s)[0].plotX===q&&(t=!1),t?a.refresh(s):(r&&r.onMouseOut(),n&&n.onMouseOut(),a&&(a.hide(),a.hideCrosshairs()),e.hoverX=null)},scaleGroups:function(t,e){var i=this.chart;be(i.series,function(n){n.xAxis.zoomEnabled&&(n.group.attr(t),n.markerGroup&&(n.markerGroup.attr(t),n.markerGroup.clip(e?i.clipRect:null)),n.dataLabelsGroup&&n.dataLabelsGroup.attr(t))}),i.clipRect.attr(e||i.clipBox)},pinchTranslateDirection:function(t,e,i,n,r,a,s){var o,l,u,c,h,d,p=this.chart,f=t?"x":"y",g=t?"X":"Y",m="chart"+g,v=t?"width":"height",y=p["plot"+(t?"Left":"Top")],b=1,_=p.inverted,x=p.bounds[t?"h":"v"],w=1===e.length,C=e[0][m],S=i[0][m],k=!w&&e[1][m],I=!w&&i[1][m],T=function(){!w&&xt(C-k)>20&&(b=xt(S-I)/xt(C-k)),u=(y-S)/b+C,o=p["plot"+(t?"Width":"Height")]/b};T(),l=u,l<x.min?(l=x.min,c=!0):l+o>x.max&&(l=x.max-o,c=!0),c?(S-=.8*(S-s[f][0]),w||(I-=.8*(I-s[f][1])),T()):s[f]=[S,I],_||(a[f]=u-y,a[v]=o),d=_?t?"scaleY":"scaleX":"scale"+g,h=_?1/b:b,r[v]=o,r[f]=l,n[d]=b,n["translate"+g]=h*y+(S-h*C)},pinch:function(e){var i=this,n=i.chart,r=i.pinchDown,a=n.tooltip.options.followTouchMove,s=e.touches,o=s.length,l=i.lastValidTouch,u=i.zoomHor||i.pinchHor,c=i.zoomVert||i.pinchVert,h=u||c,d=i.selectionMarker,p={},f={};"touchstart"===e.type&&a&&(i.inClass(e.target,Gt+"tracker")?(!n.runTrackerClick||o>1)&&e.preventDefault():(!n.runChartClick||o>1)&&e.preventDefault()),we(s,function(t){return i.normalize(t)}),"touchstart"===e.type?(be(s,function(t,e){r[e]={chartX:t.chartX,chartY:t.chartY}}),l.x=[r[0].chartX,r[1]&&r[1].chartX],l.y=[r[0].chartY,r[1]&&r[1].chartY],be(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(t.dataMin),a=t.toPixels(t.dataMax),s=_t(r,a),o=bt(r,a);e.min=_t(t.pos,s-i),e.max=bt(t.pos+t.len,o+i)}})):r.length&&(d||(i.selectionMarker=d=t({destroy:Bt},n.plotBox)),u&&i.pinchTranslateDirection(!0,r,s,p,d,f,l),c&&i.pinchTranslateDirection(!1,r,s,p,d,f,l),i.hasPinched=h,i.scaleGroups(p,f),!h&&a&&1===o&&this.runPointActions(i.normalize(e)))},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,r=n.options.chart,a=t.chartX,s=t.chartY,o=this.zoomHor,l=this.zoomVert,u=n.plotLeft,c=n.plotTop,h=n.plotWidth,d=n.plotHeight,p=this.mouseDownX,f=this.mouseDownY;u>a?a=u:a>u+h&&(a=u+h),c>s?s=c:s>c+d&&(s=c+d),this.hasDragged=Math.sqrt(Math.pow(p-a,2)+Math.pow(f-s,2)),this.hasDragged>10&&(e=n.isInsidePlot(p-u,f-c),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&(this.selectionMarker||(this.selectionMarker=n.renderer.rect(u,c,o?1:h,l?1:d,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&o&&(i=a-p,this.selectionMarker.attr({width:xt(i),x:(i>0?0:i)+p})),this.selectionMarker&&l&&(i=s-f,this.selectionMarker.attr({height:xt(i),y:(i>0?0:i)+f})),e&&!this.selectionMarker&&r.panning&&n.pan(a))},drop:function(e){var i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,a={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},s=this.selectionMarker,o=s.x,l=s.y;(this.hasDragged||n)&&(be(i.axes,function(t){if(t.zoomEnabled){var e=t.horiz,i=t.minPixelPadding,n=t.toValue((e?o:l)+i),u=t.toValue((e?o+s.width:l+s.height)-i);isNaN(n)||isNaN(u)||(a[t.xOrY+"Axis"].push({axis:t,min:_t(n,u),max:bt(n,u)}),r=!0)}}),r&&ke(i,"selection",a,function(e){i.zoom(t(e,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups({translateX:i.plotLeft,translateY:i.plotTop,scaleX:1,scaleY:1})}i&&(g(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){this.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition,n=e.hoverSeries;t=Ie(t),i&&n&&n.isCartesian&&!e.isInsidePlot(t.pageX-i.left-e.plotLeft,t.pageY-i.top-e.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(t){var e=this.chart;t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&this.runPointActions(t)},inClass:function(t,e){for(var i;t;){if(i=d(t,"class")){if(-1!==i.indexOf(e))return!0;if(-1!==i.indexOf(Gt+"container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;!e||e.options.stickyTracking||this.inClass(t.toElement||t.relatedTarget,Gt+"tooltip")||e.onMouseOut()},onContainerClick:function(e){var i,n,r,a=this.chart,s=a.hoverPoint,o=a.plotLeft,l=a.plotTop,u=a.inverted;e=this.normalize(e),e.cancelBubble=!0,a.cancelClick||(s&&this.inClass(e.target,Gt+"tracker")?(i=this.chartPosition,n=s.plotX,r=s.plotY,t(s,{pageX:i.left+o+(u?a.plotWidth-r:n),pageY:i.top+l+(u?a.plotHeight-n:r)}),ke(s.series,"click",t(e,{point:s})),s.firePointEvent("click",e)):(t(e,this.getCoordinates(e)),a.isInsidePlot(e.chartX-o,e.chartY-l)&&ke(a,"click",e)))},onContainerTouchStart:function(t){var e=this.chart;1===t.touches.length?(t=this.normalize(t),e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)&&(this.runPointActions(t),this.pinch(t))):2===t.touches.length&&this.pinch(t)},onContainerTouchMove:function(t){(1===t.touches.length||2===t.touches.length)&&this.pinch(t)},onDocumentTouchEnd:function(t){this.drop(t)},setDOMEvents:function(){var t,e=this,i=e.chart.container;this._events=t=[[i,"onmousedown","onContainerMouseDown"],[i,"onmousemove","onContainerMouseMove"],[i,"onclick","onContainerClick"],[i,"mouseleave","onContainerMouseLeave"],[pt,"mousemove","onDocumentMouseMove"],[pt,"mouseup","onDocumentMouseUp"]],Ot&&t.push([i,"ontouchstart","onContainerTouchStart"],[i,"ontouchmove","onContainerTouchMove"],[pt,"touchend","onDocumentTouchEnd"]),be(t,function(t){e["_"+t[2]]=function(i){e[t[2]](i)},0===t[1].indexOf("on")?t[0][t[1]]=e["_"+t[2]]:Ce(t[0],t[1],e["_"+t[2]])})},destroy:function(){var t=this;be(t._events,function(e){0===e[1].indexOf("on")?e[0][e[1]]=null:Se(e[0],e[1],t["_"+e[2]])}),delete t._events,clearInterval(t.tooltipTimeout)}},W.prototype={init:function(t,i){var r=this,a=i.itemStyle,s=f(i.padding,8),o=i.itemMarginTop||0;this.options=i,i.enabled&&(r.baseline=n(a.fontSize)+3+o,r.itemStyle=a,r.itemHiddenStyle=e(a,i.itemHiddenStyle),r.itemMarginTop=o,r.padding=s,r.initialItemX=s,r.initialItemY=s-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.lastLineHeight=0,r.render(),Ce(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(t,e){var i,n,r=this,a=r.options,s=t.legendItem,o=t.legendLine,l=t.legendSymbol,u=r.itemHiddenStyle.color,c=e?a.itemStyle.color:u,h=e?t.color:u,d=t.options&&t.options.marker,p={stroke:h,fill:h};if(s&&s.css({fill:c,color:c}),o&&o.attr({stroke:h}),l){if(d){d=t.convertAttribs(d);for(i in d)n=d[i],n!==q&&(p[i]=n)}l.attr(p)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,r=!i.rtl,a=t._legendItemPos,s=a[0],o=a[1],l=t.checkbox;t.legendGroup&&t.legendGroup.translate(r?s:e.legendWidth-s-2*n-4,o),l&&(l.x=s,l.y=o)},destroyItem:function(t){var e=t.checkbox;be(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&t[e].destroy()}),e&&$(t.checkbox)},destroy:function(){var t=this,e=t.group,i=t.box;i&&(t.box=i.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,i=this.group.alignAttr,n=this.clipHeight||this.legendHeight;i&&(e=i.translateY,be(this.allItems,function(r){var a,s=r.checkbox;s&&(a=e+s.y+(t||0)+3,g(s,{left:i.translateX+r.legendItemWidth+s.x-20+Kt,top:a+Kt,display:a>e-6&&e+n-6>a?"":Jt}))}))},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,n=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),n=this.title.getBBox().height,this.contentGroup.attr({translateY:n})),this.titleHeight=n},renderItem:function(t){var i,n,r,a=this,s=a.chart,o=s.renderer,l=a.options,u="horizontal"===l.layout,c=l.symbolWidth,h=l.symbolPadding,d=a.itemStyle,p=a.itemHiddenStyle,f=a.padding,g=!l.rtl,v=l.width,y=l.itemMarginBottom||0,b=a.itemMarginTop,_=a.initialItemX,x=t.legendItem,C=t.series||t,S=C.options,k=S.showCheckbox,I=l.useHTML;x||(t.legendGroup=o.g("legend-item").attr({zIndex:1}).add(a.scrollGroup),C.drawLegendSymbol(a,t),t.legendItem=x=o.text(l.labelFormat?w(l.labelFormat,t):l.labelFormatter.call(t),g?c+h:-h,a.baseline,I).css(e(t.visible?d:p)).attr({align:g?"left":"right",zIndex:2}).add(t.legendGroup),(I?x:t.legendGroup).on("mouseover",function(){t.setState(ie),x.css(a.options.itemHoverStyle)}).on("mouseout",function(){x.css(t.visible?d:p),t.setState()}).on("click",function(e){var i="legendItemClick",n=function(){t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(i,e,n):ke(t,i,e,n)}),a.colorizeItem(t,t.visible),S&&k&&(t.checkbox=m("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},l.itemCheckboxStyle,s.container),Ce(t.checkbox,"click",function(e){var i=e.target;ke(t,"checkboxClick",{checked:i.checked},function(){t.select()})}))),n=x.getBBox(),r=t.legendItemWidth=l.itemWidth||c+h+n.width+f+(k?20:0),a.itemHeight=i=n.height,u&&a.itemX-_+r>(v||s.chartWidth-2*f-_)&&(a.itemX=_,a.itemY+=b+a.lastLineHeight+y,a.lastLineHeight=0),a.maxItemWidth=bt(a.maxItemWidth,r),a.lastItemY=b+a.itemY+y,a.lastLineHeight=bt(i,a.lastLineHeight),t._legendItemPos=[a.itemX,a.itemY],u?a.itemX+=r:(a.itemY+=b+i+y,a.lastLineHeight=i),a.offsetWidth=v||bt(u?a.itemX-_:r,a.offsetWidth)},render:function(){var e,i,n,r,a=this,s=a.chart,o=s.renderer,l=a.group,u=a.box,c=a.options,d=a.padding,p=c.borderWidth,f=c.backgroundColor;a.itemX=a.initialItemX,a.itemY=a.initialItemY,a.offsetWidth=0,a.lastItemY=0,l||(a.group=l=o.g("legend").attr({zIndex:7}).add(),a.contentGroup=o.g().attr({zIndex:1}).add(l),a.scrollGroup=o.g().add(a.contentGroup),a.clipRect=o.clipRect(0,0,9999,s.chartHeight),a.contentGroup.clip(a.clipRect)),a.renderTitle(),e=[],be(s.series,function(t){var i=t.options;i.showInLegend&&!h(i.linkedTo)&&(e=e.concat(t.legendItems||("point"===i.legendType?t.data:t)))}),T(e,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&e.reverse(),a.allItems=e,a.display=i=!!e.length,be(e,function(t){a.renderItem(t)}),n=c.width||a.offsetWidth,r=a.lastItemY+a.lastLineHeight+a.titleHeight,r=a.handleOverflow(r),(p||f)&&(n+=d,r+=d,u?n>0&&r>0&&(u[u.isNew?"attr":"animate"](u.crisp(null,null,null,n,r)),u.isNew=!1):(a.box=u=o.rect(0,0,n,r,c.borderRadius,p||0).attr({stroke:c.borderColor,"stroke-width":p||0,fill:f||Jt}).add(l).shadow(c.shadow),u.isNew=!0),u[i?"show":"hide"]()),a.legendWidth=n,a.legendHeight=r,be(e,function(t){a.positionItem(t)}),i&&l.align(t({width:n,height:r},c),!0,"spacingBox"),s.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,a=r.renderer,s=this.options,o=s.y,l="top"===s.verticalAlign,u=r.spacingBox.height+(l?-o:o)-this.padding,c=s.maxHeight,h=this.clipRect,d=s.navigation,p=f(d.animation,!0),g=d.arrowSize||12,m=this.nav;return"horizontal"===s.layout&&(u/=2),c&&(u=_t(u,c)),t>u&&!s.useHTML?(this.clipHeight=i=u-20-this.titleHeight,this.pageCount=e=yt(t/i),this.currentPage=f(this.currentPage,1),this.fullHeight=t,h.attr({height:i}),m||(this.nav=m=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,g,g).on("click",function(){n.scroll(-1,p)}).add(m),this.pager=a.text("",15,10).css(d.style).add(m),this.down=a.symbol("triangle-down",0,0,g,g).on("click",function(){n.scroll(1,p)}).add(m)),n.scroll(0),t=u):m&&(h.attr({height:r.chartHeight}),m.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i,n=this.pageCount,r=this.currentPage+t,a=this.clipHeight,s=this.options.navigation,o=s.activeColor,l=s.inactiveColor,u=this.pager,c=this.padding;r>n&&(r=n),r>0&&(e!==q&&F(e,this.chart),this.nav.attr({translateX:c,translateY:a+7+this.titleHeight,visibility:Xt}),this.up.attr({fill:1===r?l:o}).css({cursor:1===r?"default":"pointer"}),u.attr({text:r+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:r===n?l:o}).css({cursor:r===n?"default":"pointer"}),i=-_t(a*(r-1),this.fullHeight-a+c)+1,this.scrollGroup.animate({translateY:i}),u.attr({text:r+"/"+n}),this.currentPage=r,this.positionCheckboxes(i))}},Y.prototype={init:function(t,i){var n,r=t.series;t.series=null,n=e(K,t),n.series=t.series=r;var s=n.chart,o=s.margin,l=a(o)?o:[o,o,o,o];this.optionsMarginTop=f(s.marginTop,l[0]),this.optionsMarginRight=f(s.marginRight,l[1]),this.optionsMarginBottom=f(s.marginBottom,l[2]),this.optionsMarginLeft=f(s.marginLeft,l[3]);var u=s.events;this.runChartClick=u&&!!u.click,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var c,h=this;if(h.index=jt.length,jt.push(h),s.reflow!==!1&&Ce(h,"load",function(){h.initReflow()}),u)for(c in u)Ce(h,c,u[c]);h.xAxis=[],h.yAxis=[],h.animation=Lt?!1:f(s.animation,!0),h.pointCount=0,h.counters=new I,h.firstRender()},initSeries:function(t){var e,i=this,n=i.options.chart,r=t.type||n.type||n.defaultSeriesType,a=pe[r];return a||A(17,!0),e=new a,e.init(this,t),e},addSeries:function(t,e,i){var n,r=this;return t&&(e=f(e,!0),ke(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,
e&&r.redraw(i)})),n},addAxis:function(t,i,n,r){var a,s=i?"xAxis":"yAxis",o=this.options;a=new z(this,e(t,{index:this[s].length})),o[s]=p(o[s]||{}),o[s].push(t),f(n,!0)&&this.redraw(r)},isInsidePlot:function(t,e,i){var n=i?e:t,r=i?t:e;return n>=0&&n<=this.plotWidth&&r>=0&&r<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&be(this.axes,function(t){t.adjustTickAmount()}),this.maxTicks=null},redraw:function(t){var e,i,n=this,r=n.axes,a=n.series,s=n.pointer,o=n.legend,l=n.isDirtyLegend,u=n.isDirtyBox,c=a.length,h=c,d=n.renderer,p=d.isHidden(),f=[];for(F(t,n),p&&n.cloneRenderTo();h--;)if(i=a[h],i.isDirty&&i.options.stacking){e=!0;break}if(e)for(h=c;h--;)i=a[h],i.options.stacking&&(i.isDirty=!0);be(a,function(t){t.isDirty&&"point"===t.options.legendType&&(l=!0)}),l&&o.options.enabled&&(o.render(),n.isDirtyLegend=!1),n.hasCartesianSeries&&(n.isResizing||(n.maxTicks=null,be(r,function(t){t.setScale()})),n.adjustTickAmounts(),n.getMargins(),be(r,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,f.push(function(){ke(t,"afterSetExtremes",t.getExtremes())})),(t.isDirty||u||e)&&(t.redraw(),u=!0)})),u&&n.drawChartBox(),be(a,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),s&&s.reset&&s.reset(!0),d.draw(),ke(n,"redraw"),p&&n.cloneRenderTo(!0),be(f,function(t){t.call()})},showLoading:function(e){var i=this,n=i.options,r=i.loadingDiv,a=n.loading;r||(i.loadingDiv=r=m(Ht,{className:Gt+"loading"},t(a.style,{zIndex:10,display:Jt}),i.container),i.loadingSpan=m("span",null,a.labelStyle,r)),i.loadingSpan.innerHTML=e||n.lang.loading,i.loadingShown||(g(r,{opacity:0,display:"",left:i.plotLeft+Kt,top:i.plotTop+Kt,width:i.plotWidth+Kt,height:i.plotHeight+Kt}),Te(r,{opacity:a.style.opacity},{duration:a.showDuration||0}),i.loadingShown=!0)},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&Te(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){g(e,{display:Jt})}}),this.loadingShown=!1},get:function(t){var e,i,n,r=this,a=r.axes,s=r.series;for(e=0;e<a.length;e++)if(a[e].options.id===t)return a[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(n=s[e].points||[],i=0;i<n.length;i++)if(n[i].id===t)return n[i];return null},getAxes:function(){var t,e,i=this,n=this.options,r=n.xAxis=p(n.xAxis||{}),a=n.yAxis=p(n.yAxis||{});be(r,function(t,e){t.index=e,t.isX=!0}),be(a,function(t,e){t.index=e}),t=r.concat(a),be(t,function(t){e=new z(i,t)}),i.adjustTickAmounts()},getSelectedPoints:function(){var t=[];return be(this.series,function(e){t=t.concat(_e(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return _e(this.series,function(t){return t.selected})},showResetZoom:function(){var t=this,e=K.lang,i=t.options.chart.resetZoomButton,n=i.theme,r=n.states,a="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=t.renderer.button(e.resetZoom,null,null,function(){t.zoomOut()},n,r&&r.hover).attr({align:i.position.align,title:e.resetZoomTitle}).add().align(i.position,!1,a)},zoomOut:function(){var t=this;ke(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this,r=n.pointer,s=!1;!t||t.resetSelection?be(n.axes,function(t){e=t.zoom()}):be(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;(r[n?"zoomX":"zoomY"]||r[n?"pinchX":"pinchY"])&&(e=i.zoom(t.min,t.max),i.displayBtn&&(s=!0))}),i=n.resetZoomButton,s&&!i?n.showResetZoom():!s&&a(i)&&(n.resetZoomButton=i.destroy()),e&&n.redraw(f(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(t){var e=this,i=e.xAxis[0],n=e.mouseDownX,r=i.pointRange/2,a=i.getExtremes(),s=i.translate(n-t,!0)+r,o=i.translate(n+e.plotWidth-t,!0)-r,l=e.hoverPoints;l&&be(l,function(t){t.setState()}),i.series.length&&s>_t(a.dataMin,a.min)&&o<bt(a.dataMax,a.max)&&i.setExtremes(s,o,!0,!1,{trigger:"pan"}),e.mouseDownX=t,g(e.container,{cursor:"move"})},setTitle:function(t,i){var n,r,a=this,s=a.options;n=s.title=e(s.title,t),r=s.subtitle=e(s.subtitle,i),be([["title",t,n],["subtitle",i,r]],function(t){var e=t[0],i=a[e],n=t[1],r=t[2];i&&n&&(a[e]=i=i.destroy()),r&&r.text&&!i&&(a[e]=a.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,"class":Gt+e,zIndex:r.zIndex||4}).css(r.style).add().align(r,!1,"spacingBox"))})},getChartSize:function(){var t=this,e=t.options.chart,i=t.renderToClone||t.renderTo;t.containerWidth=me(i,"width"),t.containerHeight=me(i,"height"),t.chartWidth=bt(0,e.width||t.containerWidth||600),t.chartHeight=bt(0,f(e.height,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;t?e&&(this.renderTo.appendChild(i),$(e),delete this.renderToClone):(i&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),g(e,{position:Wt,top:"-9999px",display:"block"}),pt.body.appendChild(e),i&&e.appendChild(i))},getContainer:function(){var e,i,a,s,o,l,u=this,c=u.options.chart,h="data-highcharts-chart";u.renderTo=s=c.renderTo,l=Gt+Rt++,r(s)&&(u.renderTo=s=pt.getElementById(s)),s||A(13,!0),o=n(d(s,h)),!isNaN(o)&&jt[o]&&jt[o].destroy(),d(s,h,u.index),s.innerHTML="",s.offsetWidth||u.cloneRenderTo(),u.getChartSize(),i=u.chartWidth,a=u.chartHeight,u.container=e=m(Ht,{className:Gt+"container"+(c.className?" "+c.className:""),id:l},t({position:Yt,overflow:qt,width:i+Kt,height:a+Kt,textAlign:"left",lineHeight:"normal",zIndex:0},c.style),u.renderToClone||s),u._cursor=e.style.cursor,u.renderer=c.forExport?new Ee(e,i,a,!0):new G(e,i,a),Lt&&u.renderer.create(u,e,i,a)},getMargins:function(){var t,e,i=this,n=i.options.chart,r=n.spacingTop,a=n.spacingRight,s=n.spacingBottom,o=n.spacingLeft,l=i.legend,u=i.optionsMarginTop,c=i.optionsMarginLeft,d=i.optionsMarginRight,p=i.optionsMarginBottom,g=i.options.title,m=i.options.subtitle,v=i.options.legend,y=f(v.margin,10),b=v.x,_=v.y,x=v.align,w=v.verticalAlign;i.resetMargins(),t=i.axisOffset,!i.title&&!i.subtitle||h(i.optionsMarginTop)||(e=bt(i.title&&!g.floating&&!g.verticalAlign&&g.y||0,i.subtitle&&!m.floating&&!m.verticalAlign&&m.y||0),e&&(i.plotTop=bt(i.plotTop,e+f(g.margin,15)+r))),l.display&&!v.floating&&("right"===x?h(d)||(i.marginRight=bt(i.marginRight,l.legendWidth-b+y+a)):"left"===x?h(c)||(i.plotLeft=bt(i.plotLeft,l.legendWidth+b+y+o)):"top"===w?h(u)||(i.plotTop=bt(i.plotTop,l.legendHeight+_+y+r)):"bottom"===w&&(h(p)||(i.marginBottom=bt(i.marginBottom,l.legendHeight-_+y+s)))),i.extraBottomMargin&&(i.marginBottom+=i.extraBottomMargin),i.extraTopMargin&&(i.plotTop+=i.extraTopMargin),i.hasCartesianSeries&&be(i.axes,function(t){t.getOffset()}),h(c)||(i.plotLeft+=t[3]),h(u)||(i.plotTop+=t[0]),h(p)||(i.marginBottom+=t[2]),h(d)||(i.marginRight+=t[1]),i.setChartSize()},initReflow:function(){function t(t){var a=n.width||me(r,"width"),s=n.height||me(r,"height"),o=t?t.target:ft;i.hasUserSize||!a||!s||o!==ft&&o!==pt||((a!==i.containerWidth||s!==i.containerHeight)&&(clearTimeout(e),i.reflowTimeout=e=setTimeout(function(){i.container&&(i.setSize(a,s,!1),i.hasUserSize=null)},100)),i.containerWidth=a,i.containerHeight=s)}var e,i=this,n=i.options.chart,r=i.renderTo;Ce(ft,"resize",t),Ce(i,"destroy",function(){Se(ft,"resize",t)})},setSize:function(t,e,i){var n,r,a,s=this;s.isResizing+=1,a=function(){s&&ke(s,"endResize",null,function(){s.isResizing-=1})},F(i,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,h(t)&&(s.chartWidth=n=bt(0,mt(t)),s.hasUserSize=!!n),h(e)&&(s.chartHeight=r=bt(0,mt(e))),g(s.container,{width:n+Kt,height:r+Kt}),s.setChartSize(!0),s.renderer.setSize(n,r,i),s.maxTicks=null,be(s.axes,function(t){t.isDirty=!0,t.setScale()}),be(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.getMargins(),s.redraw(i),s.oldChartHeight=null,ke(s,"resize"),Z===!1?a():setTimeout(a,Z&&Z.duration||500)},setChartSize:function(t){var e,i,n,r,a,s,o,l=this,u=l.inverted,c=l.renderer,h=l.chartWidth,d=l.chartHeight,p=l.options.chart,f=p.spacingTop,g=p.spacingRight,m=p.spacingBottom,v=p.spacingLeft,y=l.clipOffset;l.plotLeft=n=mt(l.plotLeft),l.plotTop=r=mt(l.plotTop),l.plotWidth=a=bt(0,mt(h-n-l.marginRight)),l.plotHeight=s=bt(0,mt(d-r-l.marginBottom)),l.plotSizeX=u?s:a,l.plotSizeY=u?a:s,l.plotBorderWidth=o=p.plotBorderWidth||0,l.spacingBox=c.spacingBox={x:v,y:f,width:h-v-g,height:d-f-m},l.plotBox=c.plotBox={x:n,y:r,width:a,height:s},e=yt(bt(o,y[3])/2),i=yt(bt(o,y[0])/2),l.clipBox={x:e,y:i,width:vt(l.plotSizeX-bt(o,y[1])/2-e),height:vt(l.plotSizeY-bt(o,y[2])/2-i)},t||be(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart,i=e.spacingTop,n=e.spacingRight,r=e.spacingBottom,a=e.spacingLeft;t.plotTop=f(t.optionsMarginTop,i),t.marginRight=f(t.optionsMarginRight,n),t.marginBottom=f(t.optionsMarginBottom,r),t.plotLeft=f(t.optionsMarginLeft,a),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i=this,n=i.options.chart,r=i.renderer,a=i.chartWidth,s=i.chartHeight,o=i.chartBackground,l=i.plotBackground,u=i.plotBorder,c=i.plotBGImage,h=n.borderWidth||0,d=n.backgroundColor,p=n.plotBackgroundColor,f=n.plotBackgroundImage,g=n.plotBorderWidth||0,m=i.plotLeft,v=i.plotTop,y=i.plotWidth,b=i.plotHeight,_=i.plotBox,x=i.clipRect,w=i.clipBox;t=h+(n.shadow?8:0),(h||d)&&(o?o.animate(o.crisp(null,null,null,a-t,s-t)):(e={fill:d||Jt},h&&(e.stroke=n.borderColor,e["stroke-width"]=h),i.chartBackground=r.rect(t/2,t/2,a-t,s-t,n.borderRadius,h).attr(e).add().shadow(n.shadow))),p&&(l?l.animate(_):i.plotBackground=r.rect(m,v,y,b,0).attr({fill:p}).add().shadow(n.plotShadow)),f&&(c?c.animate(_):i.plotBGImage=r.image(f,m,v,y,b).add()),x?x.animate({width:w.width,height:w.height}):i.clipRect=r.clipRect(w),g&&(u?u.animate(u.crisp(null,m,v,y,b)):i.plotBorder=r.rect(m,v,y,b,0,g).attr({stroke:n.plotBorderColor,"stroke-width":g,zIndex:1}).add()),i.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,a=n.options.series;be(["inverted","angular","polar"],function(s){for(t=pe[r.type||r.defaultSeriesType],i=n[s]||r[s]||t&&t.prototype[s],e=a&&a.length;!i&&e--;)t=pe[a[e].type],t&&t.prototype[s]&&(i=!0);n[s]=i})},render:function(){var e,i=this,r=i.axes,a=i.renderer,s=i.options,o=s.labels,l=s.credits;i.setTitle(),i.legend=new W(i,s.legend),be(r,function(t){t.setScale()}),i.getMargins(),i.maxTicks=null,be(r,function(t){t.setTickPositions(!0),t.setMaxTicks()}),i.adjustTickAmounts(),i.getMargins(),i.drawChartBox(),i.hasCartesianSeries&&be(r,function(t){t.render()}),i.seriesGroup||(i.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),be(i.series,function(t){t.translate(),t.setTooltipPoints(),t.render()}),o.items&&be(o.items,function(e){var r=t(o.style,e.style),s=n(r.left)+i.plotLeft,l=n(r.top)+i.plotTop+12;delete r.left,delete r.top,a.text(e.html,s,l).attr({zIndex:2}).css(r).add()}),l.enabled&&!i.credits&&(e=l.href,i.credits=a.text(l.text,0,0).on("click",function(){e&&(location.href=e)}).attr({align:l.position.align,zIndex:8}).css(l.style).add().align(l.position)),i.hasRendered=!0},destroy:function(){var t,e=this,i=e.axes,n=e.series,r=e.container,a=r&&r.parentNode;for(ke(e,"destroy"),jt[e.index]=q,e.renderTo.removeAttribute("data-highcharts-chart"),Se(e),t=i.length;t--;)i[t]=i[t].destroy();for(t=n.length;t--;)n[t]=n[t].destroy();be(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=e[t];i&&i.destroy&&(e[t]=i.destroy())}),r&&(r.innerHTML="",Se(r),a&&$(r));for(t in e)delete e[t]},isReadyToRender:function(){var t=this;return!Ft&&ft==ft.top&&"complete"!==pt.readyState||Lt&&!ft.canvg?(Lt?Ne.push(function(){t.firstRender()},t.options.global.canvasToolsURL):pt.attachEvent("onreadystatechange",function(){pt.detachEvent("onreadystatechange",t.firstRender),"complete"===pt.readyState&&t.firstRender()}),!1):!0},firstRender:function(){var t=this,e=t.options,i=t.callback;t.isReadyToRender()&&(t.getContainer(),ke(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),be(e.series||[],function(e){t.initSeries(e)}),ke(t,"beforeRender"),t.pointer=new H(t,e),t.render(),t.renderer.draw(),i&&i.apply(t,[t]),be(t.callbacks,function(e){e.apply(t,[t])}),t.cloneRenderTo(!0),ke(t,"load"))}},Y.prototype.callbacks=[];var Re=function(){};Re.prototype={init:function(t,e,i){var n,r=this;return r.series=t,r.applyOptions(e,i),r.pointAttr={},t.options.colorByPoint&&(n=t.options.colors||t.chart.options.colors,r.color=r.color||n[t.colorCounter++],t.colorCounter===n.length&&(t.colorCounter=0)),t.chart.pointCount++,r},applyOptions:function(e,i){var n=this,r=n.series,a=r.pointValKey;return e=Re.prototype.optionsToObject.call(this,e),t(n,e),n.options=n.options?t(n.options,e):e,a&&(n.y=n[a]),n.x===q&&r&&(n.x=i===q?r.autoIncrement():i),n},optionsToObject:function(t){var e,i,n=this.series,r=n.pointArrayMap||["y"],a=r.length,o=0,l=0;if("number"==typeof t||null===t)e={y:t};else if(s(t))for(e={},t.length>a&&(i=typeof t[0],"string"===i?e.name=t[0]:"number"===i&&(e.x=t[0]),o++);a>l;)e[r[l++]]=t[o++];else"object"==typeof t&&(e=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return e},destroy:function(){var t,e=this,i=e.series,n=i.chart,r=n.hoverPoints;n.pointCount--,r&&(e.setState(),c(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(Se(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){var t=this;return{x:t.category,y:t.y,key:t.name||t.category,series:t.series,point:t,percentage:t.percentage,total:t.total||t.stackTotal}},select:function(t,e){var i=this,n=i.series,r=n.chart;t=f(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[ye(i,n.data)]=i.options,i.setState(t&&ne),e||be(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[ye(t,n.data)]=t.options,t.setState(ee),t.firePointEvent("unselect"))})})},onMouseOver:function(t){var e=this,i=e.series,n=i.chart,r=n.tooltip,a=n.hoverPoint;a&&a!==e&&a.onMouseOut(),e.firePointEvent("mouseOver"),!r||r.shared&&!i.noSharedTooltip||r.refresh(e,t),e.setState(ie),n.hoverPoint=e},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;e&&-1!==ye(this,e)||(this.firePointEvent("mouseOut"),this.setState(),t.hoverPoint=null)},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,n=f(i.valueDecimals,""),r=i.valuePrefix||"",a=i.valueSuffix||"";return be(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||a)&&(t=t.replace(e+"}",r+e+"}"+a)),t=t.replace(e+"}",e+":,."+n+"f}")}),w(t,{point:this,series:this.series})},update:function(t,e,i){var n,r=this,s=r.series,o=r.graphic,l=s.data,u=s.chart;e=f(e,!0),r.firePointEvent("update",{options:t},function(){r.applyOptions(t),a(t)&&(s.getAttribs(),o&&o.attr(r.pointAttr[s.state])),n=ye(r,l),s.xData[n]=r.x,s.yData[n]=s.toYData?s.toYData(r):r.y,s.zData[n]=r.z,s.options.data[n]=r.options,s.isDirty=!0,s.isDirtyData=!0,e&&u.redraw(i)})},remove:function(t,e){var i,n=this,r=n.series,a=r.chart,s=r.data;F(e,a),t=f(t,!0),n.firePointEvent("remove",null,function(){i=ye(n,s),s.splice(i,1),r.options.data.splice(i,1),r.xData.splice(i,1),r.yData.splice(i,1),r.zData.splice(i,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&a.redraw()})},firePointEvent:function(t,e,i){var n=this,r=this.series,a=r.options;(a.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&a.allowPointSelect&&(i=function(t){n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),ke(this,t,e,i)},importEvents:function(){if(!this.hasImportedEvents){var t,i=this,n=e(i.series.options.point,i.options),r=n.events;i.events=r;for(t in r)Ce(i,t,r[t]);this.hasImportedEvents=!0}},setState:function(t){var i,n,r=this,a=r.plotX,s=r.plotY,o=r.series,l=o.options.states,u=Me[o.type].marker&&o.options.marker,c=u&&!u.enabled,h=u&&u.states[t],d=h&&h.enabled===!1,p=o.stateMarkerGraphic,f=r.marker||{},g=o.chart,m=r.pointAttr;t=t||ee,t===r.state||r.selected&&t!==ne||l[t]&&l[t].enabled===!1||t&&(d||c&&!h.enabled)||(r.graphic?(i=u&&r.graphic.symbolName&&m[t].r,r.graphic.attr(e(m[t],i?{x:a-i,y:s-i,width:2*i,height:2*i}:{}))):(t&&h&&(i=h.radius,n=f.symbol||o.symbol,p&&p.currentSymbol!==n&&(p=p.destroy()),p?p.attr({x:a-i,y:s-i}):(o.stateMarkerGraphic=p=g.renderer.symbol(n,a-i,s-i,2*i,2*i).attr(m[t]).add(o.markerGroup),p.currentSymbol=n)),p&&p[t&&g.isInsidePlot(a,s)?"show":"hide"]()),r.state=t)}};var Be=function(){};Be.prototype={isCartesian:!0,type:"line",pointClass:Re,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,i){var n,a,s,o=this,l=e.series;o.chart=e,o.options=i=o.setOptions(i),o.bindAxes(),t(o,{name:i.name,state:ee,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),Lt&&(i.animation=!1),a=i.events;for(n in a)Ce(o,n,a[n]);(a&&a.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),o.setData(i.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),l.push(o),o._i=l.length-1,T(l,function(t,e){return f(t.options.index,t._i)-f(e.options.index,t._i)}),be(l,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)}),s=i.linkedTo,o.linkedSeries=[],r(s)&&(s=":previous"===s?l[o.index-1]:e.get(s),s&&(s.linkedSeries.push(o),o.linkedParent=s))},bindAxes:function(){var t,e=this,i=e.options,n=e.chart;e.isCartesian&&be(["xAxis","yAxis"],function(r){be(n[r],function(n){t=n.options,(i[r]===t.index||i[r]!==q&&i[r]===t.id||i[r]===q&&0===t.index)&&(n.series.push(e),e[r]=n,n.isDirty=!0)}),e[r]||A(17,!0)})},autoIncrement:function(){var t=this,e=t.options,i=t.xIncrement;return i=f(i,e.pointStart,0),t.pointInterval=f(t.pointInterval,e.pointInterval,1),t.xIncrement=i+t.pointInterval,i},getSegments:function(){var t,e=this,i=-1,n=[],r=e.points,a=r.length;if(a)if(e.options.connectNulls){for(t=a;t--;)null===r[t].y&&r.splice(t,1);r.length&&(n=[r])}else be(r,function(t,e){null===t.y?(e>i+1&&n.push(r.slice(i+1,e)),i=e):e===a-1&&n.push(r.slice(i+1,e+1))});e.segments=n},setOptions:function(t){var i,n=this.chart,r=n.options,a=r.plotOptions,s=a[this.type];return this.userOptions=t,i=e(s,a.series,t),this.tooltipOptions=e(r.tooltip,i.tooltip),null===s.marker&&delete i.marker,i},getColor:function(){var t,e,i=this.options,n=this.userOptions,r=this.chart.options.colors,a=this.chart.counters;t=i.color||Me[this.type].color,t||i.colorByPoint||(h(n._colorIndex)?e=n._colorIndex:(n._colorIndex=a.color,e=a.color++),t=r[e]),this.color=t,a.wrapColor(r.length)},getSymbol:function(){var t,e=this,i=e.userOptions,n=e.options.marker,r=e.chart,a=r.options.symbols,s=r.counters;e.symbol=n.symbol,e.symbol||(h(i._symbolIndex)?t=i._symbolIndex:(i._symbolIndex=s.symbol,t=s.symbol++),e.symbol=a[t]),/^url/.test(e.symbol)&&(n.radius=0),s.wrapSymbol(a.length)},drawLegendSymbol:function(t){var e,i,n,r=this.options,a=r.marker,s=t.options,o=s.symbolWidth,l=this.chart.renderer,u=this.legendGroup,c=t.baseline;r.lineWidth&&(n={"stroke-width":r.lineWidth},r.dashStyle&&(n.dashstyle=r.dashStyle),this.legendLine=l.path([Zt,0,c-4,Qt,o,c-4]).attr(n).add(u)),a&&a.enabled&&(e=a.radius,this.legendSymbol=i=l.symbol(this.symbol,o/2-e,c-4-e,2*e,2*e).add(u))},addPoint:function(t,e,i,n){var r,a=this,s=a.options,o=a.data,l=a.graph,u=a.area,c=a.chart,h=a.xData,d=a.yData,p=a.zData,g=a.names,m=l&&l.shift||0,v=s.data;F(n,c),l&&i&&(l.shift=m+1),u&&(i&&(u.shift=m+1),u.isArea=!0),e=f(e,!0),r={series:a},a.pointClass.prototype.applyOptions.apply(r,[t]),h.push(r.x),d.push(a.toYData?a.toYData(r):r.y),p.push(r.z),g&&(g[r.x]=r.name),v.push(t),"point"===s.legendType&&a.generatePoints(),i&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),h.shift(),d.shift(),p.shift(),v.shift())),a.getAttribs(),a.isDirty=!0,a.isDirtyData=!0,e&&c.redraw()},setData:function(t,e){var i,n=this,a=n.points,l=n.options,u=n.chart,c=null,h=n.xAxis,d=h&&h.categories&&!h.categories.length?[]:null;n.xIncrement=null,n.pointRange=h&&h.categories?1:l.pointRange,n.colorCounter=0;var p,g=[],m=[],v=[],y=t?t.length:[],b=l.turboThreshold||1e3,_=n.pointArrayMap,x=_&&_.length,w=!!n.toYData;if(y>b){for(i=0;null===c&&y>i;)c=t[i],i++;if(o(c)){var C=f(l.pointStart,0),S=f(l.pointInterval,1);for(i=0;y>i;i++)g[i]=C,m[i]=t[i],C+=S;n.xIncrement=C}else if(s(c))if(x)for(i=0;y>i;i++)p=t[i],g[i]=p[0],m[i]=p.slice(1,x+1);else for(i=0;y>i;i++)p=t[i],g[i]=p[0],m[i]=p[1]}else for(i=0;y>i;i++)t[i]!==q&&(p={series:n},n.pointClass.prototype.applyOptions.apply(p,[t[i]]),g[i]=p.x,m[i]=w?n.toYData(p):p.y,v[i]=p.z,d&&p.name&&(d[i]=p.name));for(n.requireSorting&&g.length>1&&g[1]<g[0]&&A(15),r(m[0])&&A(14,!0),n.data=[],n.options.data=t,n.xData=g,n.yData=m,n.zData=v,n.names=d,i=a&&a.length||0;i--;)a[i]&&a[i].destroy&&a[i].destroy();h&&(h.minRange=h.userMinRange),n.isDirty=n.isDirtyData=u.isDirtyBox=!0,f(e,!0)&&u.redraw(!1)},remove:function(t,e){var i=this,n=i.chart;t=f(t,!0),i.isRemoving||(i.isRemoving=!0,ke(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,t&&n.redraw(e)})),i.isRemoving=!1},processData:function(t){var e,i,n,r,a=this,s=a.xData,o=a.yData,l=s.length,u=0,c=l,h=a.xAxis,d=a.options,p=d.cropThreshold,f=a.isCartesian;if(f&&!a.isDirty&&!h.isDirty&&!a.yAxis.isDirty&&!t)return!1;if(f&&a.sorted&&(!p||l>p||a.forceCrop)){var g=h.getExtremes(),m=g.min,v=g.max;if(s[l-1]<m||s[0]>v)s=[],o=[];else if(s[0]<m||s[l-1]>v){for(r=0;l>r;r++)if(s[r]>=m){u=bt(0,r-1);break}for(;l>r;r++)if(s[r]>v){c=r+1;break}s=s.slice(u,c),o=o.slice(u,c),e=!0}}for(r=s.length-1;r>0;r--)i=s[r]-s[r-1],i>0&&(n===q||n>i)&&(n=i);a.cropped=e,a.cropStart=u,a.processedXData=s,a.processedYData=o,null===d.pointRange&&(a.pointRange=n||1),a.closestPointRange=n},generatePoints:function(){var t,e,i,n,r=this,a=r.options,s=a.data,o=r.data,l=r.processedXData,u=r.processedYData,c=r.pointClass,h=l.length,d=r.cropStart||0,f=r.hasGroupedData,g=[];if(!o&&!f){var m=[];m.length=s.length,o=r.data=m}for(n=0;h>n;n++)e=d+n,f?g[n]=(new c).init(r,[l[n]].concat(p(u[n]))):(o[e]?i=o[e]:s[e]!==q&&(o[e]=i=(new c).init(r,s[e],l[n])),g[n]=i);if(o&&(h!==(t=o.length)||f))for(n=0;t>n;n++)n!==d||f||(n+=h),o[n]&&(o[n].destroyElements(),o[n].plotX=q);r.data=o,r.points=g},translate:function(){this.processedXData||this.processData(),this.generatePoints();for(var t,e=this,i=e.options,n=i.stacking,r=e.xAxis,a=r.categories,s=e.yAxis,o=e.points,l=o.length,u=!!e.modifyValue,c=s.series,d=c.length,p="between"===i.pointPlacement,g=i.threshold;d--;)if(c[d].visible){c[d]===e&&(t=!0);break}for(d=0;l>d;d++){var m,v,y=o[d],b=y.x,_=y.y,x=y.low,w=s.stacks[(g>_?"-":"")+e.stackKey];s.isLog&&0>=_&&(y.y=_=null),y.plotX=r.translate(b,0,0,0,1,p),n&&e.visible&&w&&w[b]&&(m=w[b],v=m.total,m.cum=x=m.cum-_,_=x+_,t&&(x=f(g,s.min)),s.isLog&&0>=x&&(x=null),"percent"===n&&(x=v?100*x/v:0,_=v?100*_/v:0),y.percentage=v?100*y.y/v:0,y.total=y.stackTotal=v,y.stackY=_),y.yBottom=h(x)?s.translate(x,0,1,0,1):null,u&&(_=e.modifyValue(_,y)),y.plotY="number"==typeof _&&_!==1/0?mt(10*s.translate(_,0,1,0,1))/10:q,y.clientX=p?r.translate(b,0,0,0,1):y.plotX,y.negative=y.y<(g||0),y.category=a&&a[y.x]!==q?a[y.x]:y.x}e.getSegments()},setTooltipPoints:function(t){var e,i,n,r,a,s=this,o=[],l=s.xAxis,u=l?l.tooltipLen||l.len:s.chart.plotSizeX,c=[];if(s.options.enableMouseTracking!==!1){for(t&&(s.tooltipPoints=null),be(s.segments||s.points,function(t){o=o.concat(t)}),l&&l.reversed&&(o=o.reverse()),e=o.length,a=0;e>a;a++)for(r=o[a],i=o[a-1]?n+1:0,n=o[a+1]?bt(0,vt((r.clientX+(o[a+1]?o[a+1].clientX:u))/2)):u;i>=0&&n>=i;)c[i++]=r;s.tooltipPoints=c}},tooltipHeaderFormatter:function(t){var e,i=this,n=i.tooltipOptions,r=n.xDateFormat,a=i.xAxis,s=a&&"datetime"===a.options.type,l=n.headerFormat;if(s&&!r)for(e in tt)if(tt[e]>=a.closestPointRange){r=n.dateTimeLabelFormats[e];break}return s&&r&&o(t.key)&&(l=l.replace("{point.key}","{point.key:"+r+"}")),w(l,{point:t,series:i})},onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&ke(t,"mouseOver"),t.setState(ie),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,r=i.hoverPoint;r&&r.onMouseOut(),t&&e.events.mouseOut&&ke(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState(),i.hoverSeries=null},animate:function(e){var i,n,r,s=this,o=s.chart,l=o.renderer,u=s.options.animation,c=o.clipBox,h=o.inverted;u&&!a(u)&&(u=Me[s.type].animation),r="_sharedClip"+u.duration+u.easing,e?(i=o[r],n=o[r+"m"],i||(o[r]=i=l.clipRect(t(c,{width:0})),o[r+"m"]=n=l.clipRect(-99,h?-o.plotLeft:-o.plotTop,99,h?o.chartWidth:o.chartHeight)),s.group.clip(i),s.markerGroup.clip(n),s.sharedClipKey=r):(i=o[r],i&&(i.animate({width:o.plotSizeX},u),o[r+"m"].animate({width:o.plotSizeX+99},u)),s.animate=null,s.animationTimeout=setTimeout(function(){s.afterAnimate()},u.duration))},afterAnimate:function(){var t=this.chart,e=this.sharedClipKey,i=this.group;i&&this.options.clip!==!1&&(i.clip(t.clipRect),this.markerGroup.clip()),setTimeout(function(){e&&t[e]&&(t[e]=t[e].destroy(),t[e+"m"]=t[e+"m"].destroy())},100)},drawPoints:function(){var e,i,n,r,a,s,o,l,u,c,h,d,p=this,g=p.points,m=p.chart,v=p.options,y=v.marker,b=p.markerGroup;if(y.enabled||p._hasPointMarkers)for(r=g.length;r--;)a=g[r],i=a.plotX,n=a.plotY,u=a.graphic,c=a.marker||{},h=y.enabled&&c.enabled===q||c.enabled,d=m.isInsidePlot(i,n,m.inverted),h&&n!==q&&!isNaN(n)&&null!==a.y?(e=a.pointAttr[a.selected?ne:ee],s=e.r,o=f(c.symbol,p.symbol),l=0===o.indexOf("url"),u?u.attr({visibility:d?Ft?"inherit":Xt:qt}).animate(t({x:i-s,y:n-s},u.symbolName?{width:2*s,height:2*s}:{})):d&&(s>0||l)&&(a.graphic=u=m.renderer.symbol(o,i-s,n-s,2*s,2*s).attr(e).add(b))):u&&(a.graphic=u.destroy())},convertAttribs:function(t,e,i,n){var r,a,s=this.pointAttrToOptions,o={};t=t||{},e=e||{},i=i||{},n=n||{};for(r in s)a=s[r],o[r]=f(t[a],e[r],i[r],n[r]);return o},getAttribs:function(){var e,i,n,r,a,s,o=this,l=o.options,u=Me[o.type].marker?l.marker:l,c=u.states,d=c[ie],p=o.color,f={stroke:p,fill:p},g=o.points||[],m=[],v=o.pointAttrToOptions,y=l.negativeColor;for(l.marker?(d.radius=d.radius||u.radius+2,d.lineWidth=d.lineWidth||u.lineWidth+1):d.color=d.color||Ae(d.color||p).brighten(d.brightness).get(),m[ee]=o.convertAttribs(u,f),be([ie,ne],function(t){m[t]=o.convertAttribs(c[t],m[ee])}),o.pointAttr=m,i=g.length;i--;){if(n=g[i],u=n.options&&n.options.marker||n.options,u&&u.enabled===!1&&(u.radius=0),n.negative&&y&&(n.color=n.fillColor=y),a=l.colorByPoint||n.color,n.options)for(s in v)h(u[v[s]])&&(a=!0);a?(u=u||{},r=[],c=u.states||{},e=c[ie]=c[ie]||{},l.marker||(e.color=Ae(e.color||n.color).brighten(e.brightness||d.brightness).get()),r[ee]=o.convertAttribs(t({color:n.color},u),m[ee]),r[ie]=o.convertAttribs(c[ie],m[ie],r[ee]),r[ne]=o.convertAttribs(c[ne],m[ne],r[ee]),n.negative&&l.marker&&(r[ee].fill=r[ie].fill=r[ne].fill=o.convertAttribs({fillColor:y}).fill)):r=m,n.pointAttr=r}},update:function(i,n){var r=this.chart,a=this.userOptions,s=this.type;i=e(a,{animation:!1,index:this.index,pointStart:this.xData[0]},i),this.remove(!1),t(this,pe[i.type||s].prototype),this.init(r,i),f(n,!0)&&r.redraw(!1)},destroy:function(){var t,e,i,n,r,a=this,s=a.chart,o=/AppleWebKit\/533/.test(It),l=a.data||[];for(ke(a,"destroy"),Se(a),be(["xAxis","yAxis"],function(t){r=a[t],r&&(c(r.series,a),r.isDirty=r.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),e=l.length;e--;)i=l[e],i&&i.destroy&&i.destroy();a.points=null,clearTimeout(a.animationTimeout),be(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(e){a[e]&&(t=o&&"group"===e?"hide":"destroy",a[e][t]())}),s.hoverSeries===a&&(s.hoverSeries=null),c(s.series,a);for(n in a)delete a[n]},drawDataLabels:function(){var t,i,n,r,a=this,s=a.options,o=s.dataLabels,l=a.points;(o.enabled||a._hasPointLabels)&&(a.dlProcessOptions&&a.dlProcessOptions(o),r=a.plotGroup("dataLabelsGroup","data-labels",a.visible?Xt:qt,o.zIndex||6),i=o,be(l,function(s){var l,u,c,d,p,g=s.dataLabel,m=s.connector,v=!0;if(t=s.options&&s.options.dataLabels,l=i.enabled||t&&t.enabled,g&&!l)s.dataLabel=g.destroy();else if(l){if(p=o.rotation,o=e(i,t),u=s.getLabelConfig(),n=o.format?w(o.format,u):o.formatter.call(u,o),o.style.color=f(o.color,o.style.color,a.color,"black"),g)h(n)?(g.attr({text:n}),v=!1):(s.dataLabel=g=g.destroy(),m&&(s.connector=m.destroy()));else if(h(n)){c={fill:o.backgroundColor,stroke:o.borderColor,"stroke-width":o.borderWidth,r:o.borderRadius||0,rotation:p,padding:o.padding,zIndex:1};for(d in c)c[d]===q&&delete c[d];g=s.dataLabel=a.chart.renderer[p?"text":"label"](n,0,-999,null,null,null,o.useHTML).attr(c).css(o.style).add(r).shadow(o.shadow)}g&&a.alignDataLabel(s,g,o,null,v)}}))},alignDataLabel:function(e,i,n,r,a){var s,o=this.chart,l=o.inverted,u=f(e.plotX,-999),c=f(e.plotY,-999),h=i.getBBox();r=t({x:l?o.plotWidth-c:u,y:mt(l?o.plotHeight-u:c),width:0,height:0},r),t(n,{width:h.width,height:h.height}),n.rotation?(s={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2},i[a?"attr":"animate"](s)):(i.align(n,null,r),s=i.alignAttr),i.attr({visibility:n.crop===!1||o.isInsidePlot(u,c,l)?o.renderer.isSVG?"inherit":Xt:qt})},getSegmentPath:function(t){var e=this,i=[],n=e.options.step;return be(t,function(r,a){var s,o=r.plotX,l=r.plotY;e.getPointSpline?i.push.apply(i,e.getPointSpline(t,r,a)):(i.push(a?Qt:Zt),n&&a&&(s=t[a-1],"right"===n?i.push(s.plotX,l):"center"===n?i.push((s.plotX+o)/2,s.plotY,(s.plotX+o)/2,l):i.push(o,s.plotY)),i.push(r.plotX,r.plotY))}),i},getGraphPath:function(){var t,e=this,i=[],n=[];return be(e.segments,function(r){t=e.getSegmentPath(r),r.length>1?i=i.concat(t):n.push(r[0])}),e.singlePoints=n,e.graphPath=i,i},drawGraph:function(){var t=this,e=this.options,i=[["graph",e.lineColor||this.color]],n=e.lineWidth,r=e.dashStyle,a=this.getGraphPath(),s=e.negativeColor;s&&i.push(["graphNeg",s]),be(i,function(i,s){var o,l=i[0],u=t[l];u?(De(u),u.animate({d:a})):n&&a.length&&(o={stroke:i[1],"stroke-width":n,zIndex:1},r&&(o.dashstyle=r),t[l]=t.chart.renderer.path(a).attr(o).add(t.group).shadow(!s&&e.shadow))})},clipNeg:function(){var t,e,i,n,r,a=this.options,s=this.chart,o=s.renderer,l=a.negativeColor,u=this.posClip,c=this.negClip,h=s.chartWidth,d=s.chartHeight,p=bt(h,d);l&&this.graph&&(t=yt(this.yAxis.len-this.yAxis.translate(a.threshold||0)),n={x:0,y:0,width:p,height:t},r={x:0,y:t,width:p,height:p-t},s.inverted&&o.isVML&&(n={x:s.plotWidth-t-s.plotLeft,y:0,width:h,height:d},r={x:t+s.plotLeft-h,y:0,width:s.plotLeft+t,height:h}),this.yAxis.reversed?(e=r,i=n):(e=n,i=r),u?(u.animate(e),c.animate(i)):(this.posClip=u=o.clipRect(e),this.graph.clip(u),this.negClip=c=o.clipRect(i),this.graphNeg.clip(c),this.area&&(this.area.clip(u),this.areaNeg.clip(c))))},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};be(["group","markerGroup"],function(i){e[i]&&e[i].attr(t).invert()})}var e=this,i=e.chart;Ce(i,"resize",t),Ce(e,"destroy",function(){Se(i,"resize",t)}),t(),e.invertGroups=t},plotGroup:function(t,e,i,n,r){var a=this[t],s=!a,o=this.chart,l=this.xAxis,u=this.yAxis;return s&&(this[t]=a=o.renderer.g(e).attr({visibility:i,zIndex:n||.1}).add(r)),a[s?"attr":"animate"]({translateX:l?l.left:o.plotLeft,translateY:u?u.top:o.plotTop,scaleX:1,scaleY:1}),a},render:function(){var t,e=this,i=e.chart,n=e.options,r=n.animation,a=r&&!!e.animate&&i.renderer.isSVG,s=e.visible?Xt:qt,o=n.zIndex,l=e.hasRendered,u=i.seriesGroup;t=e.plotGroup("group","series",s,o,u),e.markerGroup=e.plotGroup("markerGroup","markers",s,o,u),a&&e.animate(!0),e.getAttribs(),t.inverted=i.inverted,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels(),e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),i.inverted&&e.invertGroups(),n.clip===!1||e.sharedClipKey||l||t.clip(i.clipRect),a?e.animate():l||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirtyData,n=t.group,r=t.xAxis,a=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:f(r&&r.left,e.plotLeft),translateY:f(a&&a.top,e.plotTop)})),t.translate(),t.setTooltipPoints(!0),t.render(),i&&ke(t,"updatedData")},setState:function(t){var e,i=this,n=i.options,r=i.graph,a=i.graphNeg,s=n.states,o=n.lineWidth;if(t=t||ee,i.state!==t){if(i.state=t,s[t]&&s[t].enabled===!1)return;t&&(o=s[t].lineWidth||o+1),r&&!r.dashstyle&&(e={"stroke-width":o},r.attr(e),a&&a.attr(e))}},setVisible:function(t,e){var i,n=this,r=n.chart,a=n.legendItem,s=r.options.chart.ignoreHiddenSeries,o=n.visible;n.visible=t=n.userOptions.visible=t===q?!o:t,i=t?"show":"hide",
be(["group","dataLabelsGroup","markerGroup","tracker"],function(t){n[t]&&n[t][i]()}),r.hoverSeries===n&&n.onMouseOut(),a&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&be(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),be(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),ke(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===q?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),ke(e,t?"select":"unselect")},drawTracker:function(){var t,e,i=this,n=i.options,r=n.trackByArea,a=[].concat(r?i.areaPath:i.graphPath),s=a.length,o=i.chart,l=o.pointer,u=o.renderer,c=o.options.tooltip.snap,h=i.tracker,d=n.cursor,p=d&&{cursor:d},f=i.singlePoints,g=function(){o.hoverSeries!==i&&i.onMouseOver()};if(s&&!r)for(e=s+1;e--;)a[e]===Zt&&a.splice(e+1,0,a[e+1]-c,a[e+2],Qt),(e&&a[e]===Zt||e===s)&&a.splice(e,0,Qt,a[e-2]+c,a[e-1]);for(e=0;e<f.length;e++)t=f[e],a.push(Zt,t.plotX-c,t.plotY,Qt,t.plotX+c,t.plotY);h?h.attr({d:a}):(i.tracker=h=u.path(a).attr({"class":Gt+"tracker","stroke-linejoin":"round",visibility:i.visible?Xt:qt,stroke:te,fill:r?te:Jt,"stroke-width":n.lineWidth+(r?0:2*c),zIndex:2}).addClass(Gt+"tracker").on("mouseover",g).on("mouseout",function(t){l.onTrackerMouseOut(t)}).css(p).add(i.markerGroup),Ot&&h.on("touchstart",g))}};var je=v(Be);pe.line=je,Me.area=e($e,{threshold:0});var ze=v(Be,{type:"area",getSegments:function(){var t,e,i,n,r=[],a=[],s=[],o=this.xAxis,l=this.yAxis,u=l.stacks[this.stackKey],c={},h=this.points;if(this.options.stacking&&!this.cropped){for(i=0;i<h.length;i++)c[h[i].x]=h[i];for(n in u)s.push(+n);s.sort(function(t,e){return t-e}),be(s,function(i){c[i]?a.push(c[i]):(t=o.translate(i),e=l.toPixels(u[i].cum,!0),a.push({y:null,plotX:t,clientX:t,plotY:e,yBottom:e,onMouseOver:Bt}))}),a.length&&r.push(a)}else Be.prototype.getSegments.call(this),r=this.segments;this.segments=r},getSegmentPath:function(t){var e,i=Be.prototype.getSegmentPath.call(this,t),n=[].concat(i),r=this.options,a=i.length;if(3===a&&n.push(Qt,i[1],i[2]),r.stacking&&!this.closedStacks)for(e=t.length-1;e>=0;e--)e<t.length-1&&r.step&&n.push(t[e+1].plotX,t[e].yBottom),n.push(t[e].plotX,t[e].yBottom);else this.closeSegment(n,t);return this.areaPath=this.areaPath.concat(n),i},closeSegment:function(t,e){var i=this.yAxis.getThreshold(this.options.threshold);t.push(Qt,e[e.length-1].plotX,i,Qt,e[0].plotX,i)},drawGraph:function(){this.areaPath=[],Be.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,n=i.negativeColor,r=[["area",this.color,i.fillColor]];n&&r.push(["areaNeg",i.negativeColor,i.negativeFillColor]),be(r,function(n){var r=n[0],a=t[r];a?a.animate({d:e}):t[r]=t.chart.renderer.path(e).attr({fill:f(n[2],Ae(n[1]).setOpacity(i.fillOpacity||.75).get()),zIndex:0}).add(t.group)})},drawLegendSymbol:function(t,e){e.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,t.options.symbolWidth,12,2).attr({zIndex:3}).add(e.legendGroup)}});pe.area=ze,Me.spline=e($e);var Ve=v(Be,{type:"spline",getPointSpline:function(t,e,i){var n,r,a,s,o,l=1.5,u=l+1,c=e.plotX,h=e.plotY,d=t[i-1],p=t[i+1];if(d&&p){var f,g=d.plotX,m=d.plotY,v=p.plotX,y=p.plotY;n=(l*c+g)/u,r=(l*h+m)/u,a=(l*c+v)/u,s=(l*h+y)/u,f=(s-r)*(a-c)/(a-n)+h-s,r+=f,s+=f,r>m&&r>h?(r=bt(m,h),s=2*h-r):m>r&&h>r&&(r=_t(m,h),s=2*h-r),s>y&&s>h?(s=bt(y,h),r=2*h-s):y>s&&h>s&&(s=_t(y,h),r=2*h-s),e.rightContX=a,e.rightContY=s}return i?(o=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,n||c,r||h,c,h],d.rightContX=d.rightContY=null):o=[Zt,c,h],o}});pe.spline=Ve,Me.areaspline=e(Me.area);var He=ze.prototype,We=v(Ve,{type:"areaspline",closedStacks:!0,getSegmentPath:He.getSegmentPath,closeSegment:He.closeSegment,drawGraph:He.drawGraph});pe.areaspline=We,Me.column=e($e,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var Ye=v(Be,{type:"column",tooltipOutsidePlot:!0,requireSorting:!1,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},trackerGroups:["group","dataLabelsGroup"],init:function(){Be.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&be(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e,i=this,n=i.chart,r=i.options,a=this.xAxis,s=a.reversed,o={},l=0;r.grouping===!1?l=1:be(n.series,function(n){var r=n.options;n.type===i.type&&n.visible&&i.options.group===r.group&&(r.stacking?(t=n.stackKey,o[t]===q&&(o[t]=l++),e=o[t]):r.grouping!==!1&&(e=l++),n.columnIndex=e)});var u=_t(xt(a.transA)*(a.ordinalSlope||r.pointRange||a.closestPointRange||1),a.len),c=u*r.groupPadding,d=u-2*c,p=d/l,g=r.pointWidth,m=h(g)?(p-g)/2:p*r.pointPadding,v=f(g,p-2*m),y=(s?l-(i.columnIndex||0):i.columnIndex)||0,b=m+(c+y*p-u/2)*(s?-1:1);return i.columnMetrics={width:v,offset:b}},translate:function(){var t=this,e=t.chart,i=t.options,n=i.stacking,r=i.borderWidth,a=t.yAxis,s=i.threshold,o=t.translatedThreshold=a.getThreshold(s),l=f(i.minPointLength,5),u=t.getColumnMetrics(),c=u.width,h=yt(bt(c,1+2*r)),d=u.offset;Be.prototype.translate.apply(t),be(t.points,function(i){var s,u=_t(bt(-999,i.plotY),a.len+999),p=f(i.yBottom,o),g=i.plotX+d,m=yt(_t(u,p)),v=yt(bt(u,p)-m),y=a.stacks[(i.y<0?"-":"")+t.stackKey];n&&t.visible&&y&&y[i.x]&&y[i.x].setOffset(d,h),xt(v)<l&&l&&(v=l,m=xt(m-o)>l?p-l:o-(a.translate(i.y,0,1,0,1)<=o?l:0)),i.barX=g,i.pointWidth=c,i.shapeType="rect",i.shapeArgs=s=e.renderer.Element.prototype.crisp.call(0,r,g,m,h,v),r%2&&(s.y-=1,s.height+=1)})},getSymbol:Bt,drawLegendSymbol:ze.prototype.drawLegendSymbol,drawGraph:Bt,drawPoints:function(){var t,i=this,n=i.options,r=i.chart.renderer;be(i.points,function(a){var s=a.plotY,o=a.graphic;s===q||isNaN(s)||null===a.y?o&&(a.graphic=o.destroy()):(t=a.shapeArgs,o?(De(o),o.animate(e(t))):a.graphic=o=r[a.shapeType](t).attr(a.pointAttr[a.selected?ne:ee]).add(i.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius))})},drawTracker:function(){var t=this,e=t.chart.pointer,i=t.options.cursor,n=i&&{cursor:i},r=function(e){var i,n=e.target;for(t.onMouseOver();n&&!i;)i=n.point,n=n.parentNode;i!==q&&i.onMouseOver(e)};be(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking?t._hasTracking=!0:be(t.trackerGroups,function(i){t[i]&&(t[i].addClass(Gt+"tracker").on("mouseover",r).on("mouseout",function(t){e.onTrackerMouseOut(t)}).css(n),Ot&&t[i].on("touchstart",r))})},alignDataLabel:function(t,i,n,r,a){var s=this.chart,o=s.inverted,l=t.dlBox||t.shapeArgs,u=t.below||t.plotY>f(this.translatedThreshold,s.plotSizeY),c=f(n.inside,!!this.options.stacking);l&&(r=e(l),o&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),c||(o?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0))),n.align=f(n.align,!o||c?"center":u?"right":"left"),n.verticalAlign=f(n.verticalAlign,o||c?"middle":u?"top":"bottom"),Be.prototype.alignDataLabel.call(this,t,i,n,r,a)},animate:function(t){var e,i=this,n=this.yAxis,r=i.options,a=this.chart.inverted,s={};Ft&&(t?(s.scaleY=.001,e=_t(n.pos+n.len,bt(n.pos,n.toPixels(r.threshold))),a?s.translateX=e-n.len:s.translateY=e,i.group.attr(s)):(s.scaleY=1,s[a?"translateX":"translateY"]=n.pos,i.group.animate(s,i.options.animation),i.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&be(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Be.prototype.remove.apply(t,arguments)}});pe.column=Ye,Me.bar=e(Me.column);var qe=v(Ye,{type:"bar",inverted:!0});pe.bar=qe,Me.scatter=e($e,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var Ge=v(Be,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],drawTracker:Ye.prototype.drawTracker,setTooltipPoints:Bt});pe.scatter=Ge,Me.pie=e($e,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Xe=v(Re,{init:function(){Re.prototype.init.apply(this,arguments);var e,i=this;return i.y<0&&(i.y=null),t(i,{visible:i.visible!==!1,name:f(i.name,"Slice")}),e=function(){i.slice()},Ce(i,"select",e),Ce(i,"unselect",e),i},setVisible:function(t){var e,i=this,n=i.series,r=n.chart;i.visible=i.options.visible=t=t===q?!i.visible:t,n.options.data[ye(i,n.data)]=i.options,e=t?"show":"hide",be(["graphic","dataLabel","connector","shadowGroup"],function(t){i[t]&&i[t][e]()}),i.legendItem&&r.legend.colorizeItem(i,t),!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,r.redraw())},slice:function(t,e,i){var n,r=this,a=r.series,s=a.chart;F(i,s),e=f(e,!0),r.sliced=r.options.sliced=t=h(t)?t:!r.sliced,a.options.data[ye(r,a.data)]=r.options,n=t?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(n),r.shadowGroup&&r.shadowGroup.animate(n)}}),Ke={type:"pie",isCartesian:!1,pointClass:Xe,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:Bt,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(be(i,function(t){var i=t.graphic,r=t.shapeArgs;i&&(i.attr({r:e.center[3]/2,start:n,end:n}),i.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},setData:function(t,e){Be.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),f(e,!0)&&this.chart.redraw()},getCenter:function(){var t,e,i=this.options,r=this.chart,a=2*(i.slicedOffset||0),s=r.plotWidth-2*a,o=r.plotHeight-2*a,l=i.center,u=[f(l[0],"50%"),f(l[1],"50%"),i.size||"100%",i.innerSize||0],c=_t(s,o);return we(u,function(i,r){return e=/%$/.test(i),t=2>r||2===r&&e,(e?[s,o,c,c][r]*n(i)/100:i)+(t?a:0)})},translate:function(t){this.generatePoints();var e,i,n,r,a,s,o,l,u=0,c=this,h=0,d=1e3,p=c.options,f=p.slicedOffset,g=f+p.borderWidth,m=c.startAngleRad=St/180*((p.startAngle||0)%360-90),v=c.points,y=2*St,b=p.dataLabels.distance,_=p.ignoreHiddenPoint,x=v.length;for(t||(c.center=t=c.getCenter()),c.getX=function(e,i){return n=gt.asin((e-t[1])/(t[2]/2+b)),t[0]+(i?-1:1)*(wt(n)*(t[2]/2+b))},o=0;x>o;o++)l=v[o],u+=_&&!l.visible?0:l.y;for(o=0;x>o;o++)l=v[o],r=u?l.y/u:0,e=mt((m+h*y)*d)/d,(!_||l.visible)&&(h+=r),i=mt((m+h*y)*d)/d,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:e,end:i},n=(i+e)/2,n>.75*y&&(n-=2*St),l.slicedTranslation={translateX:mt(wt(n)*f),translateY:mt(Ct(n)*f)},a=wt(n)*t[2]/2,s=Ct(n)*t[2]/2,l.tooltipPos=[t[0]+.7*a,t[1]+.7*s],l.half=y/4>n?0:1,l.angle=n,g=_t(g,b/2),l.labelPos=[t[0]+a+wt(n)*b,t[1]+s+Ct(n)*b,t[0]+a+wt(n)*g,t[1]+s+Ct(n)*g,t[0]+a,t[1]+s,0>b?"center":l.half?"right":"left",n],l.percentage=100*r,l.total=u;this.setTooltipPoints()},drawGraph:null,drawPoints:function(){var e,i,n,r,a=this,s=a.chart,o=s.renderer,l=a.options.shadow;l&&!a.shadowGroup&&(a.shadowGroup=o.g("shadow").add(a.group)),be(a.points,function(s){i=s.graphic,r=s.shapeArgs,n=s.shadowGroup,l&&!n&&(n=s.shadowGroup=o.g("shadow").add(a.shadowGroup)),e=s.sliced?s.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(e),i?i.animate(t(r,e)):s.graphic=i=o.arc(r).setRadialReference(a.center).attr(s.pointAttr[s.selected?ne:ee]).attr({"stroke-linejoin":"round"}).attr(e).add(a.group).shadow(l,n),s.visible===!1&&s.setVisible(!1)})},drawDataLabels:function(){var t,e,i,n,r,a,s,o,l,u,c,h,d,p=this,g=p.data,m=p.chart,v=p.options.dataLabels,y=f(v.connectorPadding,10),b=f(v.connectorWidth,1),_=m.plotWidth,x=m.plotHeight,w=f(v.softConnector,!0),C=v.distance,S=p.center,k=S[2]/2,I=S[1],T=C>0,D=[[],[]],M=[0,0,0,0],$=function(t,e){return e.y-t.y},A=function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})};if(v.enabled||p._hasPointLabels){for(Be.prototype.drawDataLabels.apply(p),be(g,function(t){t.dataLabel&&D[t.half].push(t)}),h=0;!s&&g[h];)s=g[h]&&g[h].dataLabel&&(g[h].dataLabel.getBBox().height||21),h++;for(h=2;h--;){var E,F,P,L=[],O=[],N=D[h],R=N.length;if(A(N,h-.5),C>0){for(F=I-k-C;I+k+C>=F;F+=s)L.push(F);if(E=L.length,R>E){for(c=[].concat(N),c.sort($),d=R;d--;)c[d].rank=d;for(d=R;d--;)N[d].rank>=E&&N.splice(d,1);R=N.length}for(d=0;R>d;d++){t=N[d],a=t.labelPos;var B,j,z=9999;for(j=0;E>j;j++)B=xt(L[j]-a[1]),z>B&&(z=B,P=j);if(d>P&&null!==L[d])P=d;else if(R-d+P>E&&null!==L[d])for(P=E-R+d;null===L[P];)P++;else for(;null===L[P];)P++;O.push({i:P,y:L[P]}),L[P]=null}O.sort($)}for(d=0;R>d;d++){var V,H;t=N[d],a=t.labelPos,n=t.dataLabel,u=t.visible===!1?qt:Xt,H=a[1],C>0?(V=O.pop(),P=V.i,l=V.y,(H>l&&null!==L[P+1]||l>H&&null!==L[P-1])&&(l=H)):l=H,o=v.justify?S[0]+(h?-1:1)*(k+C):p.getX(0===P||P===L.length-1?H:l,h),n._attr={visibility:u,align:a[6]},n._pos={x:o+v.x+({left:y,right:-y}[a[6]]||0),y:l+v.y-10},n.connX=o,n.connY=l,null===this.options.size&&(r=n.width,y>o-r?M[3]=bt(mt(r-o+y),M[3]):o+r>_-y&&(M[1]=bt(mt(o+r-_+y),M[1])),0>l-s/2?M[0]=bt(mt(-l+s/2),M[0]):l+s/2>x&&(M[2]=bt(mt(l+s/2-x),M[2])))}}(0===U(M)||this.verifyDataLabelOverflow(M))&&(this.placeDataLabels(),T&&b&&be(this.points,function(t){e=t.connector,a=t.labelPos,n=t.dataLabel,n&&n._pos?(o=n.connX,l=n.connY,i=w?[Zt,o+("left"===a[6]?5:-5),l,"C",o,l,2*a[2]-a[4],2*a[3]-a[5],a[2],a[3],Qt,a[4],a[5]]:[Zt,o+("left"===a[6]?5:-5),l,Qt,a[2],a[3],Qt,a[4],a[5]],e?(e.animate({d:i}),e.attr("visibility",u)):t.connector=e=p.chart.renderer.path(i).attr({"stroke-width":b,stroke:v.connectorColor||t.color||"#606060",visibility:u}).add(p.group)):e&&(t.connector=e.destroy())}))}},verifyDataLabelOverflow:function(t){var e,i=this.center,n=this.options,r=n.center,a=n.minSize||80,s=a;return null!==r[0]?s=bt(i[2]-bt(t[1],t[3]),a):(s=bt(i[2]-t[1]-t[3],a),i[0]+=(t[3]-t[1])/2),null!==r[1]?s=bt(_t(s,i[2]-bt(t[0],t[2])),a):(s=bt(_t(s,i[2]-t[0]-t[2]),a),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,this.translate(i),be(this.points,function(t){t.dataLabel&&(t.dataLabel._pos=null)}),this.drawDataLabels()):e=!0,e},placeDataLabels:function(){be(this.points,function(t){var e,i=t.dataLabel;i&&(e=i._pos,e?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-999}))})},alignDataLabel:Bt,drawTracker:Ye.prototype.drawTracker,drawLegendSymbol:ze.prototype.drawLegendSymbol,getSymbol:Bt};Ke=v(Be,Ke),pe.pie=Ke,t(Highcharts,{Axis:z,Chart:Y,Color:Ae,Legend:W,Pointer:H,Point:Re,Tick:R,Tooltip:V,Renderer:G,Series:Be,SVGElement:N,SVGRenderer:Ee,arrayMin:D,arrayMax:U,charts:jt,dateFormat:J,format:w,pathAnim:Q,getOptions:O,hasBidiBug:Pt,isTouchDevice:At,numberFormat:y,seriesTypes:pe,setOptions:L,addEvent:Ce,removeEvent:Se,createElement:m,discardElement:$,css:g,each:be,extend:t,map:we,merge:e,pick:f,splat:p,extendClass:v,pInt:n,wrap:_,svg:Ft,canvas:Lt,vml:!Ft&&!Lt,product:zt,version:Vt})}(),
// copyright chris wanstrath
function(t){function e(e,n,r){var a=this;return this.on("click.pjax",e,function(e){r=d(n,r),r.container||(r.container=t(this).attr("data-pjax")||a),i(e,r)})}function i(e,i,n){n=d(i,n);var a=e.currentTarget;if("A"!==a.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||location.protocol!==a.protocol||location.host!==a.host||a.hash&&a.href.replace(a.hash,"")===location.href.replace(location.hash,"")||a.href===location.href+"#")){var s={url:a.href,container:t(a).attr("data-pjax"),target:a,fragment:null};r(t.extend({},s,n)),e.preventDefault()}}function n(e,i,n){n=d(i,n);var a=e.currentTarget;if("FORM"!==a.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:a.method,url:a.action,data:t(a).serializeArray(),container:t(a).attr("data-pjax"),target:a,fragment:null,timeout:0};r(t.extend({},s,n)),e.preventDefault()}function r(e){function i(e,i){var r=t.Event(e,{relatedTarget:n});return o.trigger(r,i),!r.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var n=e.target,a=h(e.url).hash,o=e.context=p(e.container);e.data||(e.data={}),e.data._pjax=o.selector;var l;e.beforeSend=function(t,n){"GET"!==n.type&&(n.timeout=0),n.timeout>0&&(l=setTimeout(function(){i("pjax:timeout",[t,e])&&t.abort("timeout")},n.timeout),n.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",o.selector);return i("pjax:beforeSend",[t,n])?void(e.requestUrl=h(n.url).href):!1},e.complete=function(t,n){l&&clearTimeout(l),i("pjax:complete",[t,n,e]),i("pjax:end",[t,e])},e.error=function(t,n,r){var a=g("",t,e),o=i("pjax:error",[t,n,r,e]);"abort"!==n&&o&&s(a.url)},e.success=function(n,l,c){var d=g(n,c,e);if(!d.contents)return void s(d.url);if(r.state={id:e.id||u(),url:d.url,title:d.title,container:o.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(r.state,d.title,d.url),d.title&&(document.title=d.title),o.html(d.contents),"number"==typeof e.scrollTo&&t(window).scrollTop(e.scrollTo),(e.replace||e.push)&&window._gaq&&_gaq.push(["_trackPageview"]),""!==a){var p=h(d.url);p.hash=a,r.state.url=p.href,window.history.replaceState(r.state,d.title,p.href);var f=t(p.hash);f.length&&t(window).scrollTop(f.offset().top)}i("pjax:success",[n,l,c,e])},r.state||(r.state={id:u(),url:window.location.href,title:document.title,container:o.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title));var d=r.xhr;d&&d.readyState<4&&(d.onreadystatechange=t.noop,d.abort()),r.options=e;var d=r.xhr=t.ajax(e);return d.readyState>0&&(e.push&&!e.replace&&(m(r.state.id,o.clone().contents()),window.history.pushState(null,"",c(e.requestUrl))),i("pjax:start",[d,e]),i("pjax:send",[d,e])),r.xhr}function a(e,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(n,d(e,i)))}function s(t){window.history.replaceState(null,"","#"),window.location.replace(t)}function o(e){var i=e.state;if(i&&i.container){var n=t(i.container);if(n.length){var a=_[i.id];if(r.state){var o=r.state.id<i.id?"forward":"back";v(o,r.state.id,n.clone().contents())}var l=t.Event("pjax:popstate",{state:i,direction:o});n.trigger(l);var u={id:i.id,url:i.url,container:n,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};a?(n.trigger("pjax:start",[null,u]),i.title&&(document.title=i.title),n.html(a),r.state=i,n.trigger("pjax:end",[null,u])):r(u),n[0].offsetHeight}else s(location.href)}}function l(e){var i=t.isFunction(e.url)?e.url():e.url,n=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===n?"GET":"POST",action:i,style:"display:none"});"GET"!==n&&"POST"!==n&&r.append(t("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var a=e.data;if("string"==typeof a)t.each(a.split("&"),function(e,i){var n=i.split("=");r.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if("object"==typeof a)for(key in a)r.append(t("<input>",{type:"hidden",name:key,value:a[key]}));t(document.body).append(r),r.submit()}function u(){return(new Date).getTime()}function c(t){return t.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function h(t){var e=document.createElement("a");return e.href=t,e}function d(e,i){return e&&i?i.container=e:i=t.isPlainObject(e)?e:{container:e},i.container&&(i.container=p(i.container)),i}function p(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function f(t,e){return t.filter(e).add(t.find(e))}function g(e,i,n){var r={};if(r.url=c(i.getResponseHeader("X-PJAX-URL")||n.requestUrl),/<html/i.test(e))var a=t(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0]),s=t(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]);else var a=s=t(e);if(0===s.length)return r;if(r.title=f(a,"title").last().text(),n.fragment){if("body"===n.fragment)var o=s;else var o=f(s,n.fragment).first();o.length&&(r.contents=o.contents(),r.title||(r.title=o.attr("title")||o.data("title")))}else/<html/i.test(e)||(r.contents=s);return r.contents&&(r.contents=r.contents.not("title"),r.contents.find("title").remove()),r.title&&(r.title=t.trim(r.title)),r}function m(t,e){for(_[t]=e,w.push(t);x.length;)delete _[x.shift()];for(;w.length>r.defaults.maxCacheLength;)delete _[w.shift()]}function v(t,e,i){var n,r;_[e]=i,"forward"===t?(n=w,r=x):(n=x,r=w),n.push(e),(e=r.pop())&&delete _[e]}function y(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=b,t.pjax.click=i,t.pjax.submit=n,t.pjax.reload=a,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20},t(window).bind("popstate.pjax",o)}function b(){t.fn.pjax=function(){return this},t.pjax=l,t.pjax.enable=y,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=window.location.reload,t(window).unbind("popstate.pjax",o)}var _={},x=[],w=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),t.support.pjax?y():b()}(jQuery),/*
 *
 * Copyright (c) 2010 C. F., Wong (<a href="http://cloudgen.w0ng.hk">Cloudgen Examplet Store</a>)
 * Licensed under the MIT License:
 * http://www.opensource.org/licenses/mit-license.php
 *
 */
function(t,e,i,n){t.fn.caret=function(r,a){var s,o,l=this[0],u=t.browser.msie;if("object"==typeof r&&"number"==typeof r.start&&"number"==typeof r.end?(s=r.start,o=r.end):"number"==typeof r&&"number"==typeof a?(s=r,o=a):"string"==typeof r?(s=l.value.indexOf(r))>-1?o=s+r[e]:s=null:"[object RegExp]"===Object.prototype.toString.call(r)&&(r=r.exec(l.value),null!=r&&(s=r.index,o=s+r[0][e])),"undefined"!=typeof s)return u?(u=this[0].createTextRange(),u.collapse(!0),u.moveStart("character",s),u.moveEnd("character",o-s),u.select()):(this[0].selectionStart=s,this[0].selectionEnd=o),this[0].focus(),this;if(u)if(o=document.selection,"textarea"!=this[0].tagName.toLowerCase()){u=this.val(),s=o[i]()[n](),s.moveEnd("character",u[e]);var c=""==s.text?u[e]:u.lastIndexOf(s.text);s=o[i]()[n](),s.moveStart("character",-u[e]);var h=s.text[e]}else s=o[i](),o=s[n](),o.moveToElementText(this[0]),o.setEndPoint("EndToEnd",s),c=o.text[e]-s.text[e],h=c+s.text[e];else c=l.selectionStart,h=l.selectionEnd;return s=l.value.substring(c,h),{start:c,end:h,text:s,replace:function(t){return l.value.substring(0,c)+t+l.value.substring(h,l.value[e])}}}}(jQuery,"length","createRange","duplicate"),function(t){function e(){this._defaults={pickerClass:"",showOnFocus:!0,showTrigger:null,showAnim:"show",showOptions:{},showSpeed:"normal",popupContainer:null,alignment:"bottom",fixedWeeks:!1,firstDay:0,calculateWeek:this.iso8601Week,monthsToShow:1,monthsOffset:0,monthsToStep:1,monthsToJump:12,useMouseWheel:!0,changeMonth:!0,yearRange:"c-10:c+10",shortYearCutoff:"+10",showOtherMonths:!1,selectOtherMonths:!1,defaultDate:null,selectDefaultDate:!1,minDate:null,maxDate:null,dateFormat:"mm/dd/yyyy",autoSize:!1,rangeSelect:!1,rangeSeparator:" - ",multiSelect:0,multiSeparator:",",onDate:null,onShow:null,onChangeMonthYear:null,onSelect:null,onClose:null,altField:null,altFormat:null,constrainInput:!0,commandsAsDateFormat:!1,commands:this.commands},this.regional=[],this.regional[""]={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dateFormat:"mm/dd/yyyy",firstDay:0,renderer:this.defaultRenderer,prevText:"&lt;Prev",prevStatus:"Show the previous month",prevJumpText:"&lt;&lt;",prevJumpStatus:"Show the previous year",nextText:"Next&gt;",nextStatus:"Show the next month",nextJumpText:"&gt;&gt;",nextJumpStatus:"Show the next year",currentText:"Current",currentStatus:"Show the current month",todayText:"Today",todayStatus:"Show today's month",clearText:"Clear",clearStatus:"Clear all the dates",closeText:"Close",closeStatus:"Close the datepicker",yearStatus:"Change the year",monthStatus:"Change the month",weekText:"Wk",weekStatus:"Week of the year",dayStatus:"Select DD, M d, yyyy",defaultStatus:"Select a date",isRTL:!1},t.extend(this._defaults,this.regional[""]),this._disabled=[]}function i(e,i){return"option"==e&&(0==i.length||1==i.length&&"string"==typeof i[0])?!0:t.inArray(e,n)>-1}t.extend(e.prototype,{markerClassName:"hasDatepick",propertyName:"datepick",_popupClass:"datepick-popup",_triggerClass:"datepick-trigger",_disableClass:"datepick-disable",_monthYearClass:"datepick-month-year",_curMonthClass:"datepick-month-",_anyYearClass:"datepick-any-year",_curDoWClass:"datepick-dow-",commands:{prev:{text:"prevText",status:"prevStatus",keystroke:{keyCode:33},enabled:function(t){var e=t.curMinDate();return!e||r.add(r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),1-t.options.monthsToStep,"m"),t),1),-1,"d").getTime()>=e.getTime()},date:function(t){return r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),-t.options.monthsToStep,"m"),t),1)},action:function(t){r._changeMonthPlugin(this,-t.options.monthsToStep)}},prevJump:{text:"prevJumpText",status:"prevJumpStatus",keystroke:{keyCode:33,ctrlKey:!0},enabled:function(t){var e=t.curMinDate();return!e||r.add(r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),1-t.options.monthsToJump,"m"),t),1),-1,"d").getTime()>=e.getTime()},date:function(t){return r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),-t.options.monthsToJump,"m"),t),1)},action:function(t){r._changeMonthPlugin(this,-t.options.monthsToJump)}},next:{text:"nextText",status:"nextStatus",keystroke:{keyCode:34},enabled:function(t){var e=t.get("maxDate");return!e||r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),t.options.monthsToStep,"m"),t),1).getTime()<=e.getTime()},date:function(t){return r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),t.options.monthsToStep,"m"),t),1)},action:function(t){r._changeMonthPlugin(this,t.options.monthsToStep)}},nextJump:{text:"nextJumpText",status:"nextJumpStatus",keystroke:{keyCode:34,ctrlKey:!0},enabled:function(t){var e=t.get("maxDate");return!e||r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),t.options.monthsToJump,"m"),t),1).getTime()<=e.getTime()},date:function(t){return r.day(r._applyMonthsOffset(r.add(r.newDate(t.drawDate),t.options.monthsToJump,"m"),t),1)},action:function(t){r._changeMonthPlugin(this,t.options.monthsToJump)}},current:{text:"currentText",status:"currentStatus",keystroke:{keyCode:36,ctrlKey:!0},enabled:function(t){var e=t.curMinDate(),i=t.get("maxDate"),n=t.selectedDates[0]||r.today();return(!e||n.getTime()>=e.getTime())&&(!i||n.getTime()<=i.getTime())},date:function(t){return t.selectedDates[0]||r.today()},action:function(t){var e=t.selectedDates[0]||r.today();r._showMonthPlugin(this,e.getFullYear(),e.getMonth()+1)}},today:{text:"todayText",status:"todayStatus",keystroke:{keyCode:36,ctrlKey:!0},enabled:function(t){var e=t.curMinDate(),i=t.get("maxDate");return(!e||r.today().getTime()>=e.getTime())&&(!i||r.today().getTime()<=i.getTime())},date:function(t){return r.today()},action:function(t){r._showMonthPlugin(this)}},clear:{text:"clearText",status:"clearStatus",keystroke:{keyCode:35,ctrlKey:!0},enabled:function(t){return!0},date:function(t){return null},action:function(t){r._clearPlugin(this)}},close:{text:"closeText",status:"closeStatus",keystroke:{keyCode:27},enabled:function(t){return!0},date:function(t){return null},action:function(t){r._hidePlugin(this)}},prevWeek:{text:"prevWeekText",status:"prevWeekStatus",keystroke:{keyCode:38,ctrlKey:!0},enabled:function(t){var e=t.curMinDate();return!e||r.add(r.newDate(t.drawDate),-7,"d").getTime()>=e.getTime()},date:function(t){return r.add(r.newDate(t.drawDate),-7,"d")},action:function(t){r._changeDayPlugin(this,-7)}},prevDay:{text:"prevDayText",status:"prevDayStatus",keystroke:{keyCode:37,ctrlKey:!0},enabled:function(t){var e=t.curMinDate();return!e||r.add(r.newDate(t.drawDate),-1,"d").getTime()>=e.getTime()},date:function(t){return r.add(r.newDate(t.drawDate),-1,"d")},action:function(t){r._changeDayPlugin(this,-1)}},nextDay:{text:"nextDayText",status:"nextDayStatus",keystroke:{keyCode:39,ctrlKey:!0},enabled:function(t){var e=t.get("maxDate");return!e||r.add(r.newDate(t.drawDate),1,"d").getTime()<=e.getTime()},date:function(t){return r.add(r.newDate(t.drawDate),1,"d")},action:function(t){r._changeDayPlugin(this,1)}},nextWeek:{text:"nextWeekText",status:"nextWeekStatus",keystroke:{keyCode:40,ctrlKey:!0},enabled:function(t){var e=t.get("maxDate");return!e||r.add(r.newDate(t.drawDate),7,"d").getTime()<=e.getTime()},date:function(t){return r.add(r.newDate(t.drawDate),7,"d")},action:function(t){r._changeDayPlugin(this,7)}}},defaultRenderer:{picker:'<div class="datepick"><div class="datepick-nav">{link:prev}{link:today}{link:next}</div>{months}{popup:start}<div class="datepick-ctrl">{link:clear}{link:close}</div>{popup:end}<div class="datepick-clear-fix"></div></div>',monthRow:'<div class="datepick-month-row">{months}</div>',month:'<div class="datepick-month"><div class="datepick-month-header">{monthHeader}</div><table><thead>{weekHeader}</thead><tbody>{weeks}</tbody></table></div>',weekHeader:"<tr>{days}</tr>",dayHeader:"<th>{day}</th>",week:"<tr>{days}</tr>",day:"<td>{day}</td>",monthSelector:".datepick-month",daySelector:"td",rtlClass:"datepick-rtl",multiClass:"datepick-multi",defaultClass:"",selectedClass:"datepick-selected",highlightedClass:"datepick-highlight",todayClass:"datepick-today",otherMonthClass:"datepick-other-month",weekendClass:"datepick-weekend",commandClass:"datepick-cmd",commandButtonClass:"",commandLinkClass:"",disabledClass:"datepick-disabled"},setDefaults:function(e){return t.extend(this._defaults,e||{}),this},_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,_msPerDay:864e5,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(t,e,i){if("string"!=typeof t&&(i=e,e=t,t=""),!e)return"";t=t||this._defaults.dateFormat,i=i||{};for(var n=i.dayNamesShort||this._defaults.dayNamesShort,r=i.dayNames||this._defaults.dayNames,a=i.monthNamesShort||this._defaults.monthNamesShort,s=i.monthNames||this._defaults.monthNames,o=i.calculateWeek||this._defaults.calculateWeek,l=function(e,i){for(var n=1;p+n<t.length&&t.charAt(p+n)==e;)n++;return p+=n-1,Math.floor(n/(i||1))>1},u=function(t,e,i,n){var r=""+e;if(l(t,n))for(;r.length<i;)r="0"+r;return r},c=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1,p=0;p<t.length;p++)if(d)"'"!=t.charAt(p)||l("'")?h+=t.charAt(p):d=!1;else switch(t.charAt(p)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),n,r);break;case"o":h+=u("o",this.dayOfYear(e),3);break;case"w":h+=u("w",o(e),2);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),a,s);break;case"y":h+=l("y",2)?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=Math.floor(e.getTime()/1e3);break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(p)}return h},parseDate:function(t,e,i){if(null==e)throw"Invalid arguments";if(e="object"==typeof e?e.toString():e+"",""==e)return null;t=t||this._defaults.dateFormat,i=i||{};var n=i.shortYearCutoff||this._defaults.shortYearCutoff;n="string"!=typeof n?n:this.today().getFullYear()%100+parseInt(n,10);for(var r=i.dayNamesShort||this._defaults.dayNamesShort,a=i.dayNames||this._defaults.dayNames,s=i.monthNamesShort||this._defaults.monthNamesShort,o=i.monthNames||this._defaults.monthNames,l=-1,u=-1,c=-1,h=-1,d=!1,p=!1,f=function(e,i){for(var n=1;b+n<t.length&&t.charAt(b+n)==e;)n++;return b+=n-1,Math.floor(n/(i||1))>1},g=function(t,i){var n=f(t,i),r=[2,3,n?4:2,11,20]["oy@!".indexOf(t)+1],a=new RegExp("^-?\\d{1,"+r+"}"),s=e.substring(y).match(a);if(!s)throw"Missing number at position {0}".replace(/\{0\}/,y);return y+=s[0].length,parseInt(s[0],10)},m=function(t,i,n,r){for(var a=f(t,r)?n:i,s=0;s<a.length;s++)if(e.substr(y,a[s].length).toLowerCase()==a[s].toLowerCase())return y+=a[s].length,s+1;throw"Unknown name at position {0}".replace(/\{0\}/,y)},v=function(){if(e.charAt(y)!=t.charAt(b))throw"Unexpected literal at position {0}".replace(/\{0\}/,y);y++},y=0,b=0;b<t.length;b++)if(p)"'"!=t.charAt(b)||f("'")?v():p=!1;else switch(t.charAt(b)){case"d":c=g("d");break;case"D":m("D",r,a);break;case"o":h=g("o");break;case"w":g("w");break;case"m":u=g("m");break;case"M":u=m("M",s,o);break;case"y":var _=b;d=!f("y",2),b=_,l=g("y",2);break;case"@":var x=this._normaliseDate(new Date(1e3*g("@")));l=x.getFullYear(),u=x.getMonth()+1,c=x.getDate();break;case"!":var x=this._normaliseDate(new Date((g("!")-this._ticksTo1970)/1e4));l=x.getFullYear(),u=x.getMonth()+1,c=x.getDate();break;case"*":y=e.length;break;case"'":f("'")?v():p=!0;break;default:v()}if(y<e.length)throw"Additional text found at end";if(-1==l?l=this.today().getFullYear():100>l&&d&&(l+=-1==n?1900:this.today().getFullYear()-this.today().getFullYear()%100-(n>=l?0:100)),h>-1){u=1,c=h;for(var w=this.daysInMonth(l,u);c>w;w=this.daysInMonth(l,u))u++,c-=w}var x=this.newDate(l,u,c);if(x.getFullYear()!=l||x.getMonth()+1!=u||x.getDate()!=c)throw"Invalid date";return x},determineDate:function(t,e,i,n,a){i&&"object"!=typeof i&&(a=n,n=i,i=null),"string"!=typeof n&&(a=n,n="");var s=function(t){try{return r.parseDate(n,t,a)}catch(e){}t=t.toLowerCase();for(var s=(t.match(/^c/)&&i?r.newDate(i):null)||r.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=null;l=o.exec(t);)s=r.add(s,parseInt(l[1],10),l[2]||"d");return s};return e=e?r.newDate(e):null,t=null==t?e:"string"==typeof t?s(t):"number"==typeof t?isNaN(t)||t==1/0||t==-(1/0)?e:r.add(r.today(),t,"d"):r.newDate(t)},daysInMonth:function(t,e){return e=t.getFullYear?t.getMonth()+1:e,t=t.getFullYear?t.getFullYear():t,this.newDate(t,e+1,0).getDate()},dayOfYear:function(t,e,i){var n=t.getFullYear?t:this.newDate(t,e,i),r=this.newDate(n.getFullYear(),1,1);return Math.floor((n.getTime()-r.getTime())/this._msPerDay)+1},iso8601Week:function(t,e,i){var n=t.getFullYear?new Date(t.getTime()):this.newDate(t,e,i);n.setDate(n.getDate()+4-(n.getDay()||7));var r=n.getTime();return n.setMonth(0,1),Math.floor(Math.round((r-n)/864e5)/7)+1},today:function(){return this._normaliseDate(new Date)},newDate:function(t,e,i){return t?t.getFullYear?this._normaliseDate(new Date(t.getTime())):new Date(t,e-1,i,12):null},_normaliseDate:function(t){return t&&t.setHours(12,0,0,0),t},year:function(t,e){return t.setFullYear(e),this._normaliseDate(t)},month:function(t,e){return t.setMonth(e-1),this._normaliseDate(t)},day:function(t,e){return t.setDate(e),this._normaliseDate(t)},add:function(t,e,i){if("d"==i||"w"==i)this._normaliseDate(t),t.setDate(t.getDate()+e*("w"==i?7:1));else{var n=t.getFullYear()+("y"==i?e:0),a=t.getMonth()+("m"==i?e:0);t.setTime(r.newDate(n,a+1,Math.min(t.getDate(),this.daysInMonth(n,a+1))).getTime())}return t},_applyMonthsOffset:function(e,i){var n=i.options.monthsOffset;return t.isFunction(n)&&(n=n.apply(i.target[0],[e])),r.add(e,-n,"m")},_attachPlugin:function(e,i){if(e=t(e),!e.hasClass(this.markerClassName)){var n=t.fn.metadata?e.metadata():{},a={options:t.extend({},this._defaults,n,i),target:e,selectedDates:[],drawDate:null,pickingRange:!1,inline:t.inArray(e[0].nodeName.toLowerCase(),["div","span"])>-1,get:function(e){return t.inArray(e,["defaultDate","minDate","maxDate"])>-1?r.determineDate(this.options[e],null,this.selectedDates[0],this.options.dateFormat,a.getConfig()):this.options[e]},curMinDate:function(){return this.pickingRange?this.selectedDates[0]:this.get("minDate")},getConfig:function(){return{dayNamesShort:this.options.dayNamesShort,dayNames:this.options.dayNames,monthNamesShort:this.options.monthNamesShort,monthNames:this.options.monthNames,calculateWeek:this.options.calculateWeek,shortYearCutoff:this.options.shortYearCutoff}}};e.addClass(this.markerClassName).data(this.propertyName,a),a.inline?(a.drawDate=r._checkMinMax(r.newDate(a.selectedDates[0]||a.get("defaultDate")||r.today()),a),a.prevDate=r.newDate(a.drawDate),this._update(e[0]),t.fn.mousewheel&&e.mousewheel(this._doMouseWheel)):(this._attachments(e,a),e.bind("keydown."+this.propertyName,this._keyDown).bind("keypress."+this.propertyName,this._keyPress).bind("keyup."+this.propertyName,this._keyUp),e.attr("disabled")&&this._disablePlugin(e[0]))}},_optionPlugin:function(e,i,n){e=t(e);var a=e.data(this.propertyName);if(!i||"string"==typeof i&&null==n){var s=i;return i=(a||{}).options,i&&s?i[s]:i}if(e.hasClass(this.markerClassName)){if(i=i||{},"string"==typeof i){var s=i;i={},i[s]=n}if(i.calendar&&i.calendar!=a.options.calendar){var o=function(t){return"object"==typeof a.options[t]?null:a.options[t]};i=t.extend({defaultDate:o("defaultDate"),minDate:o("minDate"),maxDate:o("maxDate")},i),a.selectedDates=[],a.drawDate=null}var l=a.selectedDates;t.extend(a.options,i),this._setDatePlugin(e[0],l,null,!1,!0),a.pickingRange=!1,a.drawDate=r.newDate(this._checkMinMax((a.options.defaultDate?a.get("defaultDate"):a.drawDate)||a.get("defaultDate")||r.today(),a)),a.inline||this._attachments(e,a),(a.inline||a.div)&&this._update(e[0])}},_attachments:function(e,i){e.unbind("focus."+this.propertyName),e.unbind("click."+this.propertyName),i.options.showOnFocus&&(e.bind("focus."+this.propertyName,this._showPlugin),e.bind("click."+this.propertyName,function(){e.has(":focus")&&null==r.curInst&&(t.data(e,r.propertyName,i),r._showPlugin(e))})),i.trigger&&i.trigger.remove();var n=i.options.showTrigger;i.trigger=n?t(n).clone().removeAttr("id").addClass(this._triggerClass)[i.options.isRTL?"insertBefore":"insertAfter"](e).click(function(){r._isDisabledPlugin(e[0])||r[r.curInst==i?"_hidePlugin":"_showPlugin"](e[0])}):t([]),this._autoSize(e,i);var a=this._extractDates(i,e.val());a&&this._setDatePlugin(e[0],a,null,!0);var s=i.get("defaultDate");i.options.selectDefaultDate&&s&&0==i.selectedDates.length&&this._setDatePlugin(e[0],r.newDate(s||r.today()))},_autoSize:function(t,e){if(e.options.autoSize&&!e.inline){var i=r.newDate(2009,10,20),n=e.options.dateFormat;if(n.match(/[DM]/)){var a=function(t){for(var e=0,i=0,n=0;n<t.length;n++)t[n].length>e&&(e=t[n].length,i=n);return i};i.setMonth(a(e.options[n.match(/MM/)?"monthNames":"monthNamesShort"])),i.setDate(a(e.options[n.match(/DD/)?"dayNames":"dayNamesShort"])+20-i.getDay())}e.target.attr("size",r.formatDate(n,i,e.getConfig()).length)}},_destroyPlugin:function(e){if(e=t(e),e.hasClass(this.markerClassName)){var i=e.data(this.propertyName);i.trigger&&i.trigger.remove(),e.removeClass(this.markerClassName).removeData(this.propertyName).empty().unbind("."+this.propertyName),i.inline&&t.fn.mousewheel&&e.unmousewheel(),!i.inline&&i.options.autoSize&&e.removeAttr("size")}},multipleEvents:function(t){var e=arguments;return function(t){for(var i=0;i<e.length;i++)e[i].apply(this,arguments)}},_enablePlugin:function(e){if(e=t(e),e.hasClass(this.markerClassName)){var i=e.data(this.propertyName);i.inline?e.children("."+this._disableClass).remove().end().find("button,select").removeAttr("disabled").end().find("a").attr("href","javascript:void(0)"):(e.prop("disabled",!1),i.trigger.filter("button."+this._triggerClass).removeAttr("disabled").end().filter("img."+this._triggerClass).css({opacity:"1.0",cursor:""})),this._disabled=t.map(this._disabled,function(t){return t==e[0]?null:t})}},_disablePlugin:function(e){if(e=t(e),e.hasClass(this.markerClassName)){var i=e.data(this.propertyName);if(i.inline){var n=e.children(":last"),r=n.offset(),a={left:0,top:0};n.parents().each(function(){return"relative"==t(this).css("position")?(a=t(this).offset(),!1):void 0});var s=e.css("zIndex");s=("auto"==s?0:parseInt(s,10))+1,e.prepend('<div class="'+this._disableClass+'" style="width: '+n.outerWidth()+"px; height: "+n.outerHeight()+"px; left: "+(r.left-a.left)+"px; top: "+(r.top-a.top)+"px; z-index: "+s+'"></div>').find("button,select").attr("disabled","disabled").end().find("a").removeAttr("href")}else e.prop("disabled",!0),i.trigger.filter("button."+this._triggerClass).attr("disabled","disabled").end().filter("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"});this._disabled=t.map(this._disabled,function(t){return t==e[0]?null:t}),this._disabled.push(e[0])}},_isDisabledPlugin:function(e){return e&&t.inArray(e,this._disabled)>-1},_showPlugin:function(e){e=t(e.target||e);var i=e.data(r.propertyName);if(r.curInst!=i&&(r.curInst&&r._hidePlugin(r.curInst,!0),i)){i.lastVal=null,i.selectedDates=r._extractDates(i,e.val()),i.pickingRange=!1,i.drawDate=r._checkMinMax(r.newDate(i.selectedDates[0]||i.get("defaultDate")||r.today()),i),i.prevDate=r.newDate(i.drawDate),r.curInst=i,r._update(e[0],!0);var n=r._checkOffset(i);i.div.css({left:n.left,top:n.top});var a=i.options.showAnim,s=i.options.showSpeed;if(s="normal"==s&&t.ui&&t.ui.version>="1.8"?"_default":s,t.effects&&t.effects[a]){var o=i.div.data();for(var l in o)l.match(/^ec\.storage\./)&&(o[l]=i._mainDiv.css(l.replace(/ec\.storage\./,"")));i.div.data(o).show(a,i.options.showOptions,s)}else t(i.div).show()}},_extractDates:function(t,e){if(e!=t.lastVal){t.lastVal=e,e=e.split(t.options.multiSelect?t.options.multiSeparator:t.options.rangeSelect?t.options.rangeSeparator:"\x00");for(var i=[],n=0;n<e.length;n++)try{var a=r.parseDate(t.options.dateFormat,e[n],t.getConfig());if(a){for(var s=!1,o=0;o<i.length;o++)if(i[o].getTime()==a.getTime()){s=!0;break}s||i.push(a)}}catch(l){}return i.splice(t.options.multiSelect||(t.options.rangeSelect?2:1),i.length),t.options.rangeSelect&&1==i.length&&(i[1]=i[0]),i}},_update:function(e,i){e=t(e.target||e);var n=e.data(r.propertyName);n&&((n.inline||r.curInst==n)&&(!t.isFunction(n.options.onChangeMonthYear)||n.prevDate&&n.prevDate.getFullYear()==n.drawDate.getFullYear()&&n.prevDate.getMonth()==n.drawDate.getMonth()||n.options.onChangeMonthYear.apply(e[0],[n.drawDate.getFullYear(),n.drawDate.getMonth()+1])),n.inline?e.html(this._generateContent(e[0],n)):r.curInst==n&&(n.div||(n.div=t("<div></div>").addClass(this._popupClass).css({display:i?"none":"static",position:"absolute",left:e.offset().left,top:e.offset().top+e.outerHeight()}).appendTo(t(n.options.popupContainer||"body")),t.fn.mousewheel&&n.div.mousewheel(this._doMouseWheel)),n.div.html(this._generateContent(e[0],n)),e.focus()))},_updateInput:function(e,i){var n=t.data(e,this.propertyName);if(n){for(var a="",s="",o=n.options.multiSelect?n.options.multiSeparator:n.options.rangeSeparator,l=n.options.altFormat||n.options.dateFormat,u=0;u<n.selectedDates.length;u++)a+=i?"":(u>0?o:"")+r.formatDate(n.options.dateFormat,n.selectedDates[u],n.getConfig()),s+=(u>0?o:"")+r.formatDate(l,n.selectedDates[u],n.getConfig());n.inline||i||t(e).val(a),t(n.options.altField).val(s),!t.isFunction(n.options.onSelect)||i||n.inSelect||(n.inSelect=!0,n.options.onSelect.apply(e,[n.selectedDates]),n.inSelect=!1)}},_getBorders:function(t){var e=function(t){return{thin:1,medium:3,thick:5}[t]||t};return[parseFloat(e(t.css("border-left-width"))),parseFloat(e(t.css("border-top-width")))]},_checkOffset:function(e){var i=e.target.is(":hidden")&&e.trigger?e.trigger:e.target,n=i.offset(),r=t(window).width(),a=t(window).height();if(0==r)return n;var s=!1;t(e.target).parents().each(function(){return s|="fixed"==t(this).css("position"),!s});var o=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,u=n.top-(s?l:0)-e.div.outerHeight(),c=n.top-(s?l:0)+i.outerHeight(),h=n.left-(s?o:0),d=n.left-(s?o:0)+i.outerWidth()-e.div.outerWidth(),p=n.left-o+e.div.outerWidth()>r,f=n.top-l+e.target.outerHeight()+e.div.outerHeight()>a;e.div.css("position",s?"fixed":"absolute");var g=e.options.alignment;return n="topLeft"==g?{left:h,top:u}:"topRight"==g?{left:d,top:u}:"bottomLeft"==g?{left:h,top:c}:"bottomRight"==g?{left:d,top:c}:"top"==g?{left:e.options.isRTL||p?d:h,top:u}:{left:e.options.isRTL||p?d:h,top:f?u:c},n.left=Math.max(s?0:o,n.left),n.top=Math.max(s?0:l,n.top),n},_checkExternalClick:function(e){if(r.curInst){var i=t(e.target);i.parents().andSelf().hasClass(r._popupClass)||i.hasClass(r.markerClassName)||i.parents().andSelf().hasClass(r._triggerClass)||r._hidePlugin(r.curInst)}},_hidePlugin:function(e,i){if(e){var n=t.data(e,this.propertyName)||e;if(n&&n==r.curInst){var a=i?"":n.options.showAnim,s=n.options.showSpeed;s="normal"==s&&t.ui&&t.ui.version>="1.8"?"_default":s;var o=function(){n.div&&(n.div.remove(),n.div=null,r.curInst=null,t.isFunction(n.options.onClose)&&n.options.onClose.apply(e,[n.selectedDates]))};if(n.div.stop(),t.effects&&t.effects[a])n.div.hide(a,n.options.showOptions,s,o);else{t(n.div).hide()}a||o()}}},_keyDown:function(e){var i=e.target,n=t.data(i,r.propertyName),a=!1;if(n.div)if(9==e.keyCode)r._hidePlugin(i);else if(13==e.keyCode)r._hidePlugin(i),a=!0;else{var s=n.options.commands;for(var o in s){var l=s[o];if(l.keystroke.keyCode==e.keyCode&&!!l.keystroke.ctrlKey==!(!e.ctrlKey&&!e.metaKey)&&!!l.keystroke.altKey==e.altKey&&!!l.keystroke.shiftKey==e.shiftKey){r._performActionPlugin(i,o),a=!0;break}}}else{var l=n.options.commands.current;l.keystroke.keyCode==e.keyCode&&!!l.keystroke.ctrlKey==!(!e.ctrlKey&&!e.metaKey)&&!!l.keystroke.altKey==e.altKey&&!!l.keystroke.shiftKey==e.shiftKey&&(r._showPlugin(i),a=!0)}return n.ctrlKey=e.keyCode<48&&32!=e.keyCode||e.ctrlKey||e.metaKey,a&&(e.preventDefault(),e.stopPropagation()),!a},_keyPress:function(e){var i=t.data(e.target,r.propertyName);if(i&&i.options.constrainInput){var n=String.fromCharCode(e.keyCode||e.charCode),a=r._allowedChars(i);return e.metaKey||i.ctrlKey||" ">n||!a||a.indexOf(n)>-1}return!0},_allowedChars:function(t){for(var e=t.options.multiSelect?t.options.multiSeparator:t.options.rangeSelect?t.options.rangeSeparator:"",i=!1,n=!1,r=t.options.dateFormat,a=0;a<r.length;a++){var s=r.charAt(a);if(i)"'"==s&&"'"!=r.charAt(a+1)?i=!1:e+=s;else switch(s){case"d":case"m":case"o":case"w":e+=n?"":"0123456789",n=!0;break;case"y":case"@":case"!":e+=(n?"":"0123456789")+"-",n=!0;break;case"J":e+=(n?"":"0123456789")+"-.",n=!0;break;case"D":case"M":case"Y":return null;case"'":"'"==r.charAt(a+1)?e+="'":i=!0;break;default:e+=s}}return e},_keyUp:function(e){var i=e.target,n=t.data(i,r.propertyName);if(n&&!n.ctrlKey&&n.lastVal!=n.target.val())try{var a=r._extractDates(n,n.target.val());a.length>0&&r._setDatePlugin(i,a,null,!0)}catch(e){}return!0},_doMouseWheel:function(e,i){var n=r.curInst&&r.curInst.target[0]||t(e.target).closest("."+r.markerClassName)[0];if(!r._isDisabledPlugin(n)){var a=t.data(n,r.propertyName);a.options.useMouseWheel&&(i=0>i?-1:1,r._changeMonthPlugin(n,-a.options[e.ctrlKey?"monthsToJump":"monthsToStep"]*i)),e.preventDefault()}},_clearPlugin:function(e){var i=t.data(e,this.propertyName);if(i){i.selectedDates=[],this._hidePlugin(e);var n=i.get("defaultDate");i.options.selectDefaultDate&&n?this._setDatePlugin(e,r.newDate(n||r.today())):this._updateInput(e)}},_getDatePlugin:function(e){var i=t.data(e,this.propertyName);return i?i.selectedDates:[]},_setDatePlugin:function(e,i,n,a,s){var o=t.data(e,this.propertyName);if(o){t.isArray(i)||(i=[i],n&&i.push(n));var l=o.get("minDate"),u=o.get("maxDate"),c=o.selectedDates[0];o.selectedDates=[];for(var h=0;h<i.length;h++){var d=r.determineDate(i[h],null,c,o.options.dateFormat,o.getConfig());if(d&&(!l||d.getTime()>=l.getTime())&&(!u||d.getTime()<=u.getTime())){for(var p=!1,f=0;f<o.selectedDates.length;f++)if(o.selectedDates[f].getTime()==d.getTime()){p=!0;break}p||o.selectedDates.push(d)}}if(o.selectedDates.splice(o.options.multiSelect||(o.options.rangeSelect?2:1),o.selectedDates.length),o.options.rangeSelect){switch(o.selectedDates.length){case 1:o.selectedDates[1]=o.selectedDates[0];break;case 2:o.selectedDates[1]=o.selectedDates[0].getTime()>o.selectedDates[1].getTime()?o.selectedDates[0]:o.selectedDates[1]}o.pickingRange=!1}o.prevDate=o.drawDate?r.newDate(o.drawDate):null,o.drawDate=this._checkMinMax(r.newDate(o.selectedDates[0]||o.get("defaultDate")||r.today()),o),s||(this._update(e),this._updateInput(e,a))}},_isSelectablePlugin:function(e,i){var n=t.data(e,this.propertyName);return n?(i=r.determineDate(i,n.selectedDates[0]||this.today(),null,n.options.dateFormat,n.getConfig()),this._isSelectable(e,i,n.options.onDate,n.get("minDate"),n.get("maxDate"))):!1},_isSelectable:function(e,i,n,r,a){var s="boolean"==typeof n?{selectable:n}:t.isFunction(n)?n.apply(e,[i,!0]):{};return 0!=s.selectable&&(!r||i.getTime()>=r.getTime())&&(!a||i.getTime()<=a.getTime())},_performActionPlugin:function(e,i){var n=t.data(e,this.propertyName);if(n&&!this._isDisabledPlugin(e)){var r=n.options.commands;r[i]&&r[i].enabled.apply(e,[n])&&r[i].action.apply(e,[n])}},_showMonthPlugin:function(e,i,n,a){var s=t.data(e,this.propertyName);if(s&&(null!=a||s.drawDate.getFullYear()!=i||s.drawDate.getMonth()+1!=n)){s.prevDate=r.newDate(s.drawDate);var o=this._checkMinMax(null!=i?r.newDate(i,n,1):r.today(),s);s.drawDate=r.newDate(o.getFullYear(),o.getMonth()+1,null!=a?a:Math.min(s.drawDate.getDate(),r.daysInMonth(o.getFullYear(),o.getMonth()+1))),this._update(e)}},_changeMonthPlugin:function(e,i){var n=t.data(e,this.propertyName);if(n){var a=r.add(r.newDate(n.drawDate),i,"m");this._showMonthPlugin(e,a.getFullYear(),a.getMonth()+1)}},_changeDayPlugin:function(e,i){var n=t.data(e,this.propertyName);if(n){var a=r.add(r.newDate(n.drawDate),i,"d");this._showMonthPlugin(e,a.getFullYear(),a.getMonth()+1,a.getDate())}},_checkMinMax:function(t,e){var i=e.get("minDate"),n=e.get("maxDate");return t=i&&t.getTime()<i.getTime()?r.newDate(i):t,t=n&&t.getTime()>n.getTime()?r.newDate(n):t},_retrieveDatePlugin:function(e,i){var n=t.data(e,this.propertyName);return n?this._normaliseDate(new Date(parseInt(i.className.replace(/^.*dp(-?\d+).*$/,"$1"),10))):null},_selectDatePlugin:function(e,i){var n=t.data(e,this.propertyName);if(n&&!this._isDisabledPlugin(e)){var a=this._retrieveDatePlugin(e,i);if(n.options.multiSelect){for(var s=!1,o=0;o<n.selectedDates.length;o++)if(a.getTime()==n.selectedDates[o].getTime()){n.selectedDates.splice(o,1),s=!0;break}!s&&n.selectedDates.length<n.options.multiSelect&&n.selectedDates.push(a)}else n.options.rangeSelect?(n.pickingRange?n.selectedDates[1]=a:n.selectedDates=[a,a],n.pickingRange=!n.pickingRange):n.selectedDates=[a];n.prevDate=r.newDate(a),this._updateInput(e),n.inline||n.pickingRange||n.selectedDates.length<(n.options.multiSelect||(n.options.rangeSelect?2:1))?this._update(e):this._hidePlugin(e)}},_generateContent:function(e,i){var n=i.options.monthsToShow;n=t.isArray(n)?n:[1,n],i.drawDate=this._checkMinMax(i.drawDate||i.get("defaultDate")||r.today(),i);for(var a=r._applyMonthsOffset(r.newDate(i.drawDate),i),s="",o=0;o<n[0];o++){for(var l="",u=0;u<n[1];u++)l+=this._generateMonth(e,i,a.getFullYear(),a.getMonth()+1,i.options.renderer,0==o&&0==u),r.add(a,1,"m");s+=this._prepare(i.options.renderer.monthRow,i).replace(/\{months\}/,l)}var c=this._prepare(i.options.renderer.picker,i).replace(/\{months\}/,s).replace(/\{weekHeader\}/g,this._generateDayHeaders(i,i.options.renderer)),h=function(t,n,a,s,o){if(-1!=c.indexOf("{"+t+":"+s+"}")){var l=i.options.commands[s],u=i.options.commandsAsDateFormat?l.date.apply(e,[i]):null;c=c.replace(new RegExp("\\{"+t+":"+s+"\\}","g"),"<"+n+(l.status?' title="'+i.options[l.status]+'"':"")+' class="'+i.options.renderer.commandClass+" "+i.options.renderer.commandClass+"-"+s+" "+o+(l.enabled(i)?"":" "+i.options.renderer.disabledClass)+'">'+(u?r.formatDate(i.options[l.text],u,i.getConfig()):i.options[l.text])+"</"+a+">")}};for(var d in i.options.commands)h("button",'button type="button"',"button",d,i.options.renderer.commandButtonClass),h("link",'a href="javascript:void(0)"',"a",d,i.options.renderer.commandLinkClass);if(c=t(c),n[1]>1){var p=0;t(i.options.renderer.monthSelector,c).each(function(){var e=++p%n[1];t(this).addClass(1==e?"first":0==e?"last":"")})}var f=this;c.find(i.options.renderer.daySelector+" a").hover(function(){t(this).addClass(i.options.renderer.highlightedClass)},function(){(i.inline?t(this).parents("."+f.markerClassName):i.div).find(i.options.renderer.daySelector+" a").removeClass(i.options.renderer.highlightedClass)}).click(function(){f._selectDatePlugin(e,this)}).end().find("select."+this._monthYearClass+":not(."+this._anyYearClass+")").change(function(){var i=t(this).val().split("/");f._showMonthPlugin(e,parseInt(i[1],10),parseInt(i[0],10))}).end().find("select."+this._anyYearClass).click(function(){t(this).css("visibility","hidden").next("input").css({left:this.offsetLeft,top:this.offsetTop,width:this.offsetWidth,height:this.offsetHeight}).show().focus()}).end().find("input."+f._monthYearClass).change(function(){try{var n=parseInt(t(this).val(),10);n=isNaN(n)?i.drawDate.getFullYear():n,f._showMonthPlugin(e,n,i.drawDate.getMonth()+1,i.drawDate.getDate())}catch(r){alert(r)}}).keydown(function(e){13==e.keyCode?t(e.target).change():27==e.keyCode&&(t(e.target).hide().prev("select").css("visibility","visible"),i.target.focus())}),c.find("."+i.options.renderer.commandClass).click(function(){if(!t(this).hasClass(i.options.renderer.disabledClass)){var n=this.className.replace(new RegExp("^.*"+i.options.renderer.commandClass+"-([^ ]+).*$"),"$1");r._performActionPlugin(e,n)}}),i.options.isRTL&&c.addClass(i.options.renderer.rtlClass),n[0]*n[1]>1&&c.addClass(i.options.renderer.multiClass),i.options.pickerClass&&c.addClass(i.options.pickerClass),t("body").append(c);var g=0;return c.find(i.options.renderer.monthSelector).each(function(){g+=t(this).outerWidth()}),c.width(g/n[0]),t.isFunction(i.options.onShow)&&i.options.onShow.apply(e,[c,i]),c},_generateMonth:function(e,i,n,a,s,o){var l=r.daysInMonth(n,a),u=i.options.monthsToShow;u=t.isArray(u)?u:[1,u];var c=i.options.fixedWeeks||u[0]*u[1]>1,h=i.options.firstDay,d=(r.newDate(n,a,1).getDay()-h+7)%7,p=c?6:Math.ceil((d+l)/7),f=i.options.selectOtherMonths&&i.options.showOtherMonths,g=i.pickingRange?i.selectedDates[0]:i.get("minDate"),m=i.get("maxDate"),v=s.week.indexOf("{weekOfYear}")>-1,y=r.today(),b=r.newDate(n,a,1);
r.add(b,-d-(c&&b.getDay()==h?7:0),"d");for(var _=b.getTime(),x="",w=0;p>w;w++){for(var C=v?'<span class="dp'+_+'">'+(t.isFunction(i.options.calculateWeek)?i.options.calculateWeek(b):0)+"</span>":"",S="",k=0;7>k;k++){var I=!1;if(i.options.rangeSelect&&i.selectedDates.length>0)I=b.getTime()>=i.selectedDates[0]&&b.getTime()<=i.selectedDates[1];else for(var T=0;T<i.selectedDates.length;T++)if(i.selectedDates[T].getTime()==b.getTime()){I=!0;break}var D=t.isFunction(i.options.onDate)?i.options.onDate.apply(e,[b,b.getMonth()+1==a]):{},U=(f||b.getMonth()+1==a)&&this._isSelectable(e,b,D.selectable,g,m);S+=this._prepare(s.day,i).replace(/\{day\}/g,(U?'<a href="javascript:void(0)"':"<span")+' class="dp'+_+" "+(D.dateClass||"")+(I&&(f||b.getMonth()+1==a)?" "+s.selectedClass:"")+(U?" "+s.defaultClass:"")+((b.getDay()||7)<6?"":" "+s.weekendClass)+(b.getMonth()+1==a?"":" "+s.otherMonthClass)+(b.getTime()==y.getTime()&&b.getMonth()+1==a?" "+s.todayClass:"")+(b.getTime()==i.drawDate.getTime()&&b.getMonth()+1==a?" "+s.highlightedClass:"")+'"'+(D.title||i.options.dayStatus&&U?' title="'+(D.title||r.formatDate(i.options.dayStatus,b,i.getConfig()))+'"':"")+">"+(i.options.showOtherMonths||b.getMonth()+1==a?D.content||b.getDate():"&nbsp;")+(U?"</a>":"</span>")),r.add(b,1,"d"),_=b.getTime()}x+=this._prepare(s.week,i).replace(/\{days\}/g,S).replace(/\{weekOfYear\}/g,C)}var M=this._prepare(s.month,i).match(/\{monthHeader(:[^\}]+)?\}/);M=M[0].length<=13?"MM yyyy":M[0].substring(13,M[0].length-1),M=o?this._generateMonthSelection(i,n,a,g,m,M,s):r.formatDate(M,r.newDate(n,a,1),i.getConfig());var $=this._prepare(s.weekHeader,i).replace(/\{days\}/g,this._generateDayHeaders(i,s));return this._prepare(s.month,i).replace(/\{monthHeader(:[^\}]+)?\}/g,M).replace(/\{weekHeader\}/g,$).replace(/\{weeks\}/g,x)},_generateDayHeaders:function(t,e){for(var i="",n=0;7>n;n++){var r=(n+t.options.firstDay)%7;i+=this._prepare(e.dayHeader,t).replace(/\{day\}/g,'<span class="'+this._curDoWClass+r+'" title="'+t.options.dayNames[r]+'">'+t.options.dayNamesMin[r]+"</span>")}return i},_generateMonthSelection:function(t,e,i,n,a,s){if(!t.options.changeMonth)return r.formatDate(s,r.newDate(e,i,1),t.getConfig());for(var o=t.options["monthNames"+(s.match(/mm/i)?"":"Short")],l=s.replace(/m+/i,"\\x2E").replace(/y+/i,"\\x2F"),u='<select class="'+this._monthYearClass+'" title="'+t.options.monthStatus+'">',c=1;12>=c;c++)(!n||r.newDate(e,c,r.daysInMonth(e,c)).getTime()>=n.getTime())&&(!a||r.newDate(e,c,1).getTime()<=a.getTime())&&(u+='<option value="'+c+"/"+e+'"'+(i==c?' selected="selected"':"")+">"+o[c-1]+"</option>");u+="</select>",l=l.replace(/\\x2E/,u);var h=t.options.yearRange;if("any"==h)u='<select class="'+this._monthYearClass+" "+this._anyYearClass+'" title="'+t.options.yearStatus+'"><option>'+e+'</option></select><input class="'+this._monthYearClass+" "+this._curMonthClass+i+'" value="'+e+'">';else{h=h.split(":");var d=r.today().getFullYear(),p=h[0].match("c[+-].*")?e+parseInt(h[0].substring(1),10):(h[0].match("[+-].*")?d:0)+parseInt(h[0],10),f=h[1].match("c[+-].*")?e+parseInt(h[1].substring(1),10):(h[1].match("[+-].*")?d:0)+parseInt(h[1],10);u='<select class="'+this._monthYearClass+'" title="'+t.options.yearStatus+'">',p=r.add(r.newDate(p+1,1,1),-1,"d"),f=r.newDate(f,1,1);var g=function(t){0!=t&&(u+='<option value="'+i+"/"+t+'"'+(e==t?' selected="selected"':"")+">"+t+"</option>")};if(p.getTime()<f.getTime()){p=(n&&n.getTime()>p.getTime()?n:p).getFullYear(),f=(a&&a.getTime()<f.getTime()?a:f).getFullYear();for(var m=p;f>=m;m++)g(m)}else{p=(a&&a.getTime()<p.getTime()?a:p).getFullYear(),f=(n&&n.getTime()>f.getTime()?n:f).getFullYear();for(var m=p;m>=f;m--)g(m)}u+="</select>"}return l=l.replace(/\\x2F/,u)},_prepare:function(t,e){var i=function(e,i){for(;;){var n=t.indexOf("{"+e+":start}");if(-1==n)return;var r=t.substring(n).indexOf("{"+e+":end}");r>-1&&(t=t.substring(0,n)+(i?t.substr(n+e.length+8,r-e.length-8):"")+t.substring(n+r+e.length+6))}};i("inline",e.inline),i("popup",!e.inline);for(var n=/\{l10n:([^\}]+)\}/,r=null;r=n.exec(t);)t=t.replace(r[0],e.options[r[1]]);return t}});var n=["getDate","isDisabled","isSelectable","retrieveDate"];t.fn.datepick=function(t){var e=Array.prototype.slice.call(arguments,1);return i(t,e)?r["_"+t+"Plugin"].apply(r,[this[0]].concat(e)):this.each(function(){if("string"==typeof t){if(!r["_"+t+"Plugin"])throw"Unknown command: "+t;r["_"+t+"Plugin"].apply(r,[this].concat(e))}else r._attachPlugin(this,t||{})})};var r=t.datepick=new e;t(function(){t(document).mousedown(r._checkExternalClick).resize(function(){r._hidePlugin(r.curInst)});var e,i,n;window.onresize=function(){var a=t("html")[0],s=a.clientHeight,o=a.clientWidth;if(r.curInst&&(e!=s||i!=o)){var l=r.curInst.target[0];clearTimeout(n),n=setTimeout(function(){r._hidePlugin(l,!0),r._showPlugin(l)},50)}i=o,e=s}})}(jQuery),function(t){"use strict";function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(this).ajaxSubmit(i))}function i(e){var i=e.target,n=t(i);if(!n.is("[type=submit],[type=image]")){var r=n.closest("[type=submit]");if(0===r.length)return;i=r[0]}var a=this;if(a.clk=i,"image"==i.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var s=n.offset();a.clk_x=e.pageX-s.left,a.clk_y=e.pageY-s.top}else a.clk_x=e.pageX-i.offsetLeft,a.clk_y=e.pageY-i.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function n(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var r={};r.fileapi=void 0!==t("<input type='file'/>").get(0).files,r.formdata=void 0!==window.FormData,t.fn.ajaxSubmit=function(e){function i(e){var i,n,r=t.param(e).split("&"),a=r.length,s={};for(i=0;a>i;i++)r[i]=r[i].replace(/\+/g," "),n=r[i].split("="),s[decodeURIComponent(n[0])]=decodeURIComponent(n[1]);return s}function a(n){for(var r=new FormData,a=0;a<n.length;a++)r.append(n[a].name,n[a].value);if(e.extraData){var s=i(e.extraData);for(var l in s)s.hasOwnProperty(l)&&r.append(l,s[l])}e.data=null;var u=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:o||"POST"});e.uploadProgress&&(u.xhr=function(){var t=jQuery.ajaxSettings.xhr();return t.upload&&(t.upload.onprogress=function(t){var i=0,n=t.loaded||t.position,r=t.total;t.lengthComputable&&(i=Math.ceil(n/r*100)),e.uploadProgress(t,n,r,i)}),t}),u.data=null;var c=u.beforeSend;return u.beforeSend=function(t,e){e.data=r,c&&c.call(this,t,e)},t.ajax(u)}function s(i){function r(t){var e=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document;return e}function a(){function e(){try{var t=r(m).readyState;n("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(i){n("Server abort: ",i," (",i.name,")"),s(I),x&&clearTimeout(x),x=void 0}}var i=c.attr("target"),a=c.attr("action");w.setAttribute("target",p),o||w.setAttribute("method","POST"),a!=h.url&&w.setAttribute("action",h.url),h.skipEncodingOverride||o&&!/post/i.test(o)||c.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),h.timeout&&(x=setTimeout(function(){_=!0,s(k)},h.timeout));var l=[];try{if(h.extraData)for(var u in h.extraData)h.extraData.hasOwnProperty(u)&&(t.isPlainObject(h.extraData[u])&&h.extraData[u].hasOwnProperty("name")&&h.extraData[u].hasOwnProperty("value")?l.push(t('<input type="hidden" name="'+h.extraData[u].name+'">').val(h.extraData[u].value).appendTo(w)[0]):l.push(t('<input type="hidden" name="'+u+'">').val(h.extraData[u]).appendTo(w)[0]));h.iframeTarget||(g.appendTo("body"),m.attachEvent?m.attachEvent("onload",s):m.addEventListener("load",s,!1)),setTimeout(e,15),w.submit()}finally{w.setAttribute("action",a),i?w.setAttribute("target",i):c.removeAttr("target"),t(l).remove()}}function s(e){if(!v.aborted&&!$){try{M=r(m)}catch(i){n("cannot access response document: ",i),e=I}if(e===k&&v)return v.abort("timeout"),void S.reject(v,"timeout");if(e==I&&v)return v.abort("server abort"),void S.reject(v,"error","server abort");if(M&&M.location.href!=h.iframeSrc||_){m.detachEvent?m.detachEvent("onload",s):m.removeEventListener("load",s,!1);var a,o="success";try{if(_)throw"timeout";var l="xml"==h.dataType||M.XMLDocument||t.isXMLDoc(M);if(n("isXml="+l),!l&&window.opera&&(null===M.body||!M.body.innerHTML)&&--A)return n("requeing onLoad callback, DOM not available"),void setTimeout(s,250);var u=M.body?M.body:M.documentElement;v.responseText=u?u.innerHTML:null,v.responseXML=M.XMLDocument?M.XMLDocument:M,l&&(h.dataType="xml"),v.getResponseHeader=function(t){var e={"content-type":h.dataType};return e[t]},u&&(v.status=Number(u.getAttribute("status"))||v.status,v.statusText=u.getAttribute("statusText")||v.statusText);var c=(h.dataType||"").toLowerCase(),p=/(json|script|text)/.test(c);if(p||h.textarea){var f=M.getElementsByTagName("textarea")[0];if(f)v.responseText=f.value,v.status=Number(f.getAttribute("status"))||v.status,v.statusText=f.getAttribute("statusText")||v.statusText;else if(p){var y=M.getElementsByTagName("pre")[0],b=M.getElementsByTagName("body")[0];y?v.responseText=y.textContent?y.textContent:y.innerText:b&&(v.responseText=b.textContent?b.textContent:b.innerText)}}else"xml"==c&&!v.responseXML&&v.responseText&&(v.responseXML=E(v.responseText));try{U=P(v,c,h)}catch(e){o="parsererror",v.error=a=e||o}}catch(e){n("error caught: ",e),o="error",v.error=a=e||o}v.aborted&&(n("upload aborted"),o=null),v.status&&(o=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===o?(h.success&&h.success.call(h.context,U,"success",v),S.resolve(v.responseText,"success",v),d&&t.event.trigger("ajaxSuccess",[v,h])):o&&(void 0===a&&(a=v.statusText),h.error&&h.error.call(h.context,v,o,a),S.reject(v,"error",a),d&&t.event.trigger("ajaxError",[v,h,a])),d&&t.event.trigger("ajaxComplete",[v,h]),d&&!--t.active&&t.event.trigger("ajaxStop"),h.complete&&h.complete.call(h.context,v,o),$=!0,h.timeout&&clearTimeout(x),setTimeout(function(){h.iframeTarget||g.remove(),v.responseXML=null},100)}}}var l,u,h,d,p,g,m,v,y,b,_,x,w=c[0],C=!!t.fn.prop,S=t.Deferred();if(t("[name=submit],[id=submit]",w).length)return alert('Error: Form elements must not have name or id of "submit".'),S.reject(),S;if(i)for(u=0;u<f.length;u++)l=t(f[u]),C?l.prop("disabled",!1):l.removeAttr("disabled");if(h=t.extend(!0,{},t.ajaxSettings,e),h.context=h.context||h,p="jqFormIO"+(new Date).getTime(),h.iframeTarget?(g=t(h.iframeTarget),b=g.attr("name"),b?p=b:g.attr("name",p)):(g=t('<iframe name="'+p+'" src="'+h.iframeSrc+'" />'),g.css({position:"absolute",top:"-1000px",left:"-1000px"})),m=g[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i="timeout"===e?"timeout":"aborted";n("aborting upload... "+i),this.aborted=1;try{m.contentWindow.document.execCommand&&m.contentWindow.document.execCommand("Stop")}catch(r){}g.attr("src",h.iframeSrc),v.error=i,h.error&&h.error.call(h.context,v,i,e),d&&t.event.trigger("ajaxError",[v,h,i]),h.complete&&h.complete.call(h.context,v,i)}},d=h.global,d&&0===t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[v,h]),h.beforeSend&&h.beforeSend.call(h.context,v,h)===!1)return h.global&&t.active--,S.reject(),S;if(v.aborted)return S.reject(),S;y=w.clk,y&&(b=y.name,b&&!y.disabled&&(h.extraData=h.extraData||{},h.extraData[b]=y.value,"image"==y.type&&(h.extraData[b+".x"]=w.clk_x,h.extraData[b+".y"]=w.clk_y)));var k=1,I=2,T=t("meta[name=csrf-token]").attr("content"),D=t("meta[name=csrf-param]").attr("content");D&&T&&(h.extraData=h.extraData||{},h.extraData[D]=T),h.forceSync?a():setTimeout(a,10);var U,M,$,A=50,E=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},F=t.parseJSON||function(t){return window.eval("("+t+")")},P=function(e,i,n){var r=e.getResponseHeader("content-type")||"",a="xml"===i||!i&&r.indexOf("xml")>=0,s=a?e.responseXML:e.responseText;return a&&"parsererror"===s.documentElement.nodeName&&t.error&&t.error("parsererror"),n&&n.dataFilter&&(s=n.dataFilter(s,i)),"string"==typeof s&&("json"===i||!i&&r.indexOf("json")>=0?s=F(s):("script"===i||!i&&r.indexOf("javascript")>=0)&&t.globalEval(s)),s};return S}if(!this.length)return n("ajaxSubmit: skipping submit process - no element selected"),this;var o,l,u,c=this;"function"==typeof e&&(e={success:e}),o=this.attr("method"),l=this.attr("action"),u="string"==typeof l?t.trim(l):"",u=u||window.location.href||"",u&&(u=(u.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:u,success:t.ajaxSettings.success,type:o||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var h={};if(this.trigger("form-pre-serialize",[this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=e.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var p,f=[],g=this.formToArray(e.semantic,f);if(e.data&&(e.extraData=e.data,p=t.param(e.data,d)),e.beforeSubmit&&e.beforeSubmit(g,this,e)===!1)return n("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,e,h]),h.veto)return n("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=t.param(g,d);p&&(m=m?m+"&"+p:p),"GET"==e.type.toUpperCase()?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+m,e.data=null):e.data=m;var v=[];if(e.resetForm&&v.push(function(){c.resetForm()}),e.clearForm&&v.push(function(){c.clearForm(e.includeHidden)}),!e.dataType&&e.target){var y=e.success||function(){};v.push(function(i){var n=e.replaceTarget?"replaceWith":"html";t(e.target)[n](i).each(y,arguments)})}else e.success&&v.push(e.success);e.success=function(t,i,n){for(var r=e.context||this,a=0,s=v.length;s>a;a++)v[a].apply(r,[t,i,n||c,c])};var b=t('input[type=file]:enabled[value!=""]',this),_=b.length>0,x="multipart/form-data",w=c.attr("enctype")==x||c.attr("encoding")==x,C=r.fileapi&&r.formdata;n("fileAPI :"+C);var S,k=(_||w)&&!C;e.iframe!==!1&&(e.iframe||k)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){S=s(g)}):S=s(g):S=(_||w)&&C?a(g):t.ajax(e),c.removeData("jqxhr").data("jqxhr",S);for(var I=0;I<f.length;I++)f[I]=null;return this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!t.isReady&&a.s?(n("DOM not ready, queuing ajaxForm"),t(function(){t(a.s,a.c).ajaxForm(r)}),this):(n("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,i){var n=[];if(0===this.length)return n;var a=this[0],s=e?a.getElementsByTagName("*"):a.elements;if(!s)return n;var o,l,u,c,h,d,p;for(o=0,d=s.length;d>o;o++)if(h=s[o],u=h.name)if(e&&a.clk&&"image"==h.type)h.disabled||a.clk!=h||(n.push({name:u,value:t(h).val(),type:h.type}),n.push({name:u+".x",value:a.clk_x},{name:u+".y",value:a.clk_y}));else if(c=t.fieldValue(h,!0),c&&c.constructor==Array)for(i&&i.push(h),l=0,p=c.length;p>l;l++)n.push({name:u,value:c[l]});else if(r.fileapi&&"file"==h.type&&!h.disabled){i&&i.push(h);var f=h.files;if(f.length)for(l=0;l<f.length;l++)n.push({name:u,value:f[l],type:h.type});else n.push({name:u,value:"",type:h.type})}else null!==c&&"undefined"!=typeof c&&(i&&i.push(h),n.push({name:u,value:c,type:h.type,required:h.required}));if(!e&&a.clk){var g=t(a.clk),m=g[0];u=m.name,u&&!m.disabled&&"image"==m.type&&(n.push({name:u,value:g.val()}),n.push({name:u+".x",value:a.clk_x},{name:u+".y",value:a.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var n=this.name;if(n){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var a=0,s=r.length;s>a;a++)i.push({name:n,value:r[a]});else null!==r&&"undefined"!=typeof r&&i.push({name:this.name,value:r})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],n=0,r=this.length;r>n;n++){var a=this[n],s=t.fieldValue(a,e);null===s||"undefined"==typeof s||s.constructor==Array&&!s.length||(s.constructor==Array?t.merge(i,s):i.push(s))}return i},t.fieldValue=function(e,i){var n=e.name,r=e.type,a=e.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!n||e.disabled||"reset"==r||"button"==r||("checkbox"==r||"radio"==r)&&!e.checked||("submit"==r||"image"==r)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var s=e.selectedIndex;if(0>s)return null;for(var o=[],l=e.options,u="select-one"==r,c=u?s+1:l.length,h=u?s:0;c>h;h++){var d=l[h];if(d.selected){var p=d.value;if(p||(p=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),u)return p;o.push(p)}}return o}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,r=this.tagName.toLowerCase();i.test(n)||"textarea"==r?this.value="":"checkbox"==n||"radio"==n?this.checked=!1:"select"==r?this.selectedIndex=-1:"file"==n?t.browser.msie?t(this).replaceWith(t(this).clone()):t(this).val(""):e&&(e===!0&&/hidden/.test(n)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=e;else if("option"==this.tagName.toLowerCase()){var n=t(this).parent("select");e&&n[0]&&"select-one"==n[0].type&&n.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}(jQuery),function(t,e){var i={};i.arrayIntersect=function(e,i){return t.grep(e,function(e){return t.inArray(e,i)>-1})},t.arrayIntersect=i.arrayIntersect}(jQuery,window),jQuery.fn.populate=function(t,e){function i(t,n){if(n=n||"",void 0==t);else if(t.constructor==Object)for(var r in t){var a=n+(""==n?r:"["+r+"]");i(t[r],a)}else if(t.constructor==Array)for(var s=0;s<t.length;s++){var o=e.useIndices?s:"";o=e.phpNaming?"["+o+"]":o;var a=n+o;i(t[s],a)}else void 0==l[n]?l[n]=t:l[n].constructor!=Array?l[n]=[l[n],t]:l[n].push(t)}function n(t){window.console&&console.log&&console.log(t)}function r(t){return"#"+t.replace(/(:|\[|\]|\.)/g,"\\$1")}function a(t){return e.phpNaming||(t=t.replace(/\[\]$/,"")),t}function s(t,i,n){var r="id"==e.identifier?"#"+i:"["+e.identifier+'="'+i+'"]',a=jQuery(r,t);n=n.toString(),n="null"==n?"":n,a.html(n)}function o(t,i,s){var i=a(i),o=t[i];if(void 0==o)return(o=jQuery(r(i),t))?(o.html(s),!0):(e.debug&&n("No such element as "+i),!1);e.debug&&_populate.elements.push(o),elements=void 0==o.type&&o.length?o:[o];for(var l=0;l<elements.length;l++){var o=elements[l];if(o&&"undefined"!=typeof o&&"function"!=typeof o)switch(o.type||o.tagName){case"radio":o.checked=""!=o.value&&s.toString()==o.value;case"checkbox":for(var u=s.constructor==Array?s:[s],c=0;c<u.length;c++)"boolean"==typeof u[c]?$(o).prop("checked",u[c]):o.checked|=o.value==u[c];break;case"select-multiple":for(var u=s.constructor==Array?s:[s],h=0;h<o.options.length;h++)for(var c=0;c<u.length;c++)o.options[h].selected|=o.options[h].value==u[c];break;case"select":case"select-one":o.value=s.toString()||s;break;case"text":case"button":case"textarea":case"submit":default:s=null==s?"":s,o.value=s}}}if(void 0===t)return this;var e=jQuery.extend({phpNaming:!0,phpIndices:!1,resetForm:!0,identifier:"id",debug:!1},e);e.phpIndices&&(e.phpNaming=!0);var l=[];return i(t),e.debug&&(_populate={arr:l,obj:t,elements:[]}),this.each(function(){var t=this.tagName.toLowerCase(),i="form"==t?o:s;"form"==t&&e.resetForm&&this.reset();for(var n in l)l.hasOwnProperty(n)&&i(this,n,l[n])}),this},/*
 * HTML5 Sortable jQuery Plugin
 * http://farhadi.ir/projects/html5sortable
 *
 * Copyright 2012, Ali Farhadi
 * Released under the MIT license.
 */
function(t){var e,i=t();t.fn.sortable=function(n){var r=String(n);return n=t.extend({connectWith:!1},n),this.each(function(){if(/^enable|disable|destroy$/.test(r)){var a=t(this).children(t(this).data("items")).attr("draggable","enable"==r);return void("destroy"==r&&a.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"))}var s,o,l,a=t(this).children(n.items);l=n.placeholder?n.placeholder:t("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">'),a.find(n.handle).mousedown(function(){s=!0}).mouseup(function(){s=!1}),t(this).data("items",n.items),i=i.add(l),n.connectWith&&t(n.connectWith).add(this).data("connectWith",n.connectWith),a.attr("draggable","true").on("dragstart.h5s",function(i){if(n.handle&&!s)return!1;s=!1;var r=i.originalEvent.dataTransfer;r.effectAllowed="move",r.setData("Text","dummy"),o=(e=t(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){e&&(e.removeClass("sortable-dragging").show(),i.detach(),o!=e.index()&&e.parent().trigger("sortupdate",{item:e}),e=null)}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,l]).on("dragover.h5s dragenter.h5s drop.h5s",function(r){return a.is(e)||n.connectWith===t(e).parent().data("connectWith")?"drop"==r.type?(r.stopPropagation(),i.filter(":visible").after(e),e.trigger("dragend.h5s"),!1):(r.preventDefault(),r.originalEvent.dataTransfer.dropEffect="move",a.is(this)?(n.forcePlaceholderSize&&l.height(e.outerHeight()),e.hide(),t(this)[l.index()<t(this).index()?"after":"before"](l),i.not(l).detach()):i.is(this)||t(this).children(n.items).length||(i.detach(),t(this).append(l)),!1):!0})})}}(jQuery),/*
 * jquery.tabbable
 * https://github.com/damian/jquery.tabbable
 *
 * Copyright (c) 2013 Damian Nicholson
 * Licensed under the MIT license.
 */
function(t,e){var i={FOCUSSABLE_ELEMS:["input","select","textarea","button"],isTabbable:function(t){return i.hasTabindex(t)&&i.isFocussable(t)&&i.isVisible(t)},hasTabindex:function(t){return t.tabIndex>=0},isVisible:function(e){return t(e).is(":visible")},isFocussable:function(t){var e=t.nodeName,n=new RegExp(i.FOCUSSABLE_ELEMS.join("|"),"gi");return n.test(e)&&!t.disabled?!0:/a/i.test(e)&&t.href?!0:!1}};t.expr[":"].tabbable=i.isTabbable,e.Subject=i}(jQuery,window),
//  Copyright  2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)     \\
//  Copyright  2008-2012 Sencha Labs (http://sencha.com)               \\
//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)           \\
function(t){var e,i,n="0.3.4",r="hasOwnProperty",a=/[\.\/]/,s="*",o=function(){},l=function(t,e){return t-e},u={n:{}},c=function(t,n){var r,a=i,s=Array.prototype.slice.call(arguments,2),o=c.listeners(t),u=0,h=[],d={},p=[],f=e;e=t,i=0;for(var g=0,m=o.length;m>g;g++)"zIndex"in o[g]&&(h.push(o[g].zIndex),o[g].zIndex<0&&(d[o[g].zIndex]=o[g]));for(h.sort(l);h[u]<0;)if(r=d[h[u++]],p.push(r.apply(n,s)),i)return i=a,p;for(g=0;m>g;g++)if(r=o[g],"zIndex"in r)if(r.zIndex==h[u]){if(p.push(r.apply(n,s)),i)break;do if(u++,r=d[h[u]],r&&p.push(r.apply(n,s)),i)break;while(r)}else d[r.zIndex]=r;else if(p.push(r.apply(n,s)),i)break;return i=a,e=f,p.length?p:null};c.listeners=function(t){var e,i,n,r,o,l,c,h,d=t.split(a),p=u,f=[p],g=[];for(r=0,o=d.length;o>r;r++){for(h=[],l=0,c=f.length;c>l;l++)for(p=f[l].n,i=[p[d[r]],p[s]],n=2;n--;)e=i[n],e&&(h.push(e),g=g.concat(e.f||[]));f=h}return g},c.on=function(t,e){for(var i=t.split(a),n=u,r=0,s=i.length;s>r;r++)n=n.n,!n[i[r]]&&(n[i[r]]={n:{}}),n=n[i[r]];for(n.f=n.f||[],r=0,s=n.f.length;s>r;r++)if(n.f[r]==e)return o;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.stop=function(){i=1},c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.off=c.unbind=function(t,e){var i,n,o,l,c,h,d,p=t.split(a),f=[u];for(l=0,c=p.length;c>l;l++)for(h=0;h<f.length;h+=o.length-2){if(o=[h,1],i=f[h].n,p[l]!=s)i[p[l]]&&o.push(i[p[l]]);else for(n in i)i[r](n)&&o.push(i[n]);f.splice.apply(f,o)}for(l=0,c=f.length;c>l;l++)for(i=f[l];i.n;){if(e){if(i.f){for(h=0,d=i.f.length;d>h;h++)if(i.f[h]==e){i.f.splice(h,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[r](n)&&i.n[n].f){var g=i.n[n].f;for(h=0,d=g.length;d>h;h++)if(g[h]==e){g.splice(h,1);break}!g.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[r](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},c.once=function(t,e){var i=function(){var n=e.apply(this,arguments);return c.unbind(t,i),n};return c.on(t,i)},c.version=n,c.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c}(this),
//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\
//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\
function(){function t(e){if(t.is(e,"function"))return y?e():eve.on("raphael.DOMload",e);if(t.is(e,W))return t._engine.create[T](t,e.splice(0,3+t.is(e[0],V))).add(e);var i=Array.prototype.slice.call(arguments,0);if(t.is(i[i.length-1],"function")){var n=i.pop();return y?n.call(t._engine.create[T](t,i)):eve.on("raphael.DOMload",function(){n.call(t._engine.create[T](t,i))})}return t._engine.create[T](t,arguments)}function e(t){if(Object(t)!==t)return t;var i=new t.constructor;for(var n in t)t[C](n)&&(i[n]=e(t[n]));return i}function i(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function n(t,e,n){function r(){var a=Array.prototype.slice.call(arguments,0),s=a.join("\u2400"),o=r.cache=r.cache||{},l=r.count=r.count||[];return o[C](s)?(i(l,s),n?n(o[s]):o[s]):(l.length>=1e3&&delete o[l.shift()],l.push(s),o[s]=t[T](e,a),n?n(o[s]):o[s])}return r}function r(){return this.hex}function a(t,e){for(var i=[],n=0,r=t.length;r-2*!e>n;n+=2){var a=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?a[3]={x:+t[0],y:+t[1]}:r-2==n&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?a[3]=a[2]:n||(a[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return i}function s(t,e,i,n,r){var a=-3*e+9*i-9*n+3*r,s=t*a+6*e-12*i+6*n;return t*s-3*e+3*i}function o(t,e,i,n,r,a,o,l,u){null==u&&(u=1),u=u>1?1:0>u?0:u;for(var c=u/2,h=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,g=0;h>g;g++){var m=c*d[g]+c,v=s(m,t,i,r,o),y=s(m,e,n,a,l),b=v*v+y*y;f+=p[g]*O.sqrt(b)}return c*f}function l(t,e,i,n,r,a,s,l,u){if(!(0>u||o(t,e,i,n,r,a,s,l)<u)){var c,h=1,d=h/2,p=h-d,f=.01;for(c=o(t,e,i,n,r,a,s,l,p);B(c-u)>f;)d/=2,p+=(u>c?1:-1)*d,c=o(t,e,i,n,r,a,s,l,p);return p}}function u(t,e,i,n,r,a,s,o){if(!(N(t,i)<R(r,s)||R(t,i)>N(r,s)||N(e,n)<R(a,o)||R(e,n)>N(a,o))){var l=(t*n-e*i)*(r-s)-(t-i)*(r*o-a*s),u=(t*n-e*i)*(a-o)-(e-n)*(r*o-a*s),c=(t-i)*(a-o)-(e-n)*(r-s);if(c){var h=l/c,d=u/c,p=+h.toFixed(2),f=+d.toFixed(2);if(!(p<+R(t,i).toFixed(2)||p>+N(t,i).toFixed(2)||p<+R(r,s).toFixed(2)||p>+N(r,s).toFixed(2)||f<+R(e,n).toFixed(2)||f>+N(e,n).toFixed(2)||f<+R(a,o).toFixed(2)||f>+N(a,o).toFixed(2)))return{x:h,y:d}}}}function c(e,i,n){var r=t.bezierBBox(e),a=t.bezierBBox(i);if(!t.isBBoxIntersect(r,a))return n?0:[];for(var s=o.apply(0,e),l=o.apply(0,i),c=~~(s/5),h=~~(l/5),d=[],p=[],f={},g=n?0:[],m=0;c+1>m;m++){var v=t.findDotsAtSegment.apply(t,e.concat(m/c));d.push({x:v.x,y:v.y,t:m/c})}for(m=0;h+1>m;m++)v=t.findDotsAtSegment.apply(t,i.concat(m/h)),p.push({x:v.x,y:v.y,t:m/h});for(m=0;c>m;m++)for(var y=0;h>y;y++){var b=d[m],_=d[m+1],x=p[y],w=p[y+1],C=B(_.x-b.x)<.001?"y":"x",S=B(w.x-x.x)<.001?"y":"x",k=u(b.x,b.y,_.x,_.y,x.x,x.y,w.x,w.y);if(k){if(f[k.x.toFixed(4)]==k.y.toFixed(4))continue;f[k.x.toFixed(4)]=k.y.toFixed(4);var I=b.t+B((k[C]-b[C])/(_[C]-b[C]))*(_.t-b.t),T=x.t+B((k[S]-x[S])/(w[S]-x[S]))*(w.t-x.t);I>=0&&1>=I&&T>=0&&1>=T&&(n?g++:g.push({x:k.x,y:k.y,t1:I,t2:T}))}}return g}function h(e,i,n){e=t._path2curve(e),i=t._path2curve(i);for(var r,a,s,o,l,u,h,d,p,f,g=n?0:[],m=0,v=e.length;v>m;m++){var y=e[m];if("M"==y[0])r=l=y[1],a=u=y[2];else{"C"==y[0]?(p=[r,a].concat(y.slice(1)),r=p[6],a=p[7]):(p=[r,a,r,a,l,u,l,u],r=l,a=u);for(var b=0,_=i.length;_>b;b++){var x=i[b];if("M"==x[0])s=h=x[1],o=d=x[2];else{"C"==x[0]?(f=[s,o].concat(x.slice(1)),s=f[6],o=f[7]):(f=[s,o,s,o,h,d,h,d],s=h,o=d);var w=c(p,f,n);if(n)g+=w;else{for(var C=0,S=w.length;S>C;C++)w[C].segment1=m,w[C].segment2=b,w[C].bez1=p,w[C].bez2=f;g=g.concat(w)}}}}}return g}function d(t,e,i,n,r,a){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+r,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+$+this.y+$+this.width+" \xd7 "+this.height}function f(t,e,i,n,r,a){function s(t){return((h*t+c)*t+u)*t}function o(t,e){var i=l(t,e);return((f*i+p)*i+d)*i}function l(t,e){var i,n,r,a,o,l;for(r=t,l=0;8>l;l++){if(a=s(r)-t,B(a)<e)return r;if(o=(3*h*r+2*c)*r+u,B(o)<1e-6)break;r-=a/o}if(i=0,n=1,r=t,i>r)return i;if(r>n)return n;for(;n>i;){if(a=s(r),B(a-t)<e)return r;t>a?i=r:n=r,r=(n-i)/2+i}return r}var u=3*e,c=3*(n-e)-u,h=1-u-c,d=3*i,p=3*(r-i)-d,f=1-d-p;return o(t,1/(200*a))}function g(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var r in t)t[C](r)&&(n[J(r)]=t[r],i.push(J(r)));i.sort(ut)}this.anim=n,this.top=i[i.length-1],this.percents=i}function m(e,i,n,r,a,s){n=J(n);var o,l,u,c,h,p,g=e.ms,m={},v={},y={};if(r)for(x=0,w=ae.length;w>x;x++){var b=ae[x];if(b.el.id==i.id&&b.anim==e){b.percent!=n?(ae.splice(x,1),u=1):l=b,i.attr(b.totalOrigin);break}}else r=+v;for(var x=0,w=e.percents.length;w>x;x++){if(e.percents[x]==n||e.percents[x]>r*e.top){n=e.percents[x],h=e.percents[x-1]||0,g=g/e.top*(n-h),c=e.percents[x+1],o=e.anim[n];break}r&&i.attr(e.anim[e.percents[x]])}if(o){if(l)l.initstatus=r,l.start=new Date-l.ms*r;else{for(var S in o)if(o[C](S)&&(et[C](S)||i.paper.customAttributes[C](S)))switch(m[S]=i.attr(S),null==m[S]&&(m[S]=tt[S]),v[S]=o[S],et[S]){case V:y[S]=(v[S]-m[S])/g;break;case"colour":m[S]=t.getRGB(m[S]);var k=t.getRGB(v[S]);y[S]={r:(k.r-m[S].r)/g,g:(k.g-m[S].g)/g,b:(k.b-m[S].b)/g};break;case"path":var I=Ft(m[S],v[S]),T=I[1];for(m[S]=I[0],y[S]=[],x=0,w=m[S].length;w>x;x++){y[S][x]=[0];for(var U=1,M=m[S][x].length;M>U;U++)y[S][x][U]=(T[x][U]-m[S][x][U])/g}break;case"transform":var $=i._,F=Rt($[S],v[S]);if(F)for(m[S]=F.from,v[S]=F.to,y[S]=[],y[S].real=!0,x=0,w=m[S].length;w>x;x++)for(y[S][x]=[m[S][x][0]],U=1,M=m[S][x].length;M>U;U++)y[S][x][U]=(v[S][x][U]-m[S][x][U])/g;else{var P=i.matrix||new d,L={_:{transform:$.transform},getBBox:function(){return i.getBBox(1)}};m[S]=[P.a,P.b,P.c,P.d,P.e,P.f],Ot(L,v[S]),v[S]=L._.transform,y[S]=[(L.matrix.a-P.a)/g,(L.matrix.b-P.b)/g,(L.matrix.c-P.c)/g,(L.matrix.d-P.d)/g,(L.matrix.e-P.e)/g,(L.matrix.f-P.f)/g]}break;case"csv":var O=A(o[S])[E](_),N=A(m[S])[E](_);if("clip-rect"==S)for(m[S]=N,y[S]=[],x=N.length;x--;)y[S][x]=(O[x]-m[S][x])/g;v[S]=O;break;default:for(O=[][D](o[S]),N=[][D](m[S]),y[S]=[],x=i.paper.customAttributes[S].length;x--;)y[S][x]=((O[x]||0)-(N[x]||0))/g}var R=o.easing,B=t.easing_formulas[R];if(!B)if(B=A(R).match(X),B&&5==B.length){var j=B;B=function(t){return f(t,+j[1],+j[2],+j[3],+j[4],g)}}else B=ht;if(p=o.start||e.start||+new Date,b={anim:e,percent:n,timestamp:p,start:p+(e.del||0),status:0,initstatus:r||0,stop:!1,ms:g,easing:B,from:m,diff:y,to:v,el:i,callback:o.callback,prev:h,next:c,repeat:s||e.times,origin:i.attr(),totalOrigin:a},ae.push(b),r&&!l&&!u&&(b.stop=!0,b.start=new Date-g*r,1==ae.length))return oe();u&&(b.start=new Date-b.ms*r),1==ae.length&&se(oe)}eve("raphael.anim.start."+i.id,i,e)}}function v(t){for(var e=0;e<ae.length;e++)ae[e].el.paper==t&&ae.splice(e--,1)}t.version="2.1.0",t.eve=eve;var y,b,_=/[, ]+/,x={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},w=/\{(\d+)\}/g,C="hasOwnProperty",S={doc:document,win:window},k={was:Object.prototype[C].call(S.win,"Raphael"),is:S.win.Raphael},I=function(){this.ca=this.customAttributes={}},T="apply",D="concat",U="createTouch"in S.doc,M="",$=" ",A=String,E="split",F="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[E]($),P={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},L=A.prototype.toLowerCase,O=Math,N=O.max,R=O.min,B=O.abs,j=O.pow,z=O.PI,V="number",H="string",W="array",Y=Object.prototype.toString,q=(t._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),G={NaN:1,Infinity:1,"-Infinity":1},X=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=O.round,J=parseFloat,Z=parseInt,Q=A.prototype.toUpperCase,tt=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},et=t._availableAnimAttrs={blur:V,"clip-rect":"csv",cx:V,cy:V,fill:"colour","fill-opacity":V,"font-size":V,height:V,opacity:V,path:"path",r:V,rx:V,ry:V,stroke:"colour","stroke-opacity":V,"stroke-width":V,transform:"transform",width:V,x:V,y:V},it=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,nt={hs:1,rg:1},rt=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ot=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return J(t)-J(e)},ct=function(){},ht=function(t){return t},dt=t._rectPath=function(t,e,i,n,r){return r?[["M",t+r,e],["l",i-2*r,0],["a",r,r,0,0,1,r,r],["l",0,n-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-i,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-n],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},pt=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},ft=t._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return pt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return dt(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return dt(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return dt(e.x,e.y,e.width,e.height)}},gt=t.mapPath=function(t,e){if(!e)return t;var i,n,r,a,s,o,l;for(t=Ft(t),r=0,s=t.length;s>r;r++)for(l=t[r],a=1,o=l.length;o>a;a+=2)i=e.x(l[a],l[a+1]),n=e.y(l[a],l[a+1]),l[a]=i,l[a+1]=n;return t};if(t._g=S,t.type=S.win.SVGAngle||S.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var mt,vt=S.doc.createElement("div");if(vt.innerHTML='<v:shape adj="1"/>',mt=vt.firstChild,mt.style.behavior="url(#default#VML)",!mt||"object"!=typeof mt.adj)return t.type=M;vt=null}t.svg=!(t.vml="VML"==t.type),t._Paper=I,t.fn=b=I.prototype=t.prototype,t._id=0,t._oid=0,t.is=function(t,e){return e=L.call(e),"finite"==e?!G[C](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||Y.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,i,n,r,a,s){if(null==a){var o=e-n,l=i-r;return o||l?(180+180*O.atan2(-l,-o)/z+360)%360:0}return t.angle(e,i,a,s)-t.angle(n,r,a,s)},t.rad=function(t){return t%360*z/180},t.deg=function(t){return 180*t/z%360},t.snapTo=function(e,i,n){if(n=t.is(n,"finite")?n:10,t.is(e,W)){for(var r=e.length;r--;)if(B(e[r]-i)<=n)return e[r]}else{e=+e;var a=i%e;if(n>a)return i-a;if(a>e-n)return i-a+e}return i};t.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*O.random()|0,i="x"==t?e:3&e|8;return i.toString(16)});t.setWindow=function(e){eve("raphael.setWindow",t,S.win,e),S.win=e,S.doc=S.win.document,t._engine.initWin&&t._engine.initWin(S.win)};var yt=function(e){if(t.vml){var i,r=/^\s+|\s+$/g;try{var a=new ActiveXObject("htmlfile");a.write("<body>"),a.close(),i=a.body}catch(s){i=createPopup().document.body}var o=i.createTextRange();yt=n(function(t){try{i.style.color=A(t).replace(r,M);var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(n){return"none"}})}else{var l=S.doc.createElement("i");l.title="Rapha\xebl Colour Picker",l.style.display="none",S.doc.body.appendChild(l),yt=n(function(t){return l.style.color=t,S.doc.defaultView.getComputedStyle(l,M).getPropertyValue("color")})}return yt(e)},bt=function(){return"hsb("+[this.h,this.s,this.b]+")"},_t=function(){return"hsl("+[this.h,this.s,this.l]+")"},xt=function(){return this.hex},wt=function(e,i,n){if(null==i&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(n=e.b,i=e.g,e=e.r),null==i&&t.is(e,H)){var r=t.getRGB(e);e=r.r,i=r.g,n=r.b}return(e>1||i>1||n>1)&&(e/=255,i/=255,n/=255),[e,i,n]},Ct=function(e,i,n,r){e*=255,i*=255,n*=255;var a={r:e,g:i,b:n,hex:t.rgb(e,i,n),toString:xt};return t.is(r,"finite")&&(a.opacity=r),a};t.color=function(e){var i;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(i=t.hsb2rgb(e),e.r=i.r,e.g=i.g,e.b=i.b,e.hex=i.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(i=t.hsl2rgb(e),e.r=i.r,e.g=i.g,e.b=i.b,e.hex=i.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(i=t.rgb2hsl(e),e.h=i.h,e.s=i.s,e.l=i.l,i=t.rgb2hsb(e),e.v=i.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=xt,e},t.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var r,a,s,o,l;return t=t%360/60,l=i*e,o=l*(1-B(t%2-1)),r=a=s=i-l,t=~~t,r+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],Ct(r,a,s,n)},t.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var r,a,s,o,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),o=l*(1-B(t%2-1)),r=a=s=i-l/2,t=~~t,r+=[l,o,0,0,o,l][t],a+=[o,l,l,o,0,0][t],s+=[0,0,o,l,l,o][t],Ct(r,a,s,n)},t.rgb2hsb=function(t,e,i){i=wt(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,a,s;return a=N(t,e,i),s=a-R(t,e,i),n=0==s?null:a==t?(e-i)/s:a==e?(i-t)/s+2:(t-e)/s+4,n=(n+360)%6*60/360,r=0==s?0:s/a,{h:n,s:r,b:a,toString:bt}},t.rgb2hsl=function(t,e,i){i=wt(t,e,i),t=i[0],e=i[1],i=i[2];var n,r,a,s,o,l;return s=N(t,e,i),o=R(t,e,i),l=s-o,n=0==l?null:s==t?(e-i)/l:s==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,a=(s+o)/2,r=0==l?0:.5>a?l/(2*a):l/(2-2*a),{h:n,s:r,l:a,toString:_t}},t._path2string=function(){return this.join(",").replace(rt,"$1")};t._preload=function(t,e){var i=S.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,S.doc.body.removeChild(this)},i.onerror=function(){S.doc.body.removeChild(this)},S.doc.body.appendChild(i),i.src=t};t.getRGB=n(function(e){if(!e||(e=A(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:r};!(nt[C](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=yt(e));var i,n,a,s,o,l,u=e.match(q);return u?(u[2]&&(a=Z(u[2].substring(5),16),n=Z(u[2].substring(3,5),16),i=Z(u[2].substring(1,3),16)),u[3]&&(a=Z((o=u[3].charAt(3))+o,16),n=Z((o=u[3].charAt(2))+o,16),i=Z((o=u[3].charAt(1))+o,16)),u[4]&&(l=u[4][E](it),i=J(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),a=J(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),u[5]?(l=u[5][E](it),i=J(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),a=J(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(i/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),t.hsb2rgb(i,n,a,s)):u[6]?(l=u[6][E](it),i=J(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),a=J(l[2]),"%"==l[2].slice(-1)&&(a*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(i/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),t.hsl2rgb(i,n,a,s)):(u={r:i,g:n,b:a,toString:r},u.hex="#"+(16777216|a|n<<8|i<<16).toString(16).slice(1),t.is(s,"finite")&&(u.opacity=s),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r}},t),t.hsb=n(function(e,i,n){return t.hsb2rgb(e,i,n).hex}),t.hsl=n(function(e,i,n){return t.hsl2rgb(e,i,n).hex}),t.rgb=n(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var i=St(e);if(i.arr)return It(i.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return t.is(e,W)&&t.is(e[0],W)&&(r=It(e)),r.length||A(e).replace(at,function(t,e,i){var a=[],s=e.toLowerCase();if(i.replace(ot,function(t,e){e&&a.push(+e)}),"m"==s&&a.length>2&&(r.push([e][D](a.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][D](a));else for(;a.length>=n[s]&&(r.push([e][D](a.splice(0,n[s]))),n[s]););}),r.toString=t._path2string,i.arr=It(r),r},t.parseTransformString=n(function(e){if(!e)return null;var i=[];return t.is(e,W)&&t.is(e[0],W)&&(i=It(e)),i.length||A(e).replace(st,function(t,e,n){var r=[];L.call(e);n.replace(ot,function(t,e){e&&r.push(+e)}),i.push([e][D](r))}),i.toString=t._path2string,i});var St=function(t){var e=St.ps=St.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[C](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};t.findDotsAtSegment=function(t,e,i,n,r,a,s,o,l){var u=1-l,c=j(u,3),h=j(u,2),d=l*l,p=d*l,f=c*t+3*h*l*i+3*u*l*l*r+p*s,g=c*e+3*h*l*n+3*u*l*l*a+p*o,m=t+2*l*(i-t)+d*(r-2*i+t),v=e+2*l*(n-e)+d*(a-2*n+e),y=i+2*l*(r-i)+d*(s-2*r+i),b=n+2*l*(a-n)+d*(o-2*a+n),_=u*t+l*i,x=u*e+l*n,w=u*r+l*s,C=u*a+l*o,S=90-180*O.atan2(m-y,v-b)/z;return(m>y||b>v)&&(S+=180),{x:f,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:_,y:x},end:{x:w,y:C},alpha:S}},t.bezierBBox=function(e,i,n,r,a,s,o,l){t.is(e,"array")||(e=[e,i,n,r,a,s,o,l]);var u=Et.apply(null,e);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},t.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},t.isBBoxIntersect=function(e,i){var n=t.isPointInsideBBox;return n(i,e.x,e.y)||n(i,e.x2,e.y)||n(i,e.x,e.y2)||n(i,e.x2,e.y2)||n(e,i.x,i.y)||n(e,i.x2,i.y)||n(e,i.x,i.y2)||n(e,i.x2,i.y2)||(e.x<i.x2&&e.x>i.x||i.x<e.x2&&i.x>e.x)&&(e.y<i.y2&&e.y>i.y||i.y<e.y2&&i.y>e.y)},t.pathIntersection=function(t,e){return h(t,e)},t.pathIntersectionNumber=function(t,e){return h(t,e,1)},t.isPointInsidePath=function(e,i,n){var r=t.pathBBox(e);return t.isPointInsideBBox(r,i,n)&&h(e,[["M",i,n],["H",r.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){eve("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var kt=t.pathBBox=function(t){var i=St(t);if(i.bbox)return i.bbox;if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Ft(t);for(var n,r=0,a=0,s=[],o=[],l=0,u=t.length;u>l;l++)if(n=t[l],"M"==n[0])r=n[1],a=n[2],s.push(r),o.push(a);else{var c=Et(r,a,n[1],n[2],n[3],n[4],n[5],n[6]);s=s[D](c.min.x,c.max.x),o=o[D](c.min.y,c.max.y),r=n[5],a=n[6]}var h=R[T](0,s),d=R[T](0,o),p=N[T](0,s),f=N[T](0,o),g={x:h,y:d,x2:p,y2:f,width:p-h,height:f-d};return i.bbox=e(g),g},It=function(i){var n=e(i);return n.toString=t._path2string,n},Tt=t._pathToRelative=function(e){var i=St(e);if(i.rel)return It(i.rel);t.is(e,W)&&t.is(e&&e[0],W)||(e=t.parsePathString(e));var n=[],r=0,a=0,s=0,o=0,l=0;"M"==e[0][0]&&(r=e[0][1],a=e[0][2],s=r,o=a,l++,n.push(["M",r,a]));for(var u=l,c=e.length;c>u;u++){var h=n[u]=[],d=e[u];if(d[0]!=L.call(d[0]))switch(h[0]=L.call(d[0]),h[0]){case"a":h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=+(d[6]-r).toFixed(3),h[7]=+(d[7]-a).toFixed(3);break;case"v":h[1]=+(d[1]-a).toFixed(3);break;case"m":s=d[1],o=d[2];default:for(var p=1,f=d.length;f>p;p++)h[p]=+(d[p]-(p%2?r:a)).toFixed(3)}else{h=n[u]=[],"m"==d[0]&&(s=d[1]+r,o=d[2]+a);for(var g=0,m=d.length;m>g;g++)n[u][g]=d[g]}var v=n[u].length;switch(n[u][0]){case"z":r=s,a=o;break;case"h":r+=+n[u][v-1];break;case"v":a+=+n[u][v-1];break;default:r+=+n[u][v-2],a+=+n[u][v-1]}}return n.toString=t._path2string,i.rel=It(n),n},Dt=t._pathToAbsolute=function(e){var i=St(e);if(i.abs)return It(i.abs);if(t.is(e,W)&&t.is(e&&e[0],W)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var n=[],r=0,s=0,o=0,l=0,u=0;"M"==e[0][0]&&(r=+e[0][1],s=+e[0][2],o=r,l=s,u++,n[0]=["M",r,s]);for(var c,h,d=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),p=u,f=e.length;f>p;p++){if(n.push(c=[]),h=e[p],h[0]!=Q.call(h[0]))switch(c[0]=Q.call(h[0]),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+(h[6]+r),c[7]=+(h[7]+s);break;case"V":c[1]=+h[1]+s;break;case"H":c[1]=+h[1]+r;break;case"R":for(var g=[r,s][D](h.slice(1)),m=2,v=g.length;v>m;m++)g[m]=+g[m]+r,g[++m]=+g[m]+s;n.pop(),n=n[D](a(g,d));break;case"M":o=+h[1]+r,l=+h[2]+s;default:for(m=1,v=h.length;v>m;m++)c[m]=+h[m]+(m%2?r:s)}else if("R"==h[0])g=[r,s][D](h.slice(1)),n.pop(),n=n[D](a(g,d)),c=["R"][D](h.slice(-2));else for(var y=0,b=h.length;b>y;y++)c[y]=h[y];switch(c[0]){case"Z":r=o,s=l;break;case"H":r=c[1];break;case"V":s=c[1];break;case"M":o=c[c.length-2],l=c[c.length-1];default:r=c[c.length-2],s=c[c.length-1]}}return n.toString=t._path2string,i.abs=It(n),n},Ut=function(t,e,i,n){return[t,e,i,n,i,n]},Mt=function(t,e,i,n,r,a){var s=1/3,o=2/3;return[s*t+o*i,s*e+o*n,s*r+o*i,s*a+o*n,r,a]},$t=function(t,e,i,r,a,s,o,l,u,c){var h,d=120*z/180,p=z/180*(+a||0),f=[],g=n(function(t,e,i){var n=t*O.cos(i)-e*O.sin(i),r=t*O.sin(i)+e*O.cos(i);return{x:n,y:r}});if(c)S=c[0],k=c[1],w=c[2],C=c[3];else{h=g(t,e,-p),t=h.x,e=h.y,h=g(l,u,-p),l=h.x,u=h.y;var m=(O.cos(z/180*a),O.sin(z/180*a),(t-l)/2),v=(e-u)/2,y=m*m/(i*i)+v*v/(r*r);y>1&&(y=O.sqrt(y),i=y*i,r=y*r);var b=i*i,_=r*r,x=(s==o?-1:1)*O.sqrt(B((b*_-b*v*v-_*m*m)/(b*v*v+_*m*m))),w=x*i*v/r+(t+l)/2,C=x*-r*m/i+(e+u)/2,S=O.asin(((e-C)/r).toFixed(9)),k=O.asin(((u-C)/r).toFixed(9));S=w>t?z-S:S,k=w>l?z-k:k,0>S&&(S=2*z+S),0>k&&(k=2*z+k),o&&S>k&&(S-=2*z),!o&&k>S&&(k-=2*z)}var I=k-S;if(B(I)>d){var T=k,U=l,M=u;k=S+d*(o&&k>S?1:-1),l=w+i*O.cos(k),u=C+r*O.sin(k),f=$t(l,u,i,r,a,0,o,U,M,[k,T,w,C])}I=k-S;var $=O.cos(S),A=O.sin(S),F=O.cos(k),P=O.sin(k),L=O.tan(I/4),N=4/3*i*L,R=4/3*r*L,j=[t,e],V=[t+N*A,e-R*$],H=[l+N*P,u-R*F],W=[l,u];if(V[0]=2*j[0]-V[0],V[1]=2*j[1]-V[1],c)return[V,H,W][D](f);f=[V,H,W][D](f).join()[E](",");for(var Y=[],q=0,G=f.length;G>q;q++)Y[q]=q%2?g(f[q-1],f[q],p).y:g(f[q],f[q+1],p).x;return Y},At=function(t,e,i,n,r,a,s,o,l){var u=1-l;return{x:j(u,3)*t+3*j(u,2)*l*i+3*u*l*l*r+j(l,3)*s,y:j(u,3)*e+3*j(u,2)*l*n+3*u*l*l*a+j(l,3)*o}},Et=n(function(t,e,i,n,r,a,s,o){var l,u=r-2*i+t-(s-2*r+i),c=2*(i-t)-2*(r-i),h=t-i,d=(-c+O.sqrt(c*c-4*u*h))/2/u,p=(-c-O.sqrt(c*c-4*u*h))/2/u,f=[e,o],g=[t,s];return B(d)>"1e12"&&(d=.5),B(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=At(t,e,i,n,r,a,s,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=At(t,e,i,n,r,a,s,o,p),g.push(l.x),f.push(l.y)),u=a-2*n+e-(o-2*a+n),c=2*(n-e)-2*(a-n),h=e-n,d=(-c+O.sqrt(c*c-4*u*h))/2/u,p=(-c-O.sqrt(c*c-4*u*h))/2/u,B(d)>"1e12"&&(d=.5),B(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=At(t,e,i,n,r,a,s,o,d),g.push(l.x),f.push(l.y)),p>0&&1>p&&(l=At(t,e,i,n,r,a,s,o,p),g.push(l.x),f.push(l.y)),{min:{x:R[T](0,g),y:R[T](0,f)},max:{x:N[T](0,g),y:N[T](0,f)}}}),Ft=t._path2curve=n(function(t,e){var i=!e&&St(t);if(!e&&i.curve)return It(i.curve);for(var n=Dt(t),r=e&&Dt(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e){var i,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][D]($t[T](0,[e.x,e.y][D](t.slice(1))));break;case"S":i=e.x+(e.x-(e.bx||e.x)),n=e.y+(e.y-(e.by||e.y)),t=["C",i,n][D](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][D](Mt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][D](Mt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][D](Ut(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][D](Ut(e.x,e.y,t[1],e.y));break;case"V":t=["C"][D](Ut(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][D](Ut(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][D](i.splice(0,6)));t.splice(e,1),h=N(n.length,r&&r.length||0)}},u=function(t,e,i,a,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),i.bx=0,i.by=0,i.x=t[s][1],i.y=t[s][2],h=N(n.length,r&&r.length||0))},c=0,h=N(n.length,r&&r.length||0);h>c;c++){n[c]=o(n[c],a),l(n,c),r&&(r[c]=o(r[c],s)),r&&l(r,c),u(n,r,a,s,c),u(r,n,s,a,c);var d=n[c],p=r&&r[c],f=d.length,g=r&&p.length;a.x=d[f-2],a.y=d[f-1],a.bx=J(d[f-4])||a.x,a.by=J(d[f-3])||a.y,s.bx=r&&(J(p[g-4])||s.x),s.by=r&&(J(p[g-3])||s.y),s.x=r&&p[g-2],s.y=r&&p[g-1]}return r||(i.curve=It(n)),r?[n,r]:n},null,It),Pt=(t._parseDots=n(function(e){for(var i=[],n=0,r=e.length;r>n;n++){var a={},s=e[n].match(/^([^:]*):?([\d\.]*)/);if(a.color=t.getRGB(s[1]),a.color.error)return null;a.color=a.color.hex,s[2]&&(a.offset=s[2]+"%"),i.push(a)}for(n=1,r=i.length-1;r>n;n++)if(!i[n].offset){for(var o=J(i[n-1].offset||0),l=0,u=n+1;r>u;u++)if(i[u].offset){l=i[u].offset;break}l||(l=100,u=r),l=J(l);for(var c=(l-o)/(u-n+1);u>n;n++)o+=c,i[n].offset=o+"%"}return i}),t._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Lt=(t._tofront=function(t,e){e.top!==t&&(Pt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},t._toback=function(t,e){e.bottom!==t&&(Pt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},t._insertafter=function(t,e,i){Pt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},t._insertbefore=function(t,e,i){Pt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},t.toMatrix=function(t,e){var i=kt(t),n={_:{transform:M},getBBox:function(){return i}};return Ot(n,e),n.matrix}),Ot=(t.transformPath=function(t,e){return gt(t,Lt(t,e))},t._extractTransform=function(e,i){if(null==i)return e._.transform;i=A(i).replace(/\.{3}|\u2026/g,e._.transform||M);var n=t.parseTransformString(i),r=0,a=0,s=0,o=1,l=1,u=e._,c=new d;if(u.transform=n||[],n)for(var h=0,p=n.length;p>h;h++){var f,g,m,v,y,b=n[h],_=b.length,x=A(b[0]).toLowerCase(),w=b[0]!=x,C=w?c.invert():0;"t"==x&&3==_?w?(f=C.x(0,0),g=C.y(0,0),m=C.x(b[1],b[2]),v=C.y(b[1],b[2]),c.translate(m-f,v-g)):c.translate(b[1],b[2]):"r"==x?2==_?(y=y||e.getBBox(1),c.rotate(b[1],y.x+y.width/2,y.y+y.height/2),r+=b[1]):4==_&&(w?(m=C.x(b[2],b[3]),v=C.y(b[2],b[3]),c.rotate(b[1],m,v)):c.rotate(b[1],b[2],b[3]),r+=b[1]):"s"==x?2==_||3==_?(y=y||e.getBBox(1),c.scale(b[1],b[_-1],y.x+y.width/2,y.y+y.height/2),o*=b[1],l*=b[_-1]):5==_&&(w?(m=C.x(b[3],b[4]),v=C.y(b[3],b[4]),c.scale(b[1],b[2],m,v)):c.scale(b[1],b[2],b[3],b[4]),o*=b[1],l*=b[2]):"m"==x&&7==_&&c.add(b[1],b[2],b[3],b[4],b[5],b[6]),u.dirtyT=1,e.matrix=c}e.matrix=c,u.sx=o,u.sy=l,u.deg=r,u.dx=a=c.e,u.dy=s=c.f,1==o&&1==l&&!r&&u.bbox?(u.bbox.x+=+a,u.bbox.y+=+s):u.dirtyT=1}),Nt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Rt=t._equaliseTransform=function(e,i){i=A(i).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],i=t.parseTransformString(i)||[];for(var n,r,a,s,o=N(e.length,i.length),l=[],u=[],c=0;o>c;c++){if(a=e[c]||Nt(i[c]),s=i[c]||Nt(a),a[0]!=s[0]||"r"==a[0].toLowerCase()&&(a[2]!=s[2]||a[3]!=s[3])||"s"==a[0].toLowerCase()&&(a[3]!=s[3]||a[4]!=s[4]))return;for(l[c]=[],u[c]=[],n=0,r=N(a.length,s.length);r>n;n++)n in a&&(l[c][n]=a[n]),n in s&&(u[c][n]=s[n])}return{from:l,to:u}};t._getContainer=function(e,i,n,r){var a;return a=null!=r||t.is(e,"object")?e:S.doc.getElementById(e),null!=a?a.tagName?null==i?{container:a,width:a.style.pixelWidth||a.offsetWidth,height:a.style.pixelHeight||a.offsetHeight}:{container:a,width:i,height:n}:{container:1,x:e,y:i,width:n,height:r}:void 0},t.pathToRelative=Tt,t._engine={},t.path2curve=Ft,t.matrix=function(t,e,i,n,r,a){return new d(t,e,i,n,r,a)},function(e){function i(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var e=O.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,i,n,r,a){var s,o,l,u,c=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[t,i,r],[e,n,a],[0,0,1]];for(t&&t instanceof d&&(p=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(o=0;3>o;o++){for(u=0,l=0;3>l;l++)u+=h[s][l]*p[l][o];c[s][o]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new d(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){this.add(1,0,0,1,t,e)},e.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},e.rotate=function(e,i,n){e=t.rad(e),i=i||0,n=n||0;var r=+O.cos(e).toFixed(9),a=+O.sin(e).toFixed(9);this.add(r,a,-a,r,i,n),this.add(1,0,0,1,-i,-n)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[A.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];e.scalex=O.sqrt(i(r[0])),n(r[0]),e.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*e.shear,r[1][1]-r[0][1]*e.shear],e.scaley=O.sqrt(i(r[1])),n(r[1]),e.shear/=e.scaley;var a=-r[0][1],s=r[1][1];return 0>s?(e.rotate=t.deg(O.acos(s)),0>a&&(e.rotate=360-e.rotate)):e.rotate=t.deg(O.asin(a)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this[E]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:M)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:M)+(e.rotate?"r"+[e.rotate,0,0]:M)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);var Bt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Bt&&Bt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Bt&&Bt[1]<8?b.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){
t.remove()})}:b.safari=ct;for(var jt=function(){this.returnValue=!1},zt=function(){return this.originalEvent.preventDefault()},Vt=function(){this.cancelBubble=!0},Ht=function(){return this.originalEvent.stopPropagation()},Wt=function(){return S.doc.addEventListener?function(t,e,i,n){var r=U&&P[e]?P[e]:e,a=function(r){var a=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,s=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,o=r.clientX+s,l=r.clientY+a;if(U&&P[C](e))for(var u=0,c=r.targetTouches&&r.targetTouches.length;c>u;u++)if(r.targetTouches[u].target==t){var h=r;r=r.targetTouches[u],r.originalEvent=h,r.preventDefault=zt,r.stopPropagation=Ht;break}return i.call(n,r,o,l)};return t.addEventListener(r,a,!1),function(){return t.removeEventListener(r,a,!1),!0}}:S.doc.attachEvent?function(t,e,i,n){var r=function(t){t=t||S.win.event;var e=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,r=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,a=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||jt,t.stopPropagation=t.stopPropagation||Vt,i.call(n,t,a,s)};t.attachEvent("on"+e,r);var a=function(){return t.detachEvent("on"+e,r),!0};return a}:void 0}(),Yt=[],qt=function(t){for(var e,i=t.clientX,n=t.clientY,r=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,a=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft,s=Yt.length;s--;){if(e=Yt[s],U){for(var o,l=t.touches.length;l--;)if(o=t.touches[l],o.identifier==e.el._drag.id){i=o.clientX,n=o.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var u,c=e.el.node,h=c.nextSibling,d=c.parentNode,p=c.style.display;S.win.opera&&d.removeChild(c),c.style.display="none",u=e.el.paper.getElementByPoint(i,n),c.style.display=p,S.win.opera&&(h?d.insertBefore(c,h):d.appendChild(c)),u&&eve("raphael.drag.over."+e.el.id,e.el,u),i+=a,n+=r,eve("raphael.drag.move."+e.el.id,e.move_scope||e.el,i-e.el._drag.x,n-e.el._drag.y,i,n,t)}},Gt=function(e){t.unmousemove(qt).unmouseup(Gt);for(var i,n=Yt.length;n--;)i=Yt[n],i.el._drag={},eve("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,e);Yt=[]},Xt=t.el={},Kt=F.length;Kt--;)!function(e){t[e]=Xt[e]=function(i,n){return t.is(i,"function")&&(this.events=this.events||[],this.events.push({name:e,f:i,unbind:Wt(this.shape||this.node||S.doc,e,i,n||this)})),this},t["un"+e]=Xt["un"+e]=function(t){for(var i=this.events||[],n=i.length;n--;)if(i[n].name==e&&i[n].f==t)return i[n].unbind(),i.splice(n,1),!i.length&&delete this.events,this;return this}}(F[Kt]);Xt.data=function(e,i){var n=lt[this.id]=lt[this.id]||{};if(1==arguments.length){if(t.is(e,"object")){for(var r in e)e[C](r)&&this.data(r,e[r]);return this}return eve("raphael.data.get."+this.id,this,n[e],e),n[e]}return n[e]=i,eve("raphael.data.set."+this.id,this,i,e),this},Xt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Xt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Xt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Jt=[];Xt.drag=function(e,i,n,r,a,s){function o(o){(o.originalEvent||o).preventDefault();var l=S.doc.documentElement.scrollTop||S.doc.body.scrollTop,u=S.doc.documentElement.scrollLeft||S.doc.body.scrollLeft;this._drag.x=o.clientX+u,this._drag.y=o.clientY+l,this._drag.id=o.identifier,!Yt.length&&t.mousemove(qt).mouseup(Gt),Yt.push({el:this,move_scope:r,start_scope:a,end_scope:s}),i&&eve.on("raphael.drag.start."+this.id,i),e&&eve.on("raphael.drag.move."+this.id,e),n&&eve.on("raphael.drag.end."+this.id,n),eve("raphael.drag.start."+this.id,a||r||this,o.clientX+u,o.clientY+l,o)}return this._drag={},Jt.push({el:this,start:o}),this.mousedown(o),this},Xt.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},Xt.undrag=function(){for(var e=Jt.length;e--;)Jt[e].el==this&&(this.unmousedown(Jt[e].start),Jt.splice(e,1),eve.unbind("raphael.drag.*."+this.id));!Jt.length&&t.unmousemove(qt).unmouseup(Gt)},b.circle=function(e,i,n){var r=t._engine.circle(this,e||0,i||0,n||0);return this.__set__&&this.__set__.push(r),r},b.rect=function(e,i,n,r,a){var s=t._engine.rect(this,e||0,i||0,n||0,r||0,a||0);return this.__set__&&this.__set__.push(s),s},b.ellipse=function(e,i,n,r){var a=t._engine.ellipse(this,e||0,i||0,n||0,r||0);return this.__set__&&this.__set__.push(a),a},b.path=function(e){e&&!t.is(e,H)&&!t.is(e[0],W)&&(e+=M);var i=t._engine.path(t.format[T](t,arguments),this);return this.__set__&&this.__set__.push(i),i},b.image=function(e,i,n,r,a){var s=t._engine.image(this,e||"about:blank",i||0,n||0,r||0,a||0);return this.__set__&&this.__set__.push(s),s},b.text=function(e,i,n){var r=t._engine.text(this,e||0,i||0,A(n));return this.__set__&&this.__set__.push(r),r},b.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var i=new ue(e);return this.__set__&&this.__set__.push(i),i},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.setSize=function(e,i){return t._engine.setSize.call(this,e,i)},b.setViewBox=function(e,i,n,r,a){return t._engine.setViewBox.call(this,e,i,n,r,a)},b.top=b.bottom=null,b.raphael=t;var Zt=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,r=i.documentElement,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,o=e.top+(S.win.pageYOffset||r.scrollTop||n.scrollTop)-a,l=e.left+(S.win.pageXOffset||r.scrollLeft||n.scrollLeft)-s;return{y:o,x:l}};b.getElementByPoint=function(t,e){var i=this,n=i.canvas,r=S.doc.elementFromPoint(t,e);if(S.win.opera&&"svg"==r.tagName){var a=Zt(n),s=n.createSVGRect();s.x=t-a.x,s.y=e-a.y,s.width=s.height=1;var o=n.getIntersectionList(s,null);o.length&&(r=o[o.length-1])}if(!r)return null;for(;r.parentNode&&r!=n.parentNode&&!r.raphael;)r=r.parentNode;return r==i.canvas.parentNode&&(r=n),r=r&&r.raphael?i.getById(r.raphaelid):null},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},b.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Xt.isPointInside=function(e,i){var n=this.realPath=this.realPath||ft[this.type](this);return t.isPointInsidePath(n,e,i)},Xt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=ft[this.type](this),e.bboxwt=kt(this.realPath),e.bboxwt.toString=p,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=ft[this.type](this)),e.bbox=kt(gt(this.realPath,this.matrix)),e.bbox.toString=p,e.dirty=e.dirtyT=0),e.bbox)},Xt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Xt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,r=n.set(),a=this.realPath||ft[this.type](this);a=this.matrix?gt(a,this.matrix):a;for(var s=1;i+1>s;s++)r.push(n.path(a).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*s).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Qt=function(e,i,n,r,a,s,u,c,h){return null==h?o(e,i,n,r,a,s,u,c):t.findDotsAtSegment(e,i,n,r,a,s,u,c,l(e,i,n,r,a,s,u,c,h))},te=function(e,i){return function(n,r,a){n=Ft(n);for(var s,o,l,u,c,h="",d={},p=0,f=0,g=n.length;g>f;f++){if(l=n[f],"M"==l[0])s=+l[1],o=+l[2];else{if(u=Qt(s,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+u>r){if(i&&!d.start){if(c=Qt(s,o,l[1],l[2],l[3],l[4],l[5],l[6],r-p),h+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],a)return h;d.start=h,h=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=u,s=+l[5],o=+l[6];continue}if(!e&&!i)return c=Qt(s,o,l[1],l[2],l[3],l[4],l[5],l[6],r-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=u,s=+l[5],o=+l[6]}h+=l.shift()+l}return d.end=h,c=e?p:i?d:t.findDotsAtSegment(s,o,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},ee=te(1),ie=te(),ne=te(0,1);t.getTotalLength=ee,t.getPointAtLength=ie,t.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return ne(t,e).end;var n=ne(t,i,1);return e?ne(n,e).end:n},Xt.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():ee(this.attrs.path):void 0},Xt.getPointAtLength=function(t){return"path"==this.type?ie(this.attrs.path,t):void 0},Xt.getSubpath=function(e,i){return"path"==this.type?t.getSubpath(this.attrs.path,e,i):void 0};var re=t.easing_formulas={linear:function(t){return t},"<":function(t){return j(t,1.7)},">":function(t){return j(t,.48)},"<>":function(t){var e=.48-t/1.04,i=O.sqrt(.1734+e*e),n=i-e,r=j(B(n),1/3)*(0>n?-1:1),a=-i-e,s=j(B(a),1/3)*(0>a?-1:1),o=r+s+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:j(2,-10*t)*O.sin((t-.075)*(2*z)/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};re.easeIn=re["ease-in"]=re["<"],re.easeOut=re["ease-out"]=re[">"],re.easeInOut=re["ease-in-out"]=re["<>"],re["back-in"]=re.backIn,re["back-out"]=re.backOut;var ae=[],se=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},oe=function(){for(var e=+new Date,i=0;i<ae.length;i++){var n=ae[i];if(!n.el.removed&&!n.paused){var r,a,s=e-n.start,o=n.ms,l=n.easing,u=n.from,c=n.diff,h=n.to,d=(n.t,n.el),p={},f={};if(n.initstatus?(s=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*o,n.status=n.initstatus,delete n.initstatus,n.stop&&ae.splice(i--,1)):n.status=(n.prev+(n.percent-n.prev)*(s/o))/n.anim.top,!(0>s))if(o>s){var g=l(s/o);for(var v in u)if(u[C](v)){switch(et[v]){case V:r=+u[v]+g*o*c[v];break;case"colour":r="rgb("+[le(K(u[v].r+g*o*c[v].r)),le(K(u[v].g+g*o*c[v].g)),le(K(u[v].b+g*o*c[v].b))].join(",")+")";break;case"path":r=[];for(var y=0,b=u[v].length;b>y;y++){r[y]=[u[v][y][0]];for(var _=1,x=u[v][y].length;x>_;_++)r[y][_]=+u[v][y][_]+g*o*c[v][y][_];r[y]=r[y].join($)}r=r.join($);break;case"transform":if(c[v].real)for(r=[],y=0,b=u[v].length;b>y;y++)for(r[y]=[u[v][y][0]],_=1,x=u[v][y].length;x>_;_++)r[y][_]=u[v][y][_]+g*o*c[v][y][_];else{var w=function(t){return+u[v][t]+g*o*c[v][t]};r=[["m",w(0),w(1),w(2),w(3),w(4),w(5)]]}break;case"csv":if("clip-rect"==v)for(r=[],y=4;y--;)r[y]=+u[v][y]+g*o*c[v][y];break;default:var S=[][D](u[v]);for(r=[],y=d.paper.customAttributes[v].length;y--;)r[y]=+S[y]+g*o*c[v][y]}p[v]=r}d.attr(p),function(t,e,i){setTimeout(function(){eve("raphael.anim.frame."+t,e,i)})}(d.id,d,n.anim)}else{if(function(e,i,n){setTimeout(function(){eve("raphael.anim.frame."+i.id,i,n),eve("raphael.anim.finish."+i.id,i,n),t.is(e,"function")&&e.call(i)})}(n.callback,d,n.anim),d.attr(h),ae.splice(i--,1),n.repeat>1&&!n.next){for(a in h)h[C](a)&&(f[a]=n.totalOrigin[a]);n.el.attr(f),m(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&m(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}t.svg&&d&&d.paper&&d.paper.safari(),ae.length&&se(oe)},le=function(t){return t>255?255:0>t?0:t};Xt.animateWith=function(e,i,n,r,a,s){var o=this;if(o.removed)return s&&s.call(o),o;var l=n instanceof g?n:t.animation(n,r,a,s);m(l,o,l.percents[0],null,o.attr());for(var u=0,c=ae.length;c>u;u++)if(ae[u].anim==i&&ae[u].el==e){ae[c-1].start=ae[u].start;break}return o},Xt.onAnimation=function(t){return t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id),this},g.prototype.delay=function(t){var e=new g(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},g.prototype.repeat=function(t){var e=new g(this.anim,this.ms);return e.del=this.del,e.times=O.floor(N(t,0))||1,e},t.animation=function(e,i,n,r){if(e instanceof g)return e;(t.is(n,"function")||!n)&&(r=r||n||null,n=null),e=Object(e),i=+i||0;var a,s,o={};for(s in e)e[C](s)&&J(s)!=s&&J(s)+"%"!=s&&(a=!0,o[s]=e[s]);return a?(n&&(o.easing=n),r&&(o.callback=r),new g({100:o},i)):new g(e,i)},Xt.animate=function(e,i,n,r){var a=this;if(a.removed)return r&&r.call(a),a;var s=e instanceof g?e:t.animation(e,i,n,r);return m(s,a,s.percents[0],null,a.attr()),a},Xt.setTime=function(t,e){return t&&null!=e&&this.status(t,R(e,t.ms)/t.ms),this},Xt.status=function(t,e){var i,n,r=[],a=0;if(null!=e)return m(t,this,-1,R(e,1)),this;for(i=ae.length;i>a;a++)if(n=ae[a],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;r.push({anim:n.anim,status:n.status})}return t?0:r},Xt.pause=function(t){for(var e=0;e<ae.length;e++)ae[e].el.id!=this.id||t&&ae[e].anim!=t||eve("raphael.anim.pause."+this.id,this,ae[e].anim)!==!1&&(ae[e].paused=!0);return this},Xt.resume=function(t){for(var e=0;e<ae.length;e++)if(ae[e].el.id==this.id&&(!t||ae[e].anim==t)){var i=ae[e];eve("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status))}return this},Xt.stop=function(t){for(var e=0;e<ae.length;e++)ae[e].el.id!=this.id||t&&ae[e].anim!=t||eve("raphael.anim.stop."+this.id,this,ae[e].anim)!==!1&&ae.splice(e--,1);return this},eve.on("raphael.remove",v),eve.on("raphael.clear",v),Xt.toString=function(){return"Rapha\xebl\u2019s object"};var ue=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Xt.constructor&&t[e].constructor!=ue||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ce=ue.prototype;ce.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)t=arguments[i],!t||t.constructor!=Xt.constructor&&t.constructor!=ue||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},ce.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ce.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var he in Xt)Xt[C](he)&&(ce[he]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][T](i,e)})}}(he));ce.attr=function(e,i){if(e&&t.is(e,W)&&t.is(e[0],"object"))for(var n=0,r=e.length;r>n;n++)this.items[n].attr(e[n]);else for(var a=0,s=this.items.length;s>a;a++)this.items[a].attr(e,i);return this},ce.clear=function(){for(;this.length;)this.pop()},ce.splice=function(t,e,i){t=0>t?N(this.length+t,0):t,e=N(0,R(this.length-t,e));var n,r=[],a=[],s=[];for(n=2;n<arguments.length;n++)s.push(arguments[n]);for(n=0;e>n;n++)a.push(this[t+n]);for(;n<this.length-t;n++)r.push(this[t+n]);var o=s.length;for(n=0;n<o+r.length;n++)this.items[t+n]=this[t+n]=o>n?s[n]:r[n-o];for(n=this.items.length=this.length-=e-o;this[n];)delete this[n++];return new ue(a)},ce.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},ce.animate=function(e,i,n,r){(t.is(n,"function")||!n)&&(r=n||null);var a,s,o=this.items.length,l=o,u=this;if(!o)return this;r&&(s=function(){!--o&&r.call(u)}),n=t.is(n,H)?n:s;var c=t.animation(e,i,n,s);for(a=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(a,c,c);return this},ce.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ce.getBBox=function(){for(var t=[],e=[],i=[],n=[],r=this.items.length;r--;)if(!this.items[r].removed){var a=this.items[r].getBBox();t.push(a.x),e.push(a.y),i.push(a.x+a.width),n.push(a.y+a.height)}return t=R[T](0,t),e=R[T](0,e),i=N[T](0,i),n=N[T](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},ce.clone=function(t){t=new ue;for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},ce.toString=function(){return"Rapha\xebl\u2018s set"},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[C](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=Z(t.face["units-per-em"],10);for(var r in t.glyphs)if(t.glyphs[C](r)){var a=t.glyphs[r];if(e.glyphs[r]={w:a.w,k:{},d:a.d&&"M"+a.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},a.k)for(var s in a.k)a[C](s)&&(e.glyphs[r].k[s]=a.k[s])}}return t},b.getFont=function(e,i,n,r){if(r=r||"normal",n=n||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,t.fonts){var a=t.fonts[e];if(!a){var s=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,M)+"(\\s|$)","i");for(var o in t.fonts)if(t.fonts[C](o)&&s.test(o)){a=t.fonts[o];break}}var l;if(a)for(var u=0,c=a.length;c>u&&(l=a[u],l.face["font-weight"]!=i||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=r);u++);return l}},b.print=function(e,i,n,r,a,s,o){s=s||"middle",o=N(R(o||0,1),-1);var l,u=A(n)[E](M),c=0,h=0,d=M;if(t.is(r,n)&&(r=this.getFont(r)),r){l=(a||16)/r.face["units-per-em"];for(var p=r.face.bbox[E](_),f=+p[0],g=p[3]-p[1],m=0,v=+p[1]+("baseline"==s?g+ +r.face.descent:g/2),y=0,b=u.length;b>y;y++){if("\n"==u[y])c=0,w=0,h=0,m+=g;else{var x=h&&r.glyphs[u[y-1]]||{},w=r.glyphs[u[y]];c+=h?(x.w||r.w)+(x.k&&x.k[u[y]]||0)+r.w*o:0,h=1}w&&w.d&&(d+=t.transformPath(w.d,["t",c*l,m*l,"s",l,l,f,v,"t",(e-f)/l,(i-v)/l]))}}return this.path(d).attr({fill:"#000",stroke:"none"})},b.add=function(e){if(t.is(e,"array"))for(var i,n=this.set(),r=0,a=e.length;a>r;r++)i=e[r]||{},x[C](i.type)&&n.push(this[i.type]().attr(i));return n},t.format=function(e,i){var n=t.is(i,W)?[0][D](i):arguments;return e&&t.is(e,H)&&n.length-1&&(e=e.replace(w,function(t,e){return null==n[++e]?M:n[e]})),e||M},t.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var r=n;return i.replace(e,function(t,e,i,n,a){e=e||n,r&&(e in r&&(r=r[e]),"function"==typeof r&&a&&(r=r()))}),r=(null==r||r==n?t:r)+""};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),t.ninja=function(){return k.was?S.win.Raphael=k.is:delete Raphael,t},t.st=ce,function(e,i,n){function r(){/in/.test(e.readyState)?setTimeout(r,9):t.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(i,n=function(){e.removeEventListener(i,n,!1),e.readyState="complete"},!1),e.readyState="loading"),r()}(document,"DOMContentLoaded"),k.was?S.win.Raphael=t:Raphael=t,eve.on("raphael.DOMload",function(){y=!0})}(),
//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\
//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\
window.Raphael.svg&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,r=parseInt,a=Math,s=a.max,o=a.abs,l=a.pow,u=/[, ]+/,c=t.eve,h="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var m=function(n,r){if(r){"string"==typeof n&&(n=m(n));for(var a in r)r[e](a)&&("xlink:"==a.substring(0,6)?n.setAttributeNS(p,a.substring(6),i(r[a])):n.setAttribute(a,i(r[a])))}else n=t._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(e,r){var u="linear",c=e.id+r,d=.5,p=.5,f=e.node,g=e.paper,v=f.style,y=t._g.doc.getElementById(c);if(!y){if(r=i(r).replace(t._radial_gradient,function(t,e,i){if(u="radial",e&&i){d=n(e),p=n(i);var r=2*(p>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=a.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*r)}return h}),r=r.split(/\s*\-\s*/),"linear"==u){var b=r.shift();if(b=-n(b),isNaN(b))return null;var _=[0,0,a.cos(t.rad(b)),a.sin(t.rad(b))],x=1/(s(o(_[2]),o(_[3]))||1);_[2]*=x,_[3]*=x,_[2]<0&&(_[0]=-_[2],_[2]=0),_[3]<0&&(_[1]=-_[3],_[3]=0)}var w=t._parseDots(r);if(!w)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=m(u+"Gradient",{id:c}),e.gradient=y,m(y,"radial"==u?{fx:d,fy:p}:{x1:_[0],y1:_[1],x2:_[2],y2:_[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var C=0,S=w.length;S>C;C++)y.appendChild(m("stop",{offset:w[C].offset?w[C].offset:C?"100%":"0%","stop-color":w[C].color||"#fff"}))}}return m(f,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),v.fill=h,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(n,r,a){if("path"==n.type){for(var s,o,l,u,c,d=i(r).toLowerCase().split("-"),p=n.paper,v=a?"end":"start",y=n.node,b=n.attrs,_=b["stroke-width"],x=d.length,w="classic",C=3,S=3,k=5;x--;)switch(d[x]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=d[x];break;case"wide":S=5;break;case"narrow":S=2;break;case"long":C=5;break;case"short":C=2}if("open"==w?(C+=2,S+=2,k+=2,l=1,u=a?4:1,c={fill:"none",stroke:b.stroke}):(u=l=C/2,c={fill:b.stroke,stroke:"none"}),n._.arrows?a?(n._.arrows.endPath&&g[n._.arrows.endPath]--,n._.arrows.endMarker&&g[n._.arrows.endMarker]--):(n._.arrows.startPath&&g[n._.arrows.startPath]--,n._.arrows.startMarker&&g[n._.arrows.startMarker]--):n._.arrows={},"none"!=w){var I="raphael-marker-"+w,T="raphael-marker-"+v+w+C+S;t._g.doc.getElementById(I)?g[I]++:(p.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:f[w],id:I})),g[I]=1);var D,U=t._g.doc.getElementById(T);U?(g[T]++,D=U.getElementsByTagName("use")[0]):(U=m(m("marker"),{id:T,markerHeight:S,markerWidth:C,orient:"auto",refX:u,refY:S/2}),D=m(m("use"),{"xlink:href":"#"+I,transform:(a?"rotate(180 "+C/2+" "+S/2+") ":h)+"scale("+C/k+","+S/k+")","stroke-width":(1/((C/k+S/k)/2)).toFixed(4)}),U.appendChild(D),p.defs.appendChild(U),g[T]=1),m(D,c);var M=l*("diamond"!=w&&"oval"!=w);a?(s=n._.arrows.startdx*_||0,o=t.getTotalLength(b.path)-M*_):(s=M*_,o=t.getTotalLength(b.path)-(n._.arrows.enddx*_||0)),c={},c["marker-"+v]="url(#"+T+")",(o||s)&&(c.d=Raphael.getSubpath(b.path,s,o)),m(y,c),n._.arrows[v+"Path"]=I,n._.arrows[v+"Marker"]=T,n._.arrows[v+"dx"]=M,n._.arrows[v+"Type"]=w,n._.arrows[v+"String"]=r}else a?(s=n._.arrows.startdx*_||0,o=t.getTotalLength(b.path)-s):(s=0,o=t.getTotalLength(b.path)-(n._.arrows.enddx*_||0)),n._.arrows[v+"Path"]&&m(y,{d:Raphael.getSubpath(b.path,s,o)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(c in g)if(g[e](c)&&!g[c]){var $=t._g.doc.getElementById(c);$&&$.parentNode.removeChild($)}}},_={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,e,n){if(e=_[i(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",a={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,s=[],o=e.length;o--;)s[o]=e[o]*r+(o%2?1:-1)*a;m(t.node,{"stroke-dasharray":s.join(",")})}},w=function(n,a){var l=n.node,c=n.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var f in a)if(a[e](f)){if(!t._availableAttrs[e](f))continue;var g=a[f];switch(c[f]=g,f){case"blur":n.blur(g);break;case"href":case"title":case"target":var _=l.parentNode;if("a"!=_.tagName.toLowerCase()){var w=m("a");_.insertBefore(w,l),w.appendChild(l),_=w}"target"==f?_.setAttributeNS(p,"show","blank"==g?"new":g):_.setAttributeNS(p,f,g);break;case"cursor":l.style.cursor=g;break;case"transform":n.transform(g);break;case"arrow-start":b(n,g);break;case"arrow-end":b(n,g,1);break;case"clip-rect":var C=i(g).split(u);if(4==C.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var k=m("clipPath"),I=m("rect");k.id=t.createUUID(),m(I,{x:C[0],y:C[1],width:C[2],height:C[3]}),k.appendChild(I),n.paper.defs.appendChild(k),m(l,{"clip-path":"url(#"+k.id+")"}),n.clip=I}if(!g){var T=l.getAttribute("clip-path");if(T){var D=t._g.doc.getElementById(T.replace(/(^url\(#|\)$)/g,h));D&&D.parentNode.removeChild(D),m(l,{"clip-path":h}),delete n.clip}}break;case"path":"path"==n.type&&(m(l,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,g),n._.dirty=1,!c.fx)break;f="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,g),n._.dirty=1,!c.fy)break;f="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,g),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?m(l,{rx:g,ry:g}):l.setAttribute(f,g),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",g);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(g/=s(o(n._.sx),o(n._.sy))||1),n.paper._vbSize&&(g*=n.paper._vbSize),l.setAttribute(f,g),c["stroke-dasharray"]&&x(n,c["stroke-dasharray"],a),n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"stroke-dasharray":x(n,g,a);break;case"fill":var U=i(g).match(t._ISURL);if(U){k=m("pattern");var M=m("image");k.id=t.createUUID(),m(k,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(M,{x:0,y:0,"xlink:href":U[1]}),k.appendChild(M),function(e){t._preload(U[1],function(){var t=this.offsetWidth,i=this.offsetHeight;m(e,{width:t,height:i}),m(M,{width:t,height:i}),n.paper.safari()})}(k),n.paper.defs.appendChild(k),m(l,{fill:"url(#"+k.id+")"}),n.pattern=k,n.pattern&&y(n);break}var $=t.getRGB(g);if($.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&v(n,g)){if("opacity"in c||"fill-opacity"in c){var A=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h));if(A){var E=A.getElementsByTagName("stop");m(E[E.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete a.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(a.opacity,"undefined")&&m(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(a["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});$[e]("opacity")&&m(l,{"fill-opacity":$.opacity>1?$.opacity/100:$.opacity});case"stroke":$=t.getRGB(g),l.setAttribute(f,$.hex),"stroke"==f&&$[e]("opacity")&&m(l,{"stroke-opacity":$.opacity>1?$.opacity/100:$.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&b(n,n._.arrows.startString),"endString"in n._.arrows&&b(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=i(g).charAt())&&v(n,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){A=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,h)),A&&(E=A.getElementsByTagName("stop"),m(E[E.length-1],{"stop-opacity":g}));break}default:"font-size"==f&&(g=r(g,10)+"px");var F=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[F]=g,n._.dirty=1,l.setAttribute(f,g)}}S(n,a),l.style.visibility=d},C=1.2,S=function(n,a){if("text"==n.type&&(a[e]("text")||a[e]("font")||a[e]("font-size")||a[e]("x")||a[e]("y"))){var s=n.attrs,o=n.node,l=o.firstChild?r(t._g.doc.defaultView.getComputedStyle(o.firstChild,h).getPropertyValue("font-size"),10):10;if(a[e]("text")){for(s.text=a.text;o.firstChild;)o.removeChild(o.firstChild);for(var u,c=i(a.text).split("\n"),d=[],p=0,f=c.length;f>p;p++)u=m("tspan"),p&&m(u,{dy:l*C,x:s.x}),u.appendChild(t._g.doc.createTextNode(c[p])),o.appendChild(u),d[p]=u}else for(d=o.getElementsByTagName("tspan"),p=0,f=d.length;f>p;p++)p?m(d[p],{dy:l*C,x:s.x}):m(d[0],{dy:0});m(o,{x:s.x,y:s.y}),n._.dirty=1;var g=n._getBBox(),v=s.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(d[0],{dy:v})}},k=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},I=t.el;k.prototype=I,I.constructor=k,t._engine.path=function(t,e){var i=m("path");e.canvas&&e.canvas.appendChild(i);var n=new k(i,e);return n.type="path",w(n,{fill:"none",stroke:"#000",path:t}),n},I.rotate=function(t,e,r){if(this.removed)return this;if(t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var a=this.getBBox(1);e=a.x+a.width/2,r=a.y+a.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},I.scale=function(t,e,r,a){if(this.removed)return this;if(t=i(t).split(u),t.length-1&&(e=n(t[1]),r=n(t[2]),a=n(t[3])),t=n(t[0]),null==e&&(e=t),null==a&&(r=a),null==r||null==a)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,r,a]])),this},I.translate=function(t,e){return this.removed?this:(t=i(t).split(u),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},I.transform=function(i){var n=this._;if(null==i)return n.transform;if(t._extractTransform(this,i),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},I.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},I.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},I.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),t._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var i in this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},I._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}return t&&this.hide(),e},I.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var a in this.attrs)this.attrs[e](a)&&(r[a]=this.attrs[a]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if("fill"==i&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==i)return this._.transform;for(var s=i.split(u),o={},l=0,h=s.length;h>l;l++)i=s[l],i in this.attrs?o[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?o[i]=this.paper.customAttributes[i].def:o[i]=t._availableAttrs[i];return h-1?o:o[s[0]]}if(null==n&&t.is(i,"array")){for(o={},l=0,h=i.length;h>l;l++)o[i[l]]=this.attr(i[l]);return o}if(null!=n){var d={};d[i]=n}else null!=i&&t.is(i,"object")&&(d=i);for(var p in d)c("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&d[e](p)&&t.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var g in f)f[e](g)&&(d[g]=f[g])}return w(this,d),this},I.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&t._tofront(this,e),this},I.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper);this.paper;return this},I.insertAfter=function(e){if(this.removed)return this;var i=e.node||e[e.length-1].node;return i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this},I.insertBefore=function(e){if(this.removed)return this;var i=e.node||e[0].node;return i.parentNode.insertBefore(this.node,i),t._insertbefore(this,e,this.paper),this},I.blur=function(e){var i=this;if(0!==+e){var n=m("filter"),r=m("feGaussianBlur");i.attrs.blur=e,n.id=t.createUUID(),m(r,{stdDeviation:+e||1.5}),n.appendChild(r),i.paper.defs.appendChild(n),i._blur=n,m(i.node,{filter:"url(#"+n.id+")"})}else i._blur&&(i._blur.parentNode.removeChild(i._blur),delete i._blur,delete i.attrs.blur),i.node.removeAttribute("filter")},t._engine.circle=function(t,e,i,n){var r=m("circle");t.canvas&&t.canvas.appendChild(r);var a=new k(r,t);return a.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},a.type="circle",m(r,a.attrs),a},t._engine.rect=function(t,e,i,n,r,a){var s=m("rect");t.canvas&&t.canvas.appendChild(s);var o=new k(s,t);return o.attrs={x:e,y:i,width:n,height:r,r:a||0,rx:a||0,ry:a||0,fill:"none",stroke:"#000"},o.type="rect",m(s,o.attrs),o},t._engine.ellipse=function(t,e,i,n,r){var a=m("ellipse");t.canvas&&t.canvas.appendChild(a);var s=new k(a,t);return s.attrs={cx:e,cy:i,rx:n,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",m(a,s.attrs),s},t._engine.image=function(t,e,i,n,r,a){var s=m("image");m(s,{x:i,y:n,width:r,height:a,preserveAspectRatio:"none"}),s.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(s);var o=new k(s,t);return o.attrs={x:i,y:n,width:r,height:a,src:e},o.type="image",o},t._engine.text=function(e,i,n,r){var a=m("text");e.canvas&&e.canvas.appendChild(a);var s=new k(a,e);return s.attrs={x:i,y:n,"text-anchor":"middle",text:r,font:t._availableAttrs.font,stroke:"none",fill:"#000"},s.type="text",w(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,n=e.x,r=e.y,a=e.width,s=e.height;if(!i)throw new Error("SVG container not found.");var o,l=m("svg"),u="overflow:hidden;";return n=n||0,r=r||0,a=a||512,s=s||342,m(l,{height:s,version:1.1,width:a,xmlns:"http://www.w3.org/2000/svg"}),1==i?(l.style.cssText=u+"position:absolute;left:"+n+"px;top:"+r+"px",t._g.doc.body.appendChild(l),o=1):(l.style.cssText=u+"position:relative",i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l)),i=new t._Paper,i.width=a,i.height=s,i.canvas=l,i.clear(),i._left=i._top=0,o&&(i.renderfix=function(){}),i.renderfix(),i},t._engine.setViewBox=function(t,e,i,n,r){c("raphael.setViewBox",this,this._viewBox,[t,e,i,n,r]);var a,o,l=s(i/this.width,n/this.height),u=this.top,h=r?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,a="0 0 "+this.width+d+this.height):(this._vbSize=l,a=t+d+e+d+i+d+n),m(this.canvas,{viewBox:a,preserveAspectRatio:h});l&&u;)o="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,u.attr({"stroke-width":o}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[t,e,i,n,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var r=-t.e%1,a=-t.f%1;(r||a)&&(r&&(this._left=(this._left+r)%1,i.left=this._left+"px"),a&&(this._top=(this._top+a)%1,i.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Rapha\xebl "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var T=t.st;for(var D in I)I[e](D)&&!T[e](D)&&(T[D]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(D))}(window.Raphael),
//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\
//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\
window.Raphael.vml&&function(t){var e="hasOwnProperty",i=String,n=parseFloat,r=Math,a=r.round,s=r.max,o=r.min,l=r.abs,u="fill",c=/[, ]+/,h=t.eve,d=" progid:DXImageTransform.Microsoft",p=" ",f="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",_=21600,x={path:1,rect:1,image:1},w={circle:1,ellipse:1},C=function(e){var n=/[ahqstv]/gi,r=t._pathToAbsolute;if(i(e).match(n)&&(r=t._path2curve),n=/[clmz]/g,r==t._pathToAbsolute&&!i(e).match(n)){var s=i(e).replace(m,function(t,e,i){var n=[],r="m"==e.toLowerCase(),s=g[e];return i.replace(y,function(t){r&&2==n.length&&(s+=n+g["m"==e?"l":"L"],n=[]),n.push(a(t*_))}),s+n});return s}var o,l,u=r(e);s=[];for(var c=0,h=u.length;h>c;c++){o=u[c],l=u[c][0].toLowerCase(),"z"==l&&(l="x");for(var d=1,v=o.length;v>d;d++)l+=a(o[d]*_)+(d!=v-1?",":f);s.push(l)}return s.join(p)},S=function(e,i,n){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(i,n),dy:r.y(i,n)}},k=function(t,e,i,n,r,a){var s=t._,o=t.matrix,c=s.fillpos,h=t.node,d=h.style,f=1,g="",m=_/e,v=_/i;if(d.visibility="hidden",e&&i){if(h.coordsize=l(m)+p+l(v),d.rotation=a*(0>e*i?-1:1),a){var y=S(a,n,r);n=y.dx,r=y.dy}if(0>e&&(g+="x"),0>i&&(g+=" y")&&(f=-1),d.flip=g,h.coordorigin=n*-m+p+r*-v,c||s.fillsize){var b=h.getElementsByTagName(u);b=b&&b[0],h.removeChild(b),c&&(y=S(a,o.x(c[0],c[1]),o.y(c[0],c[1])),b.position=y.dx*f+p+y.dy*f),s.fillsize&&(b.size=s.fillsize[0]*l(e)+p+s.fillsize[1]*l(i)),h.appendChild(b)}d.visibility="visible"}};t.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var I=function(t,e,n){for(var r=i(e).toLowerCase().split("-"),a=n?"end":"start",s=r.length,o="classic",l="medium",u="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":o=r[s];break;case"wide":case"narrow":u=r[s];break;case"long":case"short":l=r[s]}var c=t.node.getElementsByTagName("stroke")[0];c[a+"arrow"]=o,c[a+"arrowlength"]=l,c[a+"arrowwidth"]=u},T=function(r,l){r.attrs=r.attrs||{};var h=r.node,d=r.attrs,g=h.style,m=x[r.type]&&(l.x!=d.x||l.y!=d.y||l.width!=d.width||l.height!=d.height||l.cx!=d.cx||l.cy!=d.cy||l.rx!=d.rx||l.ry!=d.ry||l.r!=d.r),v=w[r.type]&&(d.cx!=l.cx||d.cy!=l.cy||d.r!=l.r||d.rx!=l.rx||d.ry!=l.ry),y=r;for(var b in l)l[e](b)&&(d[b]=l[b]);if(m&&(d.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(h.href=l.href),l.title&&(h.title=l.title),l.target&&(h.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||m)&&(h.path=C(~i(d.path).toLowerCase().indexOf("r")?t._pathToAbsolute(d.path):d.path),"image"==r.type&&(r._.fillpos=[d.x,d.y],r._.fillsize=[d.width,d.height],k(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var S=+d.cx,T=+d.cy,U=+d.rx||+d.r||0,M=+d.ry||+d.r||0;h.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",a((S-U)*_),a((T-M)*_),a((S+U)*_),a((T+M)*_),a(S*_))}if("clip-rect"in l){var A=i(l["clip-rect"]).split(c);if(4==A.length){A[2]=+A[2]+ +A[0],A[3]=+A[3]+ +A[1];var E=h.clipRect||t._g.doc.createElement("div"),F=E.style;F.clip=t.format("rect({1}px {2}px {3}px {0}px)",A),h.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=r.paper.width+"px",F.height=r.paper.height+"px",h.parentNode.insertBefore(E,h),E.appendChild(h),h.clipRect=E)}l["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(r.textpath){var P=r.textpath.style;l.font&&(P.font=l.font),l["font-family"]&&(P.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(P.fontSize=l["font-size"]),l["font-weight"]&&(P.fontWeight=l["font-weight"]),l["font-style"]&&(P.fontStyle=l["font-style"])}if("arrow-start"in l&&I(y,l["arrow-start"]),"arrow-end"in l&&I(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var L=h.getElementsByTagName(u),O=!1;if(L=L&&L[0],!L&&(O=L=$(u)),"image"==r.type&&l.src&&(L.src=l.src),l.fill&&(L.on=!0),(null==L.on||"none"==l.fill||null===l.fill)&&(L.on=!1),L.on&&l.fill){var N=i(l.fill).match(t._ISURL);if(N){L.parentNode==h&&h.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile";var R=r.getBBox(1);L.position=R.x+p+R.y,r._.fillpos=[R.x,R.y],t._preload(N[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})}else L.color=t.getRGB(l.fill).hex,L.src=f,L.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=i(l.fill).charAt())&&D(y,l.fill,L)&&(d.fill="none",d.gradient=l.fill,L.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var B=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);B=o(s(B,0),1),L.opacity=B,L.src&&(L.color="none")}h.appendChild(L);var j=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0],z=!1;!j&&(z=j=$("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(j.on=!0),("none"==l.stroke||null===l.stroke||null==j.on||0==l.stroke||0==l["stroke-width"])&&(j.on=!1);var V=t.getRGB(l.stroke);j.on&&l.stroke&&(j.color=V.hex),B=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+V.o+1||2)-1);var H=.75*(n(l["stroke-width"])||1);if(B=o(s(B,0),1),null==l["stroke-width"]&&(H=d["stroke-width"]),l["stroke-width"]&&(j.weight=H),H&&1>H&&(B*=H)&&(j.weight=1),j.opacity=B,l["stroke-linejoin"]&&(j.joinstyle=l["stroke-linejoin"]||"miter"),j.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(j.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var W={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};j.dashstyle=W[e](l["stroke-dasharray"])?W[l["stroke-dasharray"]]:f}z&&h.appendChild(j)}if("text"==y.type){y.paper.canvas.style.display=f;var Y=y.paper.span,q=100,G=d.font&&d.font.match(/\d+(?:\.\d*)?(?=px)/);g=Y.style,d.font&&(g.font=d.font),d["font-family"]&&(g.fontFamily=d["font-family"]),d["font-weight"]&&(g.fontWeight=d["font-weight"]),d["font-style"]&&(g.fontStyle=d["font-style"]),G=n(d["font-size"]||G&&G[0])||10,g.fontSize=G*q+"px",y.textpath.string&&(Y.innerHTML=i(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=Y.getBoundingClientRect();y.W=d.w=(X.right-X.left)/q,y.H=d.h=(X.bottom-X.top)/q,y.X=d.x,y.Y=d.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",a(d.x*_),a(d.y*_),a(d.x*_)+1));for(var K=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,Z=K.length;Z>J;J++)if(K[J]in l){y._.dirty=1;break}switch(d["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},D=function(e,a,s){e.attrs=e.attrs||{};var o=(e.attrs,Math.pow),l="linear",u=".5 .5";if(e.attrs.gradient=a,a=i(a).replace(t._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),o(e-.5,2)+o(i-.5,2)>.25&&(i=r.sqrt(.25-o(e-.5,2))*(2*(i>.5)-1)+.5),u=e+p+i),f}),a=a.split(/\s*\-\s*/),"linear"==l){var c=a.shift();if(c=-n(c),isNaN(c))return null}var h=t._parseDots(a);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(s),s.on=!0,s.method="none",s.color=h[0].color,s.color2=h[h.length-1].color;for(var d=[],g=0,m=h.length;m>g;g++)h[g].offset&&d.push(h[g].offset+p+h[g].color);s.colors=d.length?d.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=u,s.angle=0):(s.type="gradient",s.angle=(270-c)%360),e.appendChild(s)}return 1},U=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},M=t.el;U.prototype=M,M.constructor=U,M.transform=function(e){if(null==e)return this._.transform;var n,r=this.paper._viewBoxShift,a=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:f;r&&(n=e=i(e).replace(/\.{3}|\u2026/g,this._.transform||f)),t._extractTransform(this,a+e);var s,o=this.matrix.clone(),l=this.skew,u=this.node,c=~i(this.attrs.fill).indexOf("-"),h=!i(this.attrs.fill).indexOf("url(");if(o.translate(-.5,-.5),h||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=o.split(),c&&s.noRotation||!s.isSimple){u.style.filter=o.toFilter();var d=this.getBBox(),g=this.getBBox(1),m=d.x-g.x,v=d.y-g.y;u.coordorigin=m*-_+p+v*-_,k(this,1,1,m,v,0)}else u.style.filter=f,k(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else u.style.filter=f,l.matrix=i(o),l.offset=o.offset();return n&&(this._.transform=n),this},M.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if(t=i(t).split(c),t.length-1&&(e=n(t[1]),r=n(t[2])),t=n(t[0]),null==r&&(e=r),null==e||null==r){var a=this.getBBox(1);e=a.x+a.width/2,r=a.y+a.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},M.translate=function(t,e){return this.removed?this:(t=i(t).split(c),t.length-1&&(e=n(t[1])),t=n(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},M.scale=function(t,e,r,a){if(this.removed)return this;if(t=i(t).split(c),t.length-1&&(e=n(t[1]),r=n(t[2]),a=n(t[3]),isNaN(r)&&(r=null),isNaN(a)&&(a=null)),t=n(t[0]),null==e&&(e=t),null==a&&(r=a),null==r||null==a)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,a=null==a?s.y+s.height/2:a,this.transform(this._.transform.concat([["s",t,e,r,a]])),this._.dirtyT=1,this},M.hide=function(){return!this.removed&&(this.node.style.display="none"),this},M.show=function(){return!this.removed&&(this.node.style.display=f),this},M._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},M.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},M.attr=function(i,n){if(this.removed)return this;if(null==i){var r={};for(var a in this.attrs)this.attrs[e](a)&&(r[a]=this.attrs[a]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==n&&t.is(i,"string")){if(i==u&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=i.split(c),o={},l=0,d=s.length;d>l;l++)i=s[l],i in this.attrs?o[i]=this.attrs[i]:t.is(this.paper.customAttributes[i],"function")?o[i]=this.paper.customAttributes[i].def:o[i]=t._availableAttrs[i];return d-1?o:o[s[0]]}if(this.attrs&&null==n&&t.is(i,"array")){for(o={},l=0,d=i.length;d>l;l++)o[i[l]]=this.attr(i[l]);return o}var p;null!=n&&(p={},p[i]=n),null==n&&t.is(i,"object")&&(p=i);for(var f in p)h("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[e](f)&&p[e](f)&&t.is(this.paper.customAttributes[f],"function")){var g=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var m in g)g[e](m)&&(p[m]=g[m])}p.text&&"text"==this.type&&(this.textpath.string=p.text),T(this,p)}return this},M.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},M.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},M.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},M.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},M.blur=function(e){var i=this.node.runtimeStyle,n=i.filter;n=n.replace(v,f),0!==+e?(this.attrs.blur=e,i.filter=n+p+d+".Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",a(+e||1.5))):(i.filter=n,i.margin=0,delete this.attrs.blur)},t._engine.path=function(t,e){var i=$("shape");i.style.cssText=b,i.coordsize=_+p+_,i.coordorigin=e.coordorigin;var n=new U(i,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),n.type="path",n.path=[],n.Path=f,T(n,r),e.canvas.appendChild(i);var a=$("skew");return a.on=!0,i.appendChild(a),n.skew=a,n.transform(f),n},t._engine.rect=function(e,i,n,r,a,s){var o=t._rectPath(i,n,r,a,s),l=e.path(o),u=l.attrs;return l.X=u.x=i,l.Y=u.y=n,l.W=u.width=r,l.H=u.height=a,u.r=s,u.path=o,l.type="rect",l},t._engine.ellipse=function(t,e,i,n,r){var a=t.path();a.attrs;return a.X=e-n,a.Y=i-r,a.W=2*n,a.H=2*r,a.type="ellipse",T(a,{cx:e,cy:i,rx:n,ry:r}),a},t._engine.circle=function(t,e,i,n){var r=t.path();r.attrs;return r.X=e-n,r.Y=i-n,r.W=r.H=2*n,r.type="circle",T(r,{cx:e,cy:i,r:n}),r},t._engine.image=function(e,i,n,r,a,s){var o=t._rectPath(n,r,a,s),l=e.path(o).attr({stroke:"none"}),c=l.attrs,h=l.node,d=h.getElementsByTagName(u)[0];return c.src=i,l.X=c.x=n,l.Y=c.y=r,l.W=c.width=a,l.H=c.height=s,c.path=o,l.type="image",d.parentNode==h&&h.removeChild(d),d.rotate=!0,d.src=i,d.type="tile",l._.fillpos=[n,r],l._.fillsize=[a,s],h.appendChild(d),k(l,1,1,0,0,0),l},t._engine.text=function(e,n,r,s){var o=$("shape"),l=$("path"),u=$("textpath");n=n||0,r=r||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",a(n*_),a(r*_),a(n*_)+1),l.textpathok=!0,u.string=i(s),u.on=!0,o.style.cssText=b,o.coordsize=_+p+_,o.coordorigin="0 0";var c=new U(o,e),h={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};c.shape=o,c.path=l,c.textpath=u,c.type="text",c.attrs.text=i(s),c.attrs.x=n,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,T(c,h),o.appendChild(u),o.appendChild(l),e.canvas.appendChild(o);var d=$("skew");return d.on=!0,o.appendChild(d),c.skew=d,c.transform(f),c},t._engine.setSize=function(e,i){var n=this.canvas.style;return this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),n.width=e,n.height=i,n.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,i,n,r,a){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,n,r,a]);var o,l,u=this.width,c=this.height,h=1/s(n/u,r/c);return a&&(o=c/r,l=u/n,u>n*o&&(e-=(u-n*o)/2/o),c>r*l&&(i-=(c-r*l)/2/l)),this._viewBox=[e,i,n,r,!!a],this._viewBoxShift={dx:-e,dy:-i,scale:h},this.forEach(function(t){t.transform("...")}),this};var $;t._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),$=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){$=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,n=e.height,r=e.width,a=e.x,s=e.y;if(!i)throw new Error("VML container not found.");var o=new t._Paper,l=o.canvas=t._g.doc.createElement("div"),u=l.style;return a=a||0,s=s||0,r=r||512,n=n||342,o.width=r,o.height=n,r==+r&&(r+="px"),n==+n&&(n+="px"),o.coordsize=1e3*_+p+1e3*_,o.coordorigin="0 0",o.span=t._g.doc.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(o.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,n),1==i?(t._g.doc.body.appendChild(l),u.left=a+"px",u.top=s+"px",u.position="absolute"):i.firstChild?i.insertBefore(l,i.firstChild):i.appendChild(l),o.renderfix=function(){},o},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var A=t.st;for(var E in M)M[e](E)&&!A[e](E)&&(A[E]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(E))}(window.Raphael),function(){Object.keys||(Object.keys=function(){var t,e,i,n;return n=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=t.length,function(r){var a,s,o;if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");o=[];for(s in r)n.call(r,s)&&o.push(s);if(i)for(a=0;e>a;)n.call(r,t[a])&&o.push(t[a]),a++;return o}}())}.call(this),function(){String.prototype.humanize=function(){var t;return t=this.replace(/.*\//g,""),t=t.replace(/_/g," "),t=t.charAt(0).toUpperCase()+t.slice(1)},String.prototype.camelize=function(){return this.replace(/(\-|_|\.|\s)+(.)?/g,function(t,e,i){return i?i.toUpperCase():""}).replace(/^([A-Z])/,function(t,e,i){return t.toLowerCase()})},String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,"")})}.call(this),function(){this.Confirmer={initialize:function(){return $.rails.allowAction=function(t){return t.attr("data-confirm")?(Confirmer.showConfirm(t),!1):!0},UIComponent.$window.resize(function(){return Confirmer.center(Confirmer.confirmDialog())}),UIComponent.mixin(Confirmer,UIMixins.ModalMixin)},handleConfirm:function(t){var e;return e=t.attr("data-confirm"),t.removeAttr("data-confirm").trigger("click.rails"),t.attr("data-confirm",e)},close:function(){return $("body #UJSConfirmLayer").remove(),$("body .UJSConfirm").remove()},showConfirm:function(t){var e,i;return i={title:t.attr("data-confirm-title"),message:t.attr("data-confirm"),ok:t.attr("data-confirm-ok"),cancel:t.attr("data-confirm-cancel")},e=this.setupBasicConfirm(i),e.on("click",'a[data-tag="cancel"]',function(){return Confirmer.close()}),e.on("click",'a[data-tag="confirm"]',function(){return Confirmer.close(),Confirmer.handleConfirm(t)})},setupBasicConfirm:function(t){var e,i;return t.title||(t.title=I18n.t("ujs_confirm.title")),t.ok||(t.ok=I18n.t("ujs_confirm.ok")),t.cancel||(t.cancel=I18n.t("ujs_confirm.cancel")),i=SMT["templates/ujs_confirm"]({title:t.title,message:t.message,ok:t.ok,cancel:t.cancel}),$("#proxy-reserve").append(i),$(this).trigger("opened"),e=Confirmer.confirmDialog(),Confirmer.center(e),UIComponent.$document.on("keyup",function(t){return Events.isEscKey(t)?Confirmer.close():void 0}),e},confirmDialog:function(){return $("body .UJSConfirm")},opened:function(){}}}.call(this),function(){this.UIMethods={},this.UIMethods.redirectTo=function(t,e){return void 0===e&&(e=window),e.location=t},this.UIMethods.redirectBack=function(t){return void 0===t&&(t=window),t.history.go(-1)}}.call(this),function(){this.Notifier={initialize:function(){var t,e,i,n;return $.ajaxSettings.dataType="json","undefined"!=typeof flash_errors&&(e=new FlashMessage("error",flash_errors),Notifier.showMessage(e)),"undefined"!=typeof flash_notice&&(i=new FlashMessage("success",flash_notice),Notifier.showMessage(i)),"undefined"!=typeof flash_warning&&(n=new FlashMessage("warning",flash_warning),Notifier.showMessage(n)),t=$("body"),t.ajaxSuccess(function(t,e,i){var n,r,a;Notifier.enableSubmit(),r=e.getResponseHeader("content-type")||"",r.match("application/json")&&(a=$.parseJSON(e.responseText),a.message_type?Notifier.showMessage(new FlashMessage(a.message_type,a.message)):a.message&&(n=new FlashMessage("success",a.message),Notifier.showMessage(n)))}),t.ajaxError(function(t,e,i){var n,r,a;Notifier.enableSubmit({forceEnableAll:!0}),r=e.getResponseHeader("content-type")||"",r.match("application/json")&&(a=$.parseJSON(e.responseText),e.status>=300&&e.status<=399?UIMethods.redirectTo(a.location):(n=new FlashMessage("error",a),Notifier.showMessage(n)))})},showMessage:function(t){var e,i,n,r,a;return $("#notification-container .notification").remove(),i=$(t.notificationHtml).hide().appendTo("#notification-container"),n=i.find(".slider"),e=i.find(".close"),r=i.outerHeight(),i.css("bottom","-"+r+"px").show(),a=n.outerHeight()+20,n.css("bottom","-"+a+"px"),i.animate({bottom:0},400,function(){return n.animate({bottom:0},200,function(){return"error"!==t.messageType?setTimeout(function(){return Notifier.hideMessage()},3e3):void 0})}),e.on("click",function(t){return t.preventDefault(),Notifier.hideMessage()})},hideMessage:function(){var t,e;return t=$("#notification-container .slider"),e=t.outerHeight(),t.animate({bottom:"-"+e+"px"},200,function(){var e;return e=t.parent().outerHeight(),t.parent().animate({bottom:"-"+e+"px"},400,function(){return t.parent().remove()})})},enableSubmit:function(t){var e;return null==t&&(t={}),e="form .save[disabled='disabled']",t.forceEnableAll||(e+=":not(.notifier-ignore-enable)"),$(e).removeAttr("disabled")}},this.redirect_to=function(t){return Logger.deprecate("Method Deprecation: redirect_to - Use UIMethods.redirectTo instead"),UIMethods.redirectTo(t)}}.call(this),function(){var t,e,i,n;this.bigDecimal=function(t,e){return null==e&&(e={}),n(t)?new BigDecimal(t,e):void 0},this.BigDecimal=function(){function t(e,r){if(null==r&&(r={}),e instanceof t)return e;if(n(e)){if(!(this instanceof t))return new t(e,r);r.isFormatted&&(e=t.removeDelimiter(e)),this.val=t.sanitize(e),this.number=i(this.val)}}return t}(),this.BigDecimal.toFixed=function(t,e){var r;return null==e&&(e=2),n(t)?r=i(t).toFixed(e):void 0},this.BigDecimal.formatted=function(t){return n(t)?(t=BigDecimal.sanitize(t),BigDecimal.toFixed(t)):void 0},this.BigDecimal.sanitize=function(t){var e,i,r,a;if(n(t))return a=I18n.t("number.format.separator"),e=/[^0-9-.\+\-]/g,i=/[^.]*.[^.]*/,r=/\.$/,t&&(t=t.replace(a,"."),parseFloat(t)!==Number(t)&&(t=t.replace(e,"")||"0"),t.length>0&&(t=t.match(i)[0].replace(r,""))),t&&t.length>0?t:"0"},this.BigDecimal.removeDelimiter=function(t){return n(t)?"number"==typeof t?t:(t=""+t,t.replace(I18n.t("number.format.delimiter"),"")):void 0},this.BigDecimal.prototype.add=function(e){var i,r;if(n(e))return i=t(e),r=this.number.add(i).toString(),bigDecimal(r)},this.BigDecimal.prototype.subtract=function(e){var i,r;if(n(e))return i=t(e),r=this.number.subtract(i).toString(),bigDecimal(r)},this.BigDecimal.prototype.divide=function(e){var i,r;if(n(e))return i=t(e),r=this.number.divide(i).toString(),bigDecimal(r)},this.BigDecimal.prototype.multiply=function(e){var i,r;if(n(e))return i=t(e),r=this.number.multiply(i).toString(),bigDecimal(r)},this.BigDecimal.prototype.valueOf=function(){return this.val},this.BigDecimal.prototype.toString=function(){return BigDecimal.formatted(this.val)},this.BigDecimal.prototype.toPreciseString=function(t){return null==t&&(t=2),e(this.val.toString(),t)},this.BigDecimal.prototype.toFormatted=function(){var t,e;return e=this.toString(),t=I18n.toNumber(e,{delimiter:I18n.t("number.format.delimiter"),separator:I18n.t("number.format.separator")})},this.BigDecimal.prototype.toPlainObject=function(){var t;return t=BigDecimal.formatted(this.val),t.toString()},this.BigDecimal.prototype.isNegative=function(){return this.val<0},this.BigDecimal.prototype.abs=function(){return""+Math.abs(this.val)},e=function(t,e){var n,r,a;return null==e&&(e=2),n=t.split("."),a=n[1]||"",-1===t.indexOf(".")||a.length<e?(r=i(t),r.toFixed(e)):t},i=function(t){return new BigNumber(t)},t=function(t){return"object"==typeof t&&t.number?t.number:i(BigDecimal.sanitize(t))},n=function(t){var e;return"number"==typeof t?(e="Error: BigDecimal does not accept Number values. To maintain accuracy please provide a String or an instance of BigDecimal instead.",Logger.error(e),!1):!0}}.call(this),function(){var t;this.Browser={},t=function(){var t,e,i,n;return n=navigator.userAgent,/msie/i.test(n)?{msie:!0,version:n.match(/msie (\d+(\.\d+)?)/i)[1]}:/iP(od|hone|ad)/.test(n)?(e=/ipad/i.test(n),i=/iphone/i.test(n),{ios:!0,ipad:e,iphone:i}):(t=/chrome/i.test(n),t?{chrome:!0}:/safari/i.test(n)&&!t?{safari:!0}:/firefox/i.test(n)?{firefox:!0}:void 0)},$.extend(this.Browser,t()),$.extend(this.Browser,{userAgent:navigator.userAgent,isIE:function(){return!!this.msie},isIE7:function(){return this.isIE()&&"7.0"===this.version},isIE8:function(){return this.isIE()&&"8.0"===this.version},isIOS:function(){return!!this.ios},isLessThanIE:function(t){return this.isIE()&&parseInt(this.version)<t}})}.call(this),function(){this.CurrencyFormatter=function(){function t(t){this.value=t instanceof BigDecimal?t:BigDecimal(t)}return t.prototype.formatted=function(){var t,e,i;return e=I18n.t("number.currency.format"),i=this.value.isNegative()?"negative_":"",t=I18n.toCurrency(this.value.abs(),{precision:e.precision,separator:e.separator,delimiter:e.delimiter,format:e[i+"format"],unit:e.unit})},t}()}.call(this),function(){this.DateFormatter={dateRegex:/^((\d{2}|\d{4})\/?){2}(\d{2}|\d{4})$/,datePreFilter:/^((\d{1}\/)|((\d{2}|\d{4})\/?)){2}((\d{1})|((\d{2}|\d{4})))$/,formatted:function(t){var e,i,n,r,a,s,o,l,u,c,h,d;if(0===t.length)return"";if(t=this.sanitize(t),this.unformat(t).length<4)return!1;if(this.unformat(t).length>8)return!1;if(!this.datePreFilter.test(t))return!1;if(s=I18n.t("date.formats.javascript"),n=s.match(/[.-\/]/g),!n)return!1;if(n=n[0],!this.dateRegex.test(t)&&(t=this.padZeros(t,n),!this.dateRegex.test(t)))return!1;for(c=s.split(n),e=this.unformat(t),a=e.length,h=0,i=1,o=0,d=1970,r=0;r<c.length;){switch(u=c[r]){case"dd":i=e.substring(h,h+2),h+=2;break;case"mm":o=e.substring(h,h+2),o=Number(o)-1,h+=2;break;case"yy":case"yyyy":6===a?(d=e.substring(h,h+2),d=Number(d)>50?"19"+d:"20"+d,h+=2):(d=e.substring(h,h+4),h+=4);break;default:return!1}r++}return o>=12?!1:i>31?!1:(l=new Date(d,o,i),l.getMonth()!==o?!1:l)},sanitize:function(t){return t.replace(/[^0-9.\/-]/g,"").replace(/[-.]/g,"/")},unformat:function(t){return t.replace(/[^0-9]/g,"")},padZeros:function(t,e){var i,n;for("string"!=typeof t&&(t=t.toString()),n=t.split(e),i=0;i<n.length;)1===n[i].length&&(n[i]="0"+n[i]),i++;return n.join(e)}}}.call(this),function(){this.decimal=function(t){return new Decimal(t)},this.Decimal=function(){function t(e){return Logger.deprecate("Warning: Decimal is deprecated. Please use BigDecimal instead"),this instanceof t?(e=t.removeDelimiter(e),void(this.val=t.sanitize(e))):new t(e)}return t}(),this.Decimal.toFixed=function(t){var e,i,n,r,a,s,o,l,u;switch(Logger.deprecate("Warning: Decimal is deprecated. Please use BigDecimal instead"),n=parseFloat(t),l=0>n?"-":"",i=100,n=Math.abs(n),e=n*i,o=0,10*e%10>=5&&(o=1),s=Math.floor(e+o)/i,u=s.toString().split("."),a=u[0],r=u[1],"undefined"==typeof r&&(r="0"),r.length){case 0:r="00";break;case 1:r+="0"}return""+l+a+"."+r},this.Decimal.formatted=function(t){return Logger.deprecate("Warning: Decimal is deprecated. Please use BigDecimal instead"),t=Decimal.sanitize(t),Decimal.toFixed(t)},this.Decimal.sanitize=function(t){var e;return Logger.deprecate("Warning: Decimal is deprecated. Please use BigDecimal instead"),t=t||0,"number"==typeof t?t:(t=""+t,t=t.replace(I18n.t("number.format.separator"),"."),e=/[^0-9-.e\+\-]/g,t=parseFloat(t.replace(e,"")),isNaN(t)?0:t)},this.Decimal.removeDelimiter=function(t){return"number"==typeof t?t:(t=""+t,t.replace(I18n.t("number.format.delimiter"),""))},this.Decimal.prototype.add=function(t){return t=Decimal.sanitize(t),this.val=this.val+t,this},this.Decimal.prototype.subtract=function(t){return t=Decimal.sanitize(t),this.val=this.val-t,this},this.Decimal.prototype.divide=function(t){return t=Decimal.sanitize(t),this.val=this.val/t,this},this.Decimal.prototype.multiply=function(t){return t=Decimal.sanitize(t),this.val=this.val*t,this},this.Decimal.prototype.valueOf=function(){return this.val},this.Decimal.prototype.toString=function(){var t;return t=Decimal.formatted(this.val),t.replace(".",I18n.t("number.format.separator"))},this.Decimal.prototype.toPlainObject=function(){var t;return t=Decimal.formatted(this.val),t.toString()}}.call(this),function(){var t=[].slice;this.Events={isEventType:function(t,e){return t.type===e},isNavigationKeyup:function(t){return this.isEventType(t,"keyup")?this.isNavigationKey(t):!1},isEnterKeyup:function(t){return this.isEventType(t,"keyup")?this.isEnterKey(t):!1},isValidKeypress:function(t){return this.isEventType(t,"keyup")?t.which>=48&&t.which<=90?!0:t.which>=96&&t.which<=111?!0:t.which>=186&&t.which<=192?!0:t.which>=219&&t.which<=222?!0:32===t.which||46===t.which||8===t.which?!0:!1:!1},isNumberKey:function(t){return t.which>=48&&t.which<=57||t.which>=96&&t.which<=105},isNavigationKey:function(t){return t.which>=37&&t.which<=40},isLeftKey:function(t){return 37===t.which},isUpKey:function(t){return 38===t.which},isRightKey:function(t){return 39===t.which},isDownKey:function(t){return 40===t.which},isMetaKey:function(t){return t.metaKey},isEscKey:function(t){return 27===t.which},isEnterKey:function(t){return 13===t.which},isTabKey:function(t){return 9===t.which},isBackspaceKey:function(t){return 8===t.which},isDeleteKey:function(t){return 46===t.which},isDeletingKey:function(t){return this.isDeleteKey(t)||this.isBackspaceKey(t)},isShiftKey:function(t){return t.shiftKey||16===t.which},isSpaceKey:function(t){return 32===t.which},deprecate:function(t,e,i,n){return this.trigger(e,i,n)},trigger:function(t,e,i){return t.trigger(e,i)},watch:function(e,i,n){return e.on(i,function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],i=e.shift(),n(i,e)})}}}.call(this),function(){this.FlashMessage=function(){function t(t,e){this.messageType=t,this.message=this.parseMessage(e),this.notificationHtml=this.buildNotificationHtml()}return t.prototype.buildNotificationHtml=function(){return'<div class="notification '+this.messageType+'"><div class="slider"><div class="slider-icon"></div><div class="slider-content">'+(this.message.title+this.message.description)+'</div><a href="#" class="close"></a><div class="cf"></div></div>'},t.prototype.parseMessage=function(t){var e,i;return i=this.getTitle(t),e=this.getDescription(t),{title:this.formatTitle(i),description:this.formatDescription(e)}},t.prototype.getTitle=function(t){return $.isPlainObject(t)&&t.title?t.title:"error"===this.messageType?I18n.t("notifications.error.title"):I18n.t("notifications.success.title")},t.prototype.getDescription=function(t){return $.isPlainObject(t)&&t.description?t.description:t},t.prototype.formatTitle=function(t){return"<h3>"+t+"</h3>"},t.prototype.formatDescription=function(t){var e,i,n;return i=$.isPlainObject(t),e=_.isArray(t),e||i?(n='<ul class="message">',_.forEach(t,function(t){return function(e,r){return e=t.findMore(e),n+="<li>",n+=i&&!/(^base|\.base)$/.test(r)?r+": "+e:e,n+=t.messageTypeIcon(),n+="</li>"}}(this)),n+="</ul>"):'<span class="message">'+(this.findMore(t)+this.messageTypeIcon())+"</span>"},t.prototype.findMore=function(t){var e,i,n,r,a;return"string"!=typeof t?t:(n=t.split("::more::"),n.length>1&&(a=n[0].trim(),e=n[1].trim(),i=I18n.t("notifications.more_info"),r="more_info_"+Math.round(1e9*Math.random()),$("#proxy-reserve").append(SMT["templates/ui_dialog"]({tag:r,title:a,description:e})),t=a+" "+SMT["templates/ui_link"]({target:r,label:i})),t)},t.prototype.messageTypeIcon=function(){switch(this.messageType){case"error":return'<img src="/assets/ico_failure.png" alt="Invalid input icon" />';case"success":return'<img src="/assets/ico_success.png" alt="Successful input icon" />';default:return""}},t}()}.call(this),function(){this.jsObject=function(t){var e,i,n,r;if(t){i=window,n=t.split("."),r=void 0;for(e in n)r=n[e],i[r]=i[r]||{},i=i[r];return i}return{}}}.call(this),function(){this.Logger=function(){var t,e,i,n,r,a;for(n=!1,i=window&&window.console,r=["log","info","debug","warn","error","count","dir","dirxml","group","groupCollapsed","groupEnd","profile","profileEnd","table","time","timeEnd","trace"],a={loggerEnabled:n,deprecations:[]},t=function(t,e){
return i&&a.loggerEnabled&&console[t]&&"function"==typeof console[t]?console[t].apply(console,e):void 0},e=0;e<r.length;)!function(t){return a[t]=function(){}}(r[e]),e++;return a.deprecate=function(){},a.showDeprecations=function(){},a}()}.call(this),function(){Modernizr.addTest("ipad",function(){return Browser.ipad})}.call(this),function(){this.UserPreferenceStore=function(){function t(){}return t}(),this.UserPreferenceStore.prototype.store=function(t,e,i){return $.ajax({url:"/settings/preferences/store",type:"PUT",data:{key:t,value:e},success:function(t){return i&&"function"==typeof i?i():void 0}})},this.UserPreferenceStore.prototype.fetch=function(t){var e;return e="",$.ajax({url:"/settings/preferences/store",type:"GET",data:{key:t},dataType:"json",async:!1,success:function(t){e=t.value}}),e}}.call(this),function(){this.Scroll={initialize:function(){return UIComponent.$window.scroll(function(t){return function(){return t.checkScrolling()}}(this)),this.checkScrolling()},checkScrolling:function(){return UIComponent.$window.scrollTop()>0?UIComponent.$html.addClass("scrolling"):UIComponent.$html.removeClass("scrolling")}}}.call(this),function(){this.Tables={applyRowBanding:function(t){return Tables.createRowBanding(t),$(t).on("refreshed moreLoaded",function(){return Tables.createRowBanding(t)})},createRowBanding:function(t){var e;return e=t.$tbody.find("tr:not(.hidden)"),e.removeClass("even odd"),e.filter(":even").addClass("odd"),e.filter(":odd").addClass("even")}}}.call(this),function(){this.TimeFormatter={timeRegex:/^(\d|[0-1]\d|2[0-3]):([0-5]\d|\d)(?::([0-5]\d|\d))?$/,timePreFilter:/^(\d|[0-1]\d|2[0-3]):([0-5]\d|\d)$|^([0-1]\d|2[0-3])([0-5]\d)$/,localisation:function(){return I18n.t("time.formats.timepicker",{defaultValue:"HH:MM"})},delimiter:function(){var t;return t=this.localisation().match(/[:.-]/),"[object Array]"===Object.prototype.toString.call(t)?t[0]:!1},formatted:function(t){return t.length<3||t.length>8?!1:this.delimiter()?(t=this.sanitize(t),this.timePreFilter.test(t)?(t=this.enforceDelimiter(t,":"),t=this.padZeros(t,":")):!1):!1},format:function(t){var e,i,n,r,a;if(r=t.split(":"),a=this.localisation().split(this.delimiter()),n="",e=void 0,!this.timeRegex.test(t))return!1;for(i=0;i<=a.length;){switch(e=i>0?this.delimiter():"",a[i]){case"HH":n+=e+r[0];break;case"MM":n+=e+r[1]}i++}return n},objectify:function(t){var e,i,n,r;if(i={},n=void 0,r=void 0,t.length<3||t.length>8)return!1;if(!this.delimiter())return!1;if(n=this.localisation().split(this.delimiter()),n.length<1)return!1;if(n.unshift(this.localisation()),r=t.match(this.timeRegex),!r)return!1;for(e=1;e<n.length;){switch(n[e]){case"HH":case"H":case"%H":i.hours=r[e];break;case"MM":case"M":case"%M":i.minutes=r[e];break;case"SS":case"S":case"%S":i.seconds=r[e];break;default:i[n[e]]=r[e],Logger.warn("Unknown time format",n[e])}e++}return i},sanitize:function(t){return t.replace(/[^0-9.:-]/g,"").replace(/[-.]/g,":")},unformat:function(t){return t.replace(/[^0-9]/g,"")},padZeros:function(t,e){var i,n;for("string"!=typeof t&&(t=t.toString()),n=t.split(e),i=0;i<n.length;)1===n[i].length&&(n[i]="0"+n[i]),i++;return n.join(e)},enforceDelimiter:function(t,e){var i;return t.indexOf(e)>=0?t:4!==t.length?t:(i=[],i.push(t.slice(0,2)),i.push(t.slice(2,4)),i.join(e))}}}.call(this),function(){var t;this.UIMixins=null!=(t=this.UIMixins)?t:{}}.call(this),function(){this.UIMixins.FormInputMixin={afterInitialize:function(){return this.$target.find(":input:first").on("change",function(t){return function(){return t.trigger("valueChanged")}}(this))},getValue:function(){return this.$target.find(":input").val()},setValue:function(t){var e;return e=this.getValue(),e=this.toS(e),t=this.toS(t),this.$target.find(":input").val(t),Validations.clearMessages(this.$target),e!==t?this.trigger("valueChanged"):void 0},setMaxLength:function(t){return this.$target.find(":input").attr("maxlength",t)},saveInitialState:function(){return this.initialState=this.getCurrentState()},saveDefaultState:function(){return this.defaultState=this.getCurrentState()},getCurrentState:function(){var t;return t=this.$target.find(":input"),{value:this.getValue(),checked:t.attr("checked")?!0:!1,disabled:t.attr("disabled")?!0:!1,readonly:t.attr("readonly")?!0:!1,selected:t.attr("selected")?!0:!1}},restoreInitialState:function(){var t;return t=this.$target.find(":input"),this.initialState?(this.setValue(this.initialState.value),t.attr("checked",this.initialState.checked),t.attr("disabled",this.initialState.disabled),t.attr("readonly",this.initialState.readonly),t.attr("selected",this.initialState.selected)):void 0},isDirty:function(){var t,e,i,n;return t=this.getCurrentState(),e=this.defaultState,n=this.initialState,i=!1,null!=e?e.value!==t.value&&(i=!0):null!=n&&n.value!==t.value&&(i=!0),i},hasError:function(){return this.$target.hasClass("error")},hasWarning:function(){return this.$target.hasClass("warning")},hasMaxLengthValidator:function(){var t,e;return e=this.$target.attr("class"),t=e.match(/length_maximum-\d+/),t&&null!=t},getMaxLengthValidator:function(){var t,e,i;return e=this.$target.attr("class"),t=e.match(/length_maximum-\d+/),t&&null!=t?(i=t.shift(),i.replace(/length_maximum-/,"")):void 0},addValidation:function(t){return this.$target.addClass(t),this},removeValidation:function(t){return Validations.removeErrorMarkup(this.$target),this.$target.removeClass(t),this},hasValidation:function(t){return this.$target.hasClass(t)},isReadonly:function(){var t;return t=this.$target.find(":input"),t.is("[readonly]")},setReadonly:function(t){var e;return null==t&&(t=!0),e=this.$target.find(":input"),e.attr("readonly",t)},isDisabled:function(){var t;return t=this.$target.find(":input"),t.is(":disabled")},setDisabled:function(t){var e;return null==t&&(t=!0),e=this.$target.find(":input"),e.attr("disabled",t)},disable:function(){return this.setDisabled()},enable:function(){return this.setDisabled(!1)},toS:function(t){return t?null!=t.toString?t.toString():t:void 0},helpInline:function(){return this.child_with_tag("input-help-inline")},helpPopOver:function(){return this.child_with_tag("input-help-pop-over")}}}.call(this),function(){this.UIMixins.Hideable={show:function(){return this.$target.removeClass("hidden"),this.trigger("shown")},hide:function(){return this.$target.addClass("hidden"),this.trigger("hidden")},toggle:function(t){return null==t&&(t=!this.isShown()),t?this.show():this.hide()},isShown:function(){return!this.$target.hasClass("hidden")},hideWithValidations:function(){return this.hide(),Validations.disableValidations(this.$target),Validations.clearMessages(this.$target)},showWithValidations:function(){return this.show(),Validations.enableValidations(this.$target)},toggleWithValidations:function(t){return null==t&&(t=!this.isShown()),t?this.showWithValidations():this.hideWithValidations()}}}.call(this),function(){this.UIMixins.InputIconMixin={inputIcon:function(){return this._inputIcon=this.$target.find(".input-icon"),this._inputIconField=this.$target.find(".visible"),this._inputIcon.on("click",function(t){return function(){return t._inputIconField.focus()}}(this)),this._inputIcon.on("mousedown",function(t){return function(e){return t._inputIconField.is(":focus")?e.preventDefault():void 0}}(this))}}}.call(this),function(){this.UIMixins.ListHandler={getNext:function(t,e){var i;return i=e+1,i>=t.length?0:i},getPrevious:function(t,e){var i;return i=e-1,0>i?t.length-1:i},handleHighlight:function(t){var e,i,n,r,a,s,o,l,u,c,h;return l=this.$target.find(".results li:not(.group):not(.hidden)"),a=this.$target.find(".results li.selected"),h=$(l).index(a),i=this.$target.find(".results li.select"),s=$(l).index(i),l.length<=0||Events.isLeftKey(t)||Events.isRightKey(t)?!1:(0>s?c=0>h?0:h:Events.isDownKey(t)?c=this.getNext(l,s):Events.isUpKey(t)&&(c=this.getPrevious(l,s)),e=l.first(),r=l.eq(c),n=this.$target.find(".results ul"),o=r.outerHeight(),u=n.outerHeight(),r.position().top+o>u?n.scrollTop(r.position().top-e.position().top-(u-o)):r.position().top<0&&n.scrollTop(r.position().top-e.position().top),r.addClass("select"),s>=0?$(l.eq(s)).removeClass("select"):void 0)},highlightMatches:function(t,e){var i,n,r,a,s,o;return s=t.toLowerCase(),o=s.indexOf(e),-1===o?t:(i=t.substr(0,o),r=t.substr(o,e.length),n=t.substr(o+e.length,t.length),-1!==n.indexOf(e)&&(n=this.highlightMatches(n,e)),a=i+("<strong><u>"+r+"</u></strong>"+n))}}}.call(this),function(){this.UIMixins.ModalMixin={center:function(t,e){var i,n,r,a,s,o,l;return n=t.outerHeight(),r=t.outerWidth(),o=UIComponent.$window.height(),l=UIComponent.$window.width(),s=UIComponent.$window.scrollTop(),a=UIComponent.$window.scrollLeft(),i=(o-n)/2+s,e&&(i-=s),50>i&&(i=50),t.offset({top:i,left:(l-r)/2+a})}}}.call(this),function(){this.UIMixins.PaginatorMixin={set_current_page:function(t){return this.current_page=t,this.update_buttons()},set_total_records:function(t){return this.total_records=t,this.update_buttons()},total_pages:function(){return this.page_size?Math.max(Math.ceil(this.total_records/this.page_size),1):1},update_buttons:function(){var t,e;return t=this.current_page===this.total_pages(),e=1===this.current_page,this.more&&this.more.toggleClass("disabled",t),this.next&&this.next.toggleClass("disabled",t),this.prev?this.prev.toggleClass("disabled",e):void 0}}}.call(this),function(){this.UIMixins.PlaceholderMixin={applyDefaultValue:function(t,e){return Browser.isLessThanIE(10)?t.val()?void 0:t.val(e):t.attr("placeholder",e)},removeDefaultValue:function(t,e){return Browser.isLessThanIE(10)?t.val()===e?t.val(""):void 0:t.removeAttr("placeholder")}}}.call(this),function(){this.UIMixins.TitleMixin={getTitle:function(){return this.$target.find("h1.title:first").text()},setTitle:function(t){return this.$target.find("h1.title:first").text(t)}}}.call(this),function(){this.UIMixins.ValidNumberMixin={checkInput:function(t,e){var i,n,r,a,s,o,l;return Events.isMetaKey(t)||Events.isEnterKey(t)?!0:(s=String.fromCharCode(t.which),n=s.charCodeAt(0),0===n||8===n?!0:(o=e.val(),i=e.caret(),r=o.substring(0,i.start),a=o.substring(i.start+i.text.length,o.length),l=r+s+a,this.isValidNumber(l)))},isValidNumber:function(t){var e,i;return e=new RegExp("^[-]?\\d*$"),i=e.test(t)}}}.call(this),function(){this.UIComponent=function(){},this.UIComponent.widgets={},this.UIComponent.$window=$(window),this.UIComponent.$document=$(document),this.UIComponent.$html=$(document.documentElement),this.UIComponent.$body=$(document.body),this.UIComponent.prototype.initialize=function(t){return this.constructor.instances.push(this),this.target=t,this.$target=$(t),UIComponent.$body=$(document.body)},this.UIComponent.prototype.extractOptions=function(){var t;return t=this.$target.data(),t.delegate&&delete t.delegate,t.uiWidget&&delete t.uiWidget,t},this.UIComponent.prototype.extractRawOptions=function(){var t,e,i;return Browser.isLessThanIE(11)?(i=this.extractOptions(),i=_.mapValues(i,function(t){return t.toString()})):(t=this.target.dataset,e=$.extend(!0,{},t),e.delegate&&delete e.delegate,e.uiWidget&&delete e.uiWidget,e)},this.UIComponent.prototype.toObject=function(t){var e,i,n;return n=t||this.$target,i={},e=$(n).find("input, select, checkbox, textarea").serializeArray(),$.each(e,function(t,e){i[e.name]=e.value}),i},this.UIComponent.prototype.child_with_tag=function(t){var e,i,n,r,a,s;for(a=t.toString().split("."),n=this,e=void 0,r=void 0,s=void 0,i=0;i<a.length;){if(e=n.$target.find('[data-tag="'+a[i]+'"]')[0],!e)return;if(r=$(e).data("proxyElement"),r&&(e=$("html").find('[data-proxy-target="'+r+'"]')[0]),!e)return;n=this.retrieveComponent(e),i++}return n?n:void 0},this.UIComponent.prototype.parent_with_tag=function(t){var e,i,n,r;return i=this,e=void 0,r=void 0,n=i.$target.data("proxyTarget"),r=n?$("html").find('[data-proxy-element="'+n+'"]'):i.$target,(e=r.parents('[data-tag="'+t+'"]')[0])?this.retrieveComponent(e):void 0},this.UIComponent.prototype.parent_of_type=function(t){var e,i,n,r;return i=this,e=void 0,r=void 0,n=i.$target.data("proxyTarget"),r=n?$("html").find('[data-proxy-element="'+n+'"]'):i.$target,0!==t.indexOf(".")&&(t="."+t),(e=r.parents(t)[0])?this.retrieveComponent(e):void 0},this.UIComponent.prototype.childrenOfType=function(t){var e;return e=this.$target.find('[data-ui-widget="'+t+'"]'),e=$.map(e,function(t){return function(e,i){return t.retrieveComponent(e)}}(this)),$(e)},this.UIComponent.prototype.children=function(){var t;return t=this.$target.find("[data-ui-widget]"),t=$.map(t,function(t){return function(e,i){return t.retrieveComponent(e)}}(this)),$(t)},this.UIComponent.prototype.retrieveComponent=function(t){return UIComponent.retrieveComponent(t)},this.UIComponent.retrieveComponent=function(t){var e;return e=$(t).data("ui-widget"),window[e]?UIComponent.findOrCreateInstance(e,t):UIComponent.createRuntimeComponent(e,t)},this.UIComponent.createRuntimeComponent=function(t,e){return window[t]=widget(t),window[t].prototype.initialize=function(e){return window[t].superclass.initialize.call(this,e)},new window[t](e)},this.UIComponent.findOrCreateInstance=function(t,e){var i,n;for(n=window[t].instances,i=0;i<n.length;){if(e===n[i].$target[0])return n[i];++i}return new window[t](e)},this.UIComponent.initialize_widgets=function(t){"undefined"==typeof t&&(t="body"),$(t).find("[data-ui-widget]").each(function(){var t,e,i;t=$(this),i=t.data("ui-widget"),e=void 0,UIComponent.widgets[i]?UIComponent.findOrCreateInstance(i,this):t.data("delegate")&&UIComponent.createRuntimeComponent(i,this)})},this.UIComponent.initialize=function(){return UIComponent.root_element=new UIComponent,UIComponent.root_element.$target=$(document.body),UIComponent.initialize_widgets()},this.UIComponent.mixin=function(t,e){return $.extend(t,e)},this.UIComponent.redirect_to=function(t){return Logger.deprecate("Method Deprecation: redirect_to - Use UIMethods.redirectTo instead"),UIMethods.redirectTo(t)},this.UIComponent.redirect_back=function(){return Logger.deprecate("Method Deprecation: redirect_back - Use UIMethods.redirectBack instead"),UIMethods.redirectBack()},this.UIComponent.prototype._ui=function(t){return _ui(t,this)},this.UIComponent.prototype.trigger=function(t,e){var i;return i=$(this),Events.trigger(i,t,e)},this.UIComponent.prototype.watch=function(t,e){var i;return i=$(this),Events.watch(i,t,e)},this.UIComponent.mixin(this.UIComponent.prototype,this.UIMixins.Hideable)}.call(this),function(){this.UIDelegate=function(){function t(){}return t}(),this.delegate=function(t,e){var i,n,r,a,s;for(r="Deprecation: Delegates are being deprecated, please use JSMVC instead.",Logger.deprecate(r),i=function(){},s=window,a=t.split("."),n=0;n<a.length;)n===a.length-1?s[a[n]]=s[a[n]]||i:s[a[n]]=s[a[n]]||{},s=s[a[n]],n++;e||(e=UIDelegate),extend(s,e),s.instances=s.instances||[]}}.call(this),function(){this.UIFormInputs={types:[],register:function(t){return this.types.push(t),this.types.sort()}}}.call(this),function(){this.Unsaved={initialize:function(){return this.forms=[],this.enable(),this.initializeDefaultState()},shouldEnable:function(){return!0},enable:function(t){(this.shouldEnable()||t)&&(this.forms=UIForm.instances,window.onbeforeunload=this.handleUnload)},initializeDefaultState:function(){var t,e,i,n;for(n=this.forms,e=0,i=n.length;i>e;e++)t=n[e],t.isDirty()&&t.saveDefaultState()},disable:function(){this.forms=[],window.onbeforeunload=null},handleUnload:function(){return Unsaved.hasUnsaved()?(setTimeout(function(t){return function(){return SopAuthentication.heartbeat.beat()}}(this),100),I18n.t("unsaved.message")):void 0},hasUnsaved:function(){var t,e,i,n;for(n=this.forms,e=0,i=n.length;i>e;e++)if(t=n[e],t.isDirty()&&t.isVisible())return!0;return!1}}}.call(this),function(){this.Validations={validators:{},globalRules:["xss_characters"],disableValidations:function(t){var e;return e=$(t),e.addClass("disable-validations")},enableValidations:function(t){var e;return e=$(t),e.removeClass("disable-validations")},isFieldValid:function(t,e){var i,n,r,a,s,o,l,u,c,h,d,p,f,g,m,v;return i=$(t),n=i.find(':input[name][name!=""]'),g={status:!0},r=void 0,s=void 0,o=void 0,i.closest(".disable-validations").length?g:n.prop("disabled")&&!i.hasClass("validate_when_disabled")?g:(r=n.filter(":visible"),r.prop("readonly")&&!i.hasClass("validate_when_readonly")?g:(s=i.attr("class"),o=n.val(),h="-",m=!0,c=void 0,d=void 0,v=void 0,u=void 0,a=Validations.globalRules.concat(s.split(/\s+/)),_.forEach(a,function(e){return c=[],d=e.indexOf(h),d>-1&&(c=[e.substr(d+1)],e=e.substr(0,d)),v=Validations.validators[e],v?(u={element:t,content:o,validation:c},m=v(u)):void 0}),f={status:m},m||(p=[e,Validations.extractFieldName(i),v.translation_key],c.length&&(l=c[0]||"",~l.indexOf(".")&&(l=bigDecimal(l).toFormatted()),p.push({count:l})),f.message=Validations.translateErrorMessage.apply(this,p)),f))},validateField:function(t,e,i){var n,r,a,s,o,l,u,c;return i=i||{},u=i.skipFormUpdate===!0,r=$(t),n=r.closest("[data-ui-widget]"),l=i.$form||r.closest("form"),c=Validations.isFieldValid(n,e),c.status||n.hasClass("error")?c.status&&n.hasClass("error")&&Validations.removeErrorMarkup(t,n):(o={type:"error",message:c.message},s=$(SMT["templates/inline_message"](o)).css("display","block"),a=$(SMT["templates/inline_message_icon"](o)),Validations.placeErrorMarkup(t,n,s,a)),u||this.formUpdateActions(l),c.status},placeErrorMarkup:function(t,e,i,n){var r;if(!e.hasClass("error"))return Validations.removeErrorMarkup(t,e),e.addClass("error"),Validations.highlightHiddenFields(e,n),r=$(t),i.hide(),e.append(i),setTimeout(function(){return i.stop(!0,!0).slideDown(100)},0),r.after(n),t.errorMessage=i,t.errorIcon=n,n.on("click",function(){return r.focus()}),e.off("clearMessage.errorMarkup"),e.on("clearMessage.errorMarkup",function(){return Validations.removeErrorMarkup(t,e),$(this).off("clearMessage.errorMarkup")})},highlightHiddenFields:function(t,e){var i,n,r,a,s;return r=t.parents(".UIPod.collapsible"),r.hasClass("contains-errors")||r.addClass("contains-errors").find(".toggle").append(e.clone()),i=t.parents(".UIForm"),n=i.find(".UITab"),a=n.index(t.parents(".UITab")),a>=0&&(s=t.parents(".UITabs").find(".tab-titles li").eq(a),!s.hasClass("contains-errors"))?s.addClass("contains-errors").find("a, div").append(e.clone()):void 0},removeErrorMarkup:function(t,e){return e=e?e:$(t).closest("[data-ui-widget]"),e.removeClass("error"),Validations.removeHiddenFieldHighlights(e),t.errorMessage&&$(t.errorMessage).stop(!0,!0).slideUp(100,function(){return $(this).remove(),t.errorMessage=null}),t.errorIcon?($(t.errorIcon).remove(),t.errorIcon=null):void 0},removeHiddenFieldHighlights:function(t){var e,i,n;return e=t.parents(".UIPod.collapsible"),e.hasClass("contains-errors")&&0===e.find("[data-ui-widget].error").length&&e.removeClass("contains-errors").find(".toggle .icon-error").remove(),i=t.parents(".UITab").index(".UITab"),i>=0&&(n=t.parents(".UITabs").find(".tab-titles li").eq(i),n.hasClass("contains-errors")&&0===t.parents(".UITab").find("[data-ui-widget].error").length)?n.removeClass("contains-errors").find("a .icon-error, div .icon-error").remove():void 0},validateForm:function(t,e){var i,n,r;return n=void 0,r=!0,i=$(t),i.find(":not(.disable-validations)[data-ui-widget] .field :input").each(function(t,a){n=Validations.validateField(a,e,{skipFormUpdate:!0,$form:i}),r=r&&n}),this.formUpdateActions(i),r},extractFieldName:function(t){var e,i;return i=$(':input[name][name!=""]',t).attr("name"),null==i?"":i.indexOf("[")>-1?(e=i.match(/\[(.*)\]$/)[1],e.replace(/\]\[(?:[0-9]+)\]\[/,".")):i},translateErrorMessage:function(t,e,i,n){var r,a;return a=["activerecord.errors.models."+t+".attributes."+e+"."+i,"activerecord.errors.models."+t+"."+i,"activerecord.errors.messages."+i,"errors.attributes."+e+"."+i,"errors.messages."+i],(r=function(t){return t>=a.length?null:I18n.t(a[t],$.extend({defaultValue:r(t+1)},n))})(0)},clearMessages:function(t){var e,i;return t=t||$("body"),i=t.closest("form"),t.hasClass("error")&&(e=t.find(".field, label")||t,e.trigger("clearMessage")),t.find(".error[data-ui-widget]").each(function(){return e=$(this).find(".field, label")||$(this),e.trigger("clearMessage")}),this.formUpdateActions(i)},setValidationEvents:function(t,e){return t.find(".field :input").each(function(){var t,i;return i=$(this),t=i.closest("[data-ui-widget]"),i.off("focus.validations blur.validations"),i.on("focus.validations",function(){return Validations.clearMessages(t)}),i.on("blur.validations",function(){var t,n,r,a,s,o;return n=$.Event("beforeValidation"),t=$.Event("afterValidation"),i.trigger(n),n.isDefaultPrevented()?void 0:(s=i.closest("[data-ui-widget]")[0],r=!1,null!=s&&(o=UIComponent.root_element.retrieveComponent(s),o&&o.validateField&&(r=!0)),a=r?o.validateField(e):Validations.validateField(this,e),i.trigger(t,a))})})},unsetValidationEvents:function(t){return t.find(".field :input").each(function(){var t;return t=$(this),t.off("focus.validations"),t.off("blur.validations")})},formUpdateActions:function(t){}}}.call(this),function(){var t;this.Validations.validators.script_tags=function(t){return Validations.validators.xss_characters(t)},this.Validations.validators.script_tags.translation_key="invalid_chars",this.Validations.validators.xss_characters=function(t){return/&[a-zA-Z0-9]+;|<(.*)|>(.*)|%3C(.*)|\{|\}|&lt(.*)|&#(.*)|x3c|u003c|\\"|eval\s*\(|\wedirect\s3/i.test(t.content)?!1:!0},this.Validations.validators.xss_characters.translation_key="invalid_chars",this.Validations.validators.presence=function(t){return!!t.content},this.Validations.validators.presence.translation_key="blank",this.Validations.validators.email=function(t){return/(^$)|^([-a-z0-9+._]{1,64})@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i.test(t.content)},this.Validations.validators.email.translation_key="invalid_email",this.Validations.validators.length_minimum=function(t){return t.content?t.content.length>=t.validation:!0},this.Validations.validators.length_minimum.translation_key="too_short",this.Validations.validators.length_maximum=function(t){var e,i,n;return t.content?(i=t.content,n=(i.match(/\n/g)||[]).length,e=i.length+n,e<=t.validation):!0},this.Validations.validators.length_maximum.translation_key="too_long",this.Validations.validators.numericality=function(t){return t.content?!isNaN(parseFloat(t.content))&&isFinite(t.content):!0},this.Validations.validators.numericality.translation_key="not_a_number",this.Validations.validators.numericality_less_than=function(e){return t.call(e)?!0:parseFloat(e.content)<e.validation},this.Validations.validators.numericality_less_than.translation_key="less_than",this.Validations.validators.numericality_less_than_or_equal_to=function(e){return t.call(e)?!0:parseFloat(e.content)<=e.validation},this.Validations.validators.numericality_less_than_or_equal_to.translation_key="less_than_or_equal_to",this.Validations.validators.numericality_greater_than=function(e){return t.call(e)?!0:parseFloat(e.content)>e.validation},this.Validations.validators.numericality_greater_than.translation_key="greater_than",this.Validations.validators.numericality_greater_than_or_equal_to=function(e){return t.call(e)?!0:parseFloat(e.content)>=e.validation},this.Validations.validators.numericality_greater_than_or_equal_to.translation_key="greater_than_or_equal_to",t=function(){var t,e;return this.content?"-0.00"===this.content?!1:(e=parseFloat(this.content),t=$(this.element).hasClass("numericality_allow_blank-true"),t&&0===e):!0}}.call(this),function(){this.Validations.validators.datetime=function(t){var e,i,n,r,a;return e=t.element.find(".date").val(),i=t.element.find(".time").val(),n=DateFormatter.formatted(e)!==!1&&0!==e.length,a=TimeFormatter.formatted(i)!==!1,r=0===e.length&&0===i.length,n&&a||r},this.Validations.validators.datetime.translation_key="wrong_format",this.Validations.validators.time=function(t){var e,i,n;return n=t.element.find(".visible").val(),e=/^([01]?[0-9]|2[0-3]):([0-5][0-9]|[0-9])$/,i=e.test(n)},this.Validations.validators.time.translation_key="wrong_format",this.Validations.validators.date=function(t){var e;return e=t.element.find(".visible").val(),DateFormatter.formatted(e)!==!1},this.Validations.validators.date.translation_key="wrong_format",this.Validations.validators.date_range=function(t){var e,i,n,r,a,s;return e=$(t.element),n=e.closest('[data-ui-widget="UIDateRange"]').get(0),i=UIComponent.root_element.retrieveComponent(n),s=i.getStartDate(),r=i.getEndDate(),a=null==s||null==r?!0:r>=s,a&&(Validations.clearMessages(e),i.rangeChanged()),a},this.Validations.validators.date_range.translation_key="date_range",this.Validations.validators.date_range_valid=function(t){var e,i,n,r,a,s,o;return e=$(t.element),i=e.closest('[data-ui-widget="UIDate"]').get(0),s=UIComponent.root_element.retrieveComponent(i),n=s.targetEndDate,o=s._parseDate(s.getValue()),r=n._parseDate(n.getValue()),a=null==o||null==r?!0:r>=o},this.Validations.validators.date_range_valid.translation_key="date_range",this.Validations.validators.date_bounds_valid=function(t){var e,i,n,r,a,s;return i=$(t.element),e=UIComponent.root_element.retrieveComponent(i),s=new Date(t.content),a=!0,e.maxDate&&(n=new Date(e.maxDate),a=n>=s),a&&e.minDate&&(r=new Date(e.minDate),a=s>=r),a},this.Validations.validators.date_bounds_valid.translation_key="date_bounds_invalid",this.Validations.validators.sort_code=function(t){var e;return e=$(t.element).find(".hidden").val(),UISortCode.isValidSortCode(e)},this.Validations.validators.sort_code.translation_key="invalid_sort_code",this.Validations.validators.table_fields_for=function(t){var e,i;return i=UIComponent.root_element.retrieveComponent(t.element),e=i.$target.find("tbody tr:not(.placeholderRow)"),e.length>0},this.Validations.validators.table_fields_for.translation_key="invalid_table_fields_for",this.Validations.validators.radio_button_required=function(t){var e;return e=UIComponent.root_element.retrieveComponent(t.element),e.$target.find("input:radio:checked").length>0},this.Validations.validators.radio_button_required.translation_key="invalid_radio_button",this.Validations.validators.acceptance=function(t){var e;return e=new UICheckbox($(t.element)),e.getValue()},this.Validations.validators.acceptance.translation_key="accepted"}.call(this),function(){this.Warning=function(){function t(t,e){this.key=t,this.widget=e,this.appended=!1,this.form=e.parent_of_type("UIForm")}return t.clearMessages=function(t){return t.find(".warning").each(function(){return $(this).trigger("clearMessage")})},t}(),this.Warning.prototype.open=function(t){var e,i,n,r,a;return i=this.widget.$target,a=i.hasClass("error"),e=i.find("span.field"),Validations.isFieldValid(i).status?a?void 0:(i.addClass("warning"),this.formUpdateActions(this.form.$target),this.highlightHiddenFields(),this.appended||(n=$("<span />",{"class":"warning",html:I18n.t("warnings.messages."+this.key,t)}),r=$("<i />",{"class":"icon-warning"}),i.append(n),e.append(r),this.appended=!0),i.find("span.warning.hidden").removeClass("hidden"),e.find(".icon-warning.hidden").removeClass("hidden")):void this.close()},this.Warning.prototype.close=function(){var t,e;return e=this.widget.$target,t=e.find("span.field"),e.removeClass("warning"),e.find("span.warning").addClass("hidden"),t.find(".icon-warning").addClass("hidden"),this.removeHiddenFieldHighlights(),this.formUpdateActions(this.form.$target)},this.Warning.prototype.highlightHiddenFields=function(){var t,e,i,n,r;return t=this.widget.$target,e=$("<i />",{"class":"icon-warning"}),i=t.parents(".UIPod.collapsible"),n=t.parents(".UITab").index(".UITab"),i.hasClass("contains-warnings")||i.addClass("contains-warnings").find(".toggle").append(e),n>=0&&(r=t.parents(".UITabs").find(".tab-titles li").eq(n),!r.hasClass("contains-warnings"))?r.addClass("contains-warnings").find("a, div").append(e.clone()):void 0},this.Warning.prototype.removeHiddenFieldHighlights=function(){var t,e,i,n;return t=this.widget.$target,e=t.parents(".UIPod.collapsible"),i=t.parents(".UITab").index(".UITab"),e.hasClass("contains-warnings")&&0===e.find("[data-ui-widget].warning").length&&e.removeClass("contains-warnings").find(".toggle .icon-warning").remove(),i>=0&&(n=t.parents(".UITabs").find(".tab-titles li").eq(i),n.hasClass("contains-warnings")&&0===t.parents(".UITab").find("[data-ui-widget].warning").length)?n.removeClass("contains-warnings").find("a .icon-warning, div .icon-warning").remove():void 0},this.Warning.prototype.formUpdateActions=function(t){}}.call(this),function(){this.extend=function(t,e){var i;return i=function(){},i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.superproto=e.prototype,t.baseConstructor=e,t.superclass=t.superproto},this.WidgetGenerator={generateWidgetConstructor:function(){return function(t){var e,i,n,r,a,s,o,l,u,c;if(n=$.grep(this.constructor.instances,function(e){return e.target===t}),n.length)return n[0];if(this.initialize(t),this.afterInitialize&&this.afterInitialize(),e=$(t),e.data("warnings"))for(c=e.data("warnings").split(","),this.warnings={},a=0;a<c.length;)u=c[a],this.warnings[u]=new Warning(u,this),a++;if(e.data("delegate"))for(i=e.data("delegate").split(","),o=0;o<i.length;){for(l=window,r=i[o].split("."),a=0;a<r.length;)l=l[r[a]],a++;if("function"!=typeof l)return;s=new l,s.delegator=this,$.extend(!0,this,s),s.initialize&&s.initialize(),l.instances.push(s),o++}}},makeConstructorAWidget:function(t,e,i){return i||(i=UIComponent),extend(t,i),t.instances=[],UIComponent.widgets[e]=t,t},generateWidget:function(t,e){var i;return i=WidgetGenerator.generateWidgetConstructor(),WidgetGenerator.makeConstructorAWidget(i,t,e)}},this.widget=this.WidgetGenerator.generateWidget}.call(this),function(){var t;this.UIActionToolbar=widget("UIActionToolbar"),this.UIActionToolbar.prototype.initialize=function(e){var i,n;return n=this,UIActionToolbar.superclass.initialize.call(this,e),this.multiSelectGrid=UIComponent.root_element.child_with_tag(this.$target.data("target")),this.active=!1,this.singularActionsList=this.$target.find("ul.singular-actions"),this.unorderedList=this.singularActionsList,this.actionsContainer=this.$target.find(".actions-container"),$(this.multiSelectGrid).on("rowSelected selectAllRows refreshed",function(t){return function(){return t.handleGridChange()}}(this)),Browser.isIE7()&&this.singularActionsList.children().find("span").each(function(){var t,e;return t=$(this),t.attr("title",t.attr("data-tooltip")),e=t.attr("title"),"Pdf"===e||"Csv"===e?t.attr("title",e.toUpperCase()):void 0}),this.csv=this.child_with_tag("csv"),this.pdf=this.child_with_tag("pdf"),this.print=this.child_with_tag("print"),this.email=this.child_with_tag("email")||!1,this.emailDialog=UIComponent.root_element.child_with_tag("email_dialog")||!1,this.label=this.child_with_tag("label"),this.totalSelected=this.label.$target.find("[data-tag='selected']"),this.totalRecords=this.label.$target.find("[data-tag='total']"),this.updateLabel(),this.emailDialog?(this.emailForm=this.emailDialog.child_with_tag("form"),i={dataType:"json",success:function(t){return function(){return t.emailDialog.close()}}(this)},this.emailDialog.$target.find("form").ajaxForm(i)):this.email&&(this.email.$target.parent("li").remove(),this.email=!1),this.copy=this.child_with_tag("copy"),this.pattern=this.multiSelectGrid.parent_with_tag("pattern")||!1,!this.pattern&&this.copy&&(this.copy.$target.parent("li").remove(),this.copy=!1),this.bulkDestroy=this.child_with_tag("bulk_destroy"),this.actions=this.$target.find(".UIButton form"),this.confirmDialog=this.child_with_tag("confirm_bulk_destroy"),this.resourceKey=this.$target.data("resource"),$(this.actions).on("submit",function(){return n.actionPressed($(this))}),this.print&&this.print.$target.on("click",function(t){return function(){return t.print.isDisabled()?!1:t.print.$target.find("form").submit()}}(this)),this.email&&this.email.$target.on("click",function(t){return function(){var e;return t.email.isDisabled()?!1:t.emailDialog?(e=t.emailDialog.$target.find("form"),Validations.clearMessages(e),t.emailForm.restoreInitialState(),t.actionPressed(e),t.emailDialog.open()):void 0}}(this)),this.csv&&this.csv.$target.on("click",function(t){return function(){return t.csv.isDisabled()?!1:t.csv.$target.find("form").submit()}}(this)),this.pdf&&this.pdf.$target.on("click",function(t){return function(){return t.pdf.isDisabled()?!1:t.pdf.$target.find("form").submit()}}(this)),this.copy&&this.copy.$target.on("click",function(t){return function(){return t.copy.isDisabled()?!1:1===t.multiSelectGrid.selectedIds.length?t.pattern.copy(t.multiSelectGrid.selectedIds[0]):void 0}}(this)),this.bulkDestroy?(this.bulkDestroy.$target.on("click",function(t){return t.preventDefault(),n.bulkDestroy.isDisabled()?!1:n.onBulkDestroyClicked(this)}),this.bulkDestroy.onConfirm=function(e){return function(i){return e.toggleActions(!1),t.call(e,!1),e.onBulkDestroyConfirm(i)}}(this)):void 0;
},this.UIActionToolbar.prototype.handleGridChange=function(){return this.setupCopy(),this.toggleToolbar(),this.updateLabel()},this.UIActionToolbar.prototype.updateLabel=function(){return this.totalSelected.text(this.multiSelectGrid.selectedIds.length),this.totalRecords.text(this.multiSelectGrid.pager.total_records)},this.UIActionToolbar.prototype.onBulkDestroyClicked=function(t){var e,i,n,r,a,s,o,l;return r=this.multiSelectGrid.selectedIds,l=$(t).find("form").attr("action"),s=I18n.t("activerecord.models."+this.resourceKey,{defaultValue:this.resourceKey.humanize()}),e=I18n.t("confirm.messages.bulk_destroy",{count:r.length,model:s}),a=I18n.t("confirm.messages."+this.resourceKey+".bulk_destroy",{count:r.length,model:s,defaultValue:e}),i=I18n.t("confirm.titles.bulk_destroy",{count:r.length,model:s}),o=I18n.t("confirm.titles."+this.resourceKey+".bulk_destroy",{count:r.length,model:s,defaultValue:i}),this.confirmDialog.setMessage(a),this.confirmDialog.setTitle(o),n={ids:r,url:l},this.bulkDestroy.trigger("callConfirm",n)},this.UIActionToolbar.prototype.onBulkDestroyConfirm=function(e){var i,n,r,a;return r=e.ids,n=this.bulkDestroy.$target.find("form"),this.trigger("willBulkDestroy",r),a="Deprecated, use willBulkDestroy on the instance instead.",Events.deprecate(a,this.$target,"willBulkDestroy",r),this.actionPressed(n),i={global:!1,success:function(e){return function(i){var n;return n=new FlashMessage("success",i.message),Notifier.showMessage(n),e.multiSelectGrid.trigger("rowsDestroySuccess",i),e.multiSelectGrid.clearSelections(!0),e.toggleActions(),t.call(e)}}(this),error:function(e){return function(i,n,r){var a,s,o;o=$.parseJSON(i.responseText),s={},_.isArray(o)?_.forEach(o,function(t){return _.forEach(t,function(t){return _.forEach(t,function(t,e){"array"===$.type(t)&&(t=t.join(" ")),s[e]=t})})}):s=o,e.toggleActions(),t.call(e),a=new FlashMessage("error",s),Notifier.showMessage(a)}}(this)},$(n).ajaxForm(i),n.trigger("submit")},this.UIActionToolbar.prototype.setupCopy=function(){return this.copy?1===this.multiSelectGrid.selectedIds.length?(this.copy.$target.parent("li").removeClass("disabled"),this.copy.$target.find(":submit").removeAttr("disabled")):(this.copy.$target.parent("li").addClass("disabled"),this.copy.$target.find(":submit").attr("disabled","disabled")):void 0},this.UIActionToolbar.prototype.actionPressed=function(t){return t.find('input[name="id[]"]').remove(),$(this.multiSelectGrid.selectedIds).each(function(){return $("<input>").attr({type:"hidden",name:"id[]",value:this}).appendTo(t)})},this.UIActionToolbar.prototype.toggleToolbar=function(){var t;if(t=Modernizr.opacity,this.multiSelectGrid.selectedIds.length){if(this.active)return;if(this.active=!0,this.show(),t)return this.actionsContainer.css("opacity",0),this.actionsContainer.stop().fadeTo("normal",1)}else if(this.active)return this.active=!1,t?this.actionsContainer.stop().fadeTo("normal",0,function(t){return function(){return t.hide()}}(this)):this.hide()},this.UIActionToolbar.prototype.hide=function(){return this.$target.removeClass("activetoolbar")},this.UIActionToolbar.prototype.show=function(){return this.$target.addClass("activetoolbar")},this.UIActionToolbar.prototype.toggleActions=function(t){var e,i,n,r,a,s,o,l;if(null==t&&(t=!0),i=this.childrenOfType("UIButton"),t){for(o=[],n=0,a=i.length;a>n;n++)e=i[n],e.enable(),o.push(e.$target.parent("li").removeClass("disabled"));return o}for(l=[],r=0,s=i.length;s>r;r++)e=i[r],e.disable(),l.push(e.$target.parent("li").addClass("disabled"));return l},t=function(t){var e;return null==t&&(t=!0),e="addClass",t&&(e="removeClass"),this.bulkDestroy.$target.parent("li")[e]("loading")}}.call(this),function(){this.UIDialog=widget("UIDialog"),this.UIDialog.prototype.initialize=function(t){var e;return UIDialog.superclass.initialize.call(this,t),this.isOpen=!this.$target.is(".hidden"),this.modal=this.$target.is(".modal"),this.dropdownFocus=!1,this.windowHeight=UIComponent.$window.height(),this.windowWidth=UIComponent.$window.width(),this.$target.parent().css("overflow","hidden"),e=this.childrenOfType("UIForm"),e.length&&e.each(function(){return this.$cancel.off("click",this.goBack)}),this.$target.find(".close, .cancel").on("click",function(t){return function(e){return e.preventDefault(),t.cancel()}}(this)),UIComponent.$window.resize(function(t){return function(){var e,i,n;return e=UIComponent.$window.height(),i=UIComponent.$window.width(),n=t.windowHeight!==e||t.windowWidth!==i,n?(t.isOpen&&t.center(t.$target,Browser.isIOS()),t.windowHeight=e,t.windowWidth=i):void 0}}(this)),this.$target.css("width",this.$target.outerWidth()),$(this).on("toggleTarget",function(t){return function(e){return t.handleToggleTarget(e)}}(this)),this.$target.on("toggleTarget",function(t){return function(e){var i;return i="Deprecation: toggleTarget should be triggered on the instance of the UIComponent instead of the $target",Logger.warn(i),t.handleToggleTarget(e)}}(this)),this.ensureDialogRetainsFocus()},this.UIComponent.mixin(this.UIDialog.prototype,this.UIMixins.TitleMixin),this.UIComponent.mixin(this.UIDialog.prototype,this.UIMixins.ModalMixin),this.UIDialog.prototype.handleToggleTarget=this.UIDialog.prototype.open=function(){var t;return t=$("#UIDialogLayer"),!t.length&&this.modal&&(t=$("<div id='UIDialogLayer' class='layer'/>"),t.appendTo("body")),t.off("click"),t.on("click",function(t){return function(){return t.focusFirstTabbableElement()}}(this)),this.$target.show().removeClass("hidden"),this.center(this.$target),this.isOpen=!0,this.wasCancelled=!1,this.trigger("opened"),this.trigger("shown"),this.focusFirstTabbableElement(),Browser.isLessThanIE(9)&&this.$target.addClass("ie8_redraw_fix").removeClass("ie8_redraw_fix"),UIComponent.$document.on("keyup",function(t){return function(e){return!Events.isEscKey(e)||t.$target.find("select:focus").length&&!t.dropdownFocus?t.dropdownFocus=!0:(t.focusDialog(),t.cancel(),t.dropdownFocus=!1)}}(this)),this.$target.find("select").on("blur",function(t){return function(){return t.dropdownFocus=!1}}(this))},this.UIDialog.prototype.show=this.UIDialog.prototype.open,this.UIDialog.prototype.focusFirstTabbableElement=function(){var t;return t=this.$target.find(":input[autofocus]"),t.length?t.first().focus():this.focusDialog()},this.UIDialog.prototype.focusDialog=function(){return this.$target.attr("tabindex",-1),this.$target.focus()},this.UIDialog.prototype.cancel=function(){return this.wasCancelled=!0,this.close()},this.UIDialog.prototype.close=function(){return Validations.clearMessages(this.$target.find("form")),this.closeAction(),this.isOpen=!1,this.trigger("closed"),this.trigger("hidden"),UIComponent.$document.off("keyup")},this.UIDialog.prototype.hide=this.UIDialog.prototype.close,this.UIDialog.prototype.ensureDialogRetainsFocus=function(){var t;return t=this,this.$target.on("keydown",function(e){var i,n,r;if(Events.isTabKey(e))if(r=t.$target.find(":tabbable"),i=r.filter(":first"),n=r.filter(":last"),(Browser.safari||Browser.firefox)&&(Events.isShiftKey(e)?r.each(function(i){var n;return this===e.target?(n=i-1,n===r.length?t.focusDialog():r.eq(n).focus(),e.preventDefault()):void 0}):(e.target===t.target&&(i.focus(),e.preventDefault()),r.each(function(i){var n;this===e.target&&(n=i+1,n===r.length?t.focusDialog():r.eq(n).focus(),e.preventDefault())}))),Events.isShiftKey(e)){if(e.target===i[0]&&(t.focusDialog(),e.preventDefault()),e.target===t.target)return n.focus(),e.preventDefault()}else if(e.target===n[0])return t.focusFirstTabbableElement(),e.preventDefault()})},this.UIDialog.prototype.closeAction=function(){return this.$target.hide(),$("body #UIDialogLayer").remove()}}.call(this),function(){this.UIAlert=widget("UIAlert",this.UIDialog),this.UIAlert.prototype.initialize=function(t){return UIAlert.superclass.initialize.call(this,t),this.targetted=this.getTarget(),this.defaultMessage=this.getMessage(),this.targetted?this.setupTargetEvents():void 0},this.UIAlert.prototype.setupTargetEvents=function(){return $(this.targetted).on("callAlert",function(t){return function(){return t.promptUser()}}(this)),this.targetted.$target.on("callAlert",function(t){return function(){return Logger.deprecate("Deprecation: callAlert triggering on $target - now triggers on the instance"),t.promptUser()}}(this))},this.UIAlert.prototype.promptUser=function(){return UIAlert.superclass.open.call(this)},this.UIAlert.prototype.getTarget=function(){var t,e,i,n,r,a,s,o;return s=this.$target.data("target"),void 0===s?!1:(a=this.$target.data("proxy-target"),r=UIComponent.$body.find('[data-proxy-element="'+a+'"]'),t=r.closest("[data-ui-widget]"),t.length?(i=t.data("ui-widget"),e=this.parent_of_type(i),e.child_with_tag(s)):(n=r.parent(),o=n.find('[data-tag="'+s+'"]'),o.length?UIComponent.findOrCreateInstance(o.data("ui-widget"),o[0]):void 0))},this.UIAlert.prototype.setMessage=function(t){return this.$target.find(".message").text(t)},this.UIAlert.prototype.getMessage=function(){return this.$target.find(".message").text()},this.UIAlert.prototype.resetMessage=function(){return this.setMessage(this.defaultMessage)}}.call(this),function(){this.UIAnimatedMenu=widget("UIAnimatedMenu"),this.UIAnimatedMenu.prototype.initialize=function(t){return UIAnimatedMenu.superclass.initialize.call(this,t),this.$submenuHeaders=this.$target.find("> li.has-submenu"),this.$submenuItems=this.$submenuHeaders.find("> ul"),this.stopLink=!1,Modernizr.touch&&(this.currentTarget=null,this.$submenuHeaders.on("touchstart",function(t){return function(e){return t.stopLink=t.currentTarget!==e.currentTarget,t.currentTarget=e.currentTarget}}(this)),this.$submenuHeaders.find("> a").on("click",function(t){return function(e){return t.stopLink?e.preventDefault():void 0}}(this))),deviceIsAndroid?(this.links=this.$submenuItems.find(".UILink"),this.links.attr("disabled","disabled"),this.$submenuHeaders.on("touchstart",function(t){return function(){return t.links.attr("disabled","disabled")}}(this)),this.links.on("touchend",function(t){return function(){return t.links.removeAttr("disabled")}}(this))):void 0}}.call(this),function(){this.UIButton=widget("UIButton"),this.UIButton.prototype.initialize=function(t){return UIButton.superclass.initialize.call(this,t),this.url=this.$target.data("url"),this.url?this.$button=this.$target.find("input:submit"):this.$button=this.$target.find("button"),this.$button.on("click",function(t){return function(e){return t.isDisabled()?e.preventDefault():t.trigger(e)}}(this))},this.UIButton.prototype.disable=function(){return this.$button.attr("disabled","disabled")},this.UIButton.prototype.enable=function(){return this.$button.removeAttr("disabled")},this.UIButton.prototype.isDisabled=function(){return this.$button.attr("disabled")?!0:!1}}.call(this),function(){this.UIChart=widget("UIChart"),this.UIChart.defaults={chart:{defaultSeriesType:"area",margin:[20,25,24,25]},title:null,lineColor:"#999",xAxis:{title:null,lineColor:"#aaa",showFirstLabel:!1,labels:{enabled:!1}},yAxis:{title:null,startOnTick:!1,endOnTick:!0,gridLineColor:"#ddd",labels:{enabled:!1}},legend:{enabled:!1},credits:{enabled:!1},tooltip:{enabled:!1},plotOptions:{area:{marker:{enabled:!1,radius:1},states:{hover:{enabled:!1}},shadow:!1,lineColor:"#d37423",fillColor:"rgba(211,116,35,0.2)",lineWidth:2}},series:[{pointInterval:864e5}]},this.UIChart.overrides={},this.UIChart.prototype.initialize=function(t){var e,i;return UIChart.superclass.initialize.call(this,t),e=this.$target.data("js_overrides"),i=this.extractOptions(),this.url=this.$target.data("url"),this.width=this.$target.data("width"),this.height=this.$target.data("height"),this.jsOverrides=this.getJSOverrides(e),this.js_overrides=this.jsOverrides,this.chartContainer=this.$target.find(".chart")[0],i.ignoreDefaults?this.options=this.jsOverrides:this.options=$.extend(!0,{},UIChart.defaults,UIChart.overrides,this.jsOverrides),this.getChartData(this.url),i.resetButton?(this.resetBtn=this.child_with_tag("reset_zoom"),this.resetBtn.$target.on("click",function(t){return function(e){return e.preventDefault(),t.chart.xAxis[0].setExtremes(null,null,!1),t.chart.redraw(),t.resetBtn.$target.removeClass("active")}}(this)),this.$target.on("selection",function(t){return function(e){return t.resetBtn.$target.addClass("active")}}(this))):void 0},this.UIChart.prototype.getJSOverrides=function(t){var e,i,n,r;if(!t)return{};for(i=window,n=t.split("."),e=0;e<n.length;)r=n[e],i[r]=i[r]||{},i=i[r],e++;return i===window?{}:i},this.UIChart.prototype.applyFilter=function(t){return this.filter_params=t,this.refresh()},this.UIChart.prototype.refresh=function(){var t;return t=this.url,t+=-1===t.indexOf("?")?"?":"&",void 0!==this.filter_params&&_.forEach(this.filter_params,function(e){return-1===t.indexOf("&",t.length-1)&&(t+="&"),t+=e.name+"="+encodeURIComponent(e.value)}),this.getChartData(t)},this.UIChart.prototype.redrawChart=function(){return this.chart.redraw()},this.UIChart.prototype.getChartData=function(t){var e;return e=this,$.ajax({type:"GET",cache:!1,url:t,dataType:"json",success:function(t,i,n){return e.generateChart(t.data)}})},this.UIChart.prototype.generateChart=function(t){var e,i,n;return n=void 0,i={},e={chart:{renderTo:this.chartContainer,width:this.width,height:this.height}},t.yAxis&&t.xAxis[0]?(n={series:[{data:t.yAxis,pointStart:t.xAxis[0]}]},$.extend(!0,i,this.options,n)):$.extend(!0,i,this.options,t),$.extend(!0,i,e),this.chart=new Highcharts.Chart(i),this.trigger("refreshed")}}.call(this),function(){var t,e;e="UICheckbox",this.UICheckbox=widget(e),this.UIFormInputs.register(e),this.UICheckbox.prototype.initialize=function(e){return UICheckbox.superclass.initialize.call(this,e),this.parentForm=this.parent_of_type("UIForm"),$(this.parentForm).on("afterToCreate",{self:this},t),this.saveInitialState()},this.UIComponent.mixin(this.UICheckbox.prototype,this.UIMixins.FormInputMixin),this.UICheckbox.prototype.setValue=function(t){var e;return e=this.getValue(),this.$target.find("input:checkbox").attr("checked",t),Validations.clearMessages(this.$target),e!==t?this.trigger("valueChanged"):void 0},this.UICheckbox.prototype.afterInitialize=function(){return this.$target.find("input:checkbox").on("change",function(t){return function(){return setTimeout(function(){return t.trigger("valueChanged")},0)}}(this))},this.UICheckbox.prototype.getValue=function(){return this.$target.find("input:checkbox").is(":checked")},this.UICheckbox.prototype.saveInitialState=function(){var t;return t=this.$target.find("input:checkbox"),this.initialState={value:this.getValue(),checked:t.attr("checked")?!0:!1,disabled:t.attr("disabled")?!0:!1,readonly:t.attr("readonly")?!0:!1,selected:t.attr("selected")?!0:!1}},this.UICheckbox.prototype.saveDefaultState=function(){var t;return t=this.$target.find("input:checkbox"),this.defaultState={value:this.getValue(),checked:t.attr("checked")?!0:!1,disabled:t.attr("disabled")?!0:!1,readonly:t.attr("readonly")?!0:!1,selected:t.attr("selected")?!0:!1}},this.UICheckbox.prototype.restoreInitialState=function(){var t;return t=this.$target.find("input:checkbox"),this.initialState?(this.setValue(this.initialState.value),t.attr("checked",this.initialState.checked),t.attr("disabled",this.initialState.disabled),t.attr("readonly",this.initialState.readonly),t.attr("selected",this.initialState.selected)):void 0},t=function(t){var e,i,n;return n=t.data.self,i=!1,e=n.$target.find("input:checkbox"),"true"===e.attr("data-reset-checked")&&(i=!0),e.attr("checked",i)}}.call(this),function(){this.UIConfirm=widget("UIConfirm",this.UIAlert),this.UIConfirm.prototype.initialize=function(t){return UIConfirm.superclass.initialize.call(this,t),this.cancelLink=this.child_with_tag("cancel"),this.confirmLink=this.child_with_tag("confirm"),this.data=null,UIComponent.$window.resize(function(t){return function(){return t.isOpen?t.center(t.$target):void 0}}(this)),$(this).on("closed",function(t){return function(e){return e.target.wasCancelled?t.handleDismiss():void 0}}(this)),this.cancelLink.$target.on("click",function(t){return function(e){return t.handleCancel(e)}}(this)),this.confirmLink.$target.on("click",function(t){return function(e){return t.handleConfirm(e)}}(this))},this.UIConfirm.prototype.setupTargetEvents=function(){return $(this.targetted).on("callConfirm",function(t){return function(e,i){return t.promptUser(i)}}(this)),this.targetted.$target.on("callConfirm",function(t){return function(e,i){return Logger.deprecate("Deprecation: callConfirm triggering on $target - now triggers on the instance"),t.promptUser(i)}}(this))},this.UIConfirm.prototype.promptUser=function(t){return this.open(),this.data=t?t:null,this.cancelLink.$target.focus()},this.UIConfirm.prototype.handleConfirm=function(){return this.close(),this.onConfirm()},this.UIConfirm.prototype.onConfirm=function(){return this.targetted.onConfirm?this.targetted.onConfirm(this.data):void 0},this.UIConfirm.prototype.handleCancel=function(){return this.close(),this.handleDismiss()},this.UIConfirm.prototype.handleDismiss=function(){return this.targetted.onCancel&&this.targetted.onCancel(this.data),this.onCancel?this.onCancel(this.data):void 0}}.call(this),function(){this.UICounter=widget("UICounter"),this.UICounter.prototype.initialize=function(t){var e,i;i=this,UICounter.superclass.initialize.call(this,t),this.digitSets=this.$target.find(".digit-set"),this.numOfDigits=this.digitSets.length,this.value=this.$target.data("value"),this.maxValue=this.$target.data("max-value"),e=0,this.digitSets.each(function(){return i.setupDigitSet(this,e),e++})},this.UICounter.prototype.setupDigitSet=function(t,e){var i,n,r,a,s,o,l,u;if(l=this,!t.data){if(r=void 0,a=void 0,i=void 0,n=void 0,s=String(this.value),t.data={},t.data.animate=Modernizr.cssanimations,t.data.retainClasses=t.data.animate?!1:!0,t.data.animate)r=parseInt(String(l.maxValue)[e]);else{if(s.length<String(l.maxValue).length)for(o=String(l.maxValue).length-s.length,u=0;o>u;)s="0"+s,u++;r=parseInt(s[e])}for(t.data.digit=r,t.data.frequency=150,t.data.deceleration=75,t.data.delay=400,t.data.decelerate=!1,t.data.counter=0,t.data.valToSet=String(l.value);t.data.valToSet.length<l.numOfDigits;)t.data.valToSet="0"+t.data.valToSet;t.data.valToSet=parseInt(t.data.valToSet[e]),i=$(t).find(".digit").eq(r),l.updateClass(t,i,"active"),i.prev().length?l.updateClass(t,i.prev(),"previous"):l.updateClass(t,i.siblings(".digit:last-child"),"previous"),a=9-r,n=$(t).find(".digit").eq(a),l.updateClass(t,n,"active-alt"),n.next().length?l.updateClass(t,n.next(),"previous-alt"):l.updateClass(t,n.siblings(".digit:first-child"),"previous-alt"),t.data.animate&&(l.$target.find(".digit").addClass("animate"),l.animate(t))}},this.UICounter.prototype.animate=function(t){var e,i,n,r,a,s;a=this,e=$(t),n=void 0,r=3,s=1,i=function(){t.data.counter>2&&(n=t.data.valToSet-r<0?10+(t.data.valToSet-r):t.data.valToSet-r,n===t.data.digit&&(t.data.decelerate=!0),n=t.data.valToSet-s<0&&t.data.decelerate?10+(t.data.valToSet-s):t.data.valToSet-s,n===t.data.digit&&t.data.decelerate&&(t.data.retainClasses=!0,e.find(".digit").addClass("slow")),t.data.valToSet===t.data.digit&&t.data.retainClasses&&(t.data.animate=!1)),t.data.decelerate&&(t.data.frequency=t.data.frequency+t.data.deceleration),t.data.animate&&(window.setTimeout(i,t.data.frequency),a.flip(t)),t.data.counter++},window.setTimeout(i,t.data.frequency)},this.UICounter.prototype.flip=function(t){var e,i,n,r,a;i=void 0,r=void 0,n=void 0,a=this,e=$(t),i=e.find(".active:not(.previous)"),r=i.prev().length?i.prev():e.find(".digit:last-child"),n=i.next().length?i.next():e.find(".digit:first-child"),r.removeClass("immediately-previous"),i.addClass("immediately-previous"),a.updateClass(t,i,"previous"),a.updateClass(t,n,"active"),t.data.digit=parseInt(n.find(".digit-bottom").text()),i=e.find(".active-alt:not(.previous-alt)"),n=i.prev().length?i.prev():e.find(".digit:last-child"),a.updateClass(t,i,"previous-alt"),a.updateClass(t,n,"active-alt")},this.UICounter.prototype.updateClass=function(t,e,i){return e.addClass(i),t.data.retainClasses?e.siblings("."+i).removeClass(i):setTimeout(function(){return e.removeClass(i)},t.data.delay)}}.call(this),function(){var t,e=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};t="UIDate",this.UIDate=widget(t),this.UIFormInputs.register(t),this.UIDate.options={altFormat:"yyyy-mm-dd",dayNamesMin:["S","M","T","W","T","F","S"],showAnim:"",changeMonth:!1,firstDay:1},this.UIDate.supportedOptions=["altFormat","changeMonth","dateFormat","dayNamesMin","defaultDate","firstDay","maxDate","minDate","onDate","showAnim","yearRange"],this.UIDate.prototype.initialize=function(t){var e,i,n,r;return r=this,UIDate.superclass.initialize.call(this,t),this.isStartDate=!!this.$target.data("end-date"),this.isStartDate&&(this.targetEndDate=UIComponent.root_element.child_with_tag(this.$target.data("end-date"))),this.defaultGap=this.$target.data("default-gap"),this.changeMonth=this.$target.data("change_month"),this.yearRange=this.$target.data("year_range"),this.defaultDate=this.$target.data("default_date"),this.minDate=this.$target.attr("data-min_date"),this.maxDate=this.$target.attr("data-max_date"),this.$hiddenTarget=this.$target.find(".hidden"),this.hiddenTarget=this.$hiddenTarget[0],this.hidden_target=this.hiddenTarget,this.$visibleTarget=this.$target.find(".visible"),this.visibleTarget=this.$visibleTarget[0],this.visible_target=this.visibleTarget,this.saveInitialState(),this.stopValidation=!1,i='<div class="datepick"><div class="datepick-nav">{link:prev}{link:next}</div>{months}{popup:start}<div class="datepick-ctrl">{link:clear}{link:close}</div>{popup:end}<div class="datepick-clear-fix"></div></div>',n=$.extend({},$.datepick.defaultRenderer,{picker:i}),e={dateFormat:I18n.t("date.formats.javascript",{defaultValue:"dd/mm/yyyy"}),altField:this.hiddenTarget,onSelect:function(t){return function(e){var i;return t.$visibleTarget.datepick("hide"),t.$visibleTarget.change(),i="Deprecated, use valueChanged on the instance instead.",Events.deprecate(i,r.$visibleTarget,"dateChanged"),r.trigger("valueChanged")}}(this),renderer:n},this.options=$.extend({},UIDate.options,e),void 0!==this.defaultDate&&(this.options.defaultDate=this.defaultDate),void 0!==this.changeMonth&&(this.options.changeMonth=this.changeMonth),void 0!==this.yearRange&&(this.options.yearRange=this.yearRange),void 0!==this.minDate&&(this.options.minDate=this._parseDate(this.minDate)),void 0!==this.maxDate&&(this.options.maxDate=this._parseDate(this.maxDate)),this.isDisabled()||this.isReadonly()?void 0:(this.$visibleTarget.datepick(this.options),this.$visibleTarget.off("change"),this.$visibleTarget.on("change",function(){var t,e,i,n;return t=$(this),n=t.val(),e=DateFormatter.formatted(n),n&&e||r.$hiddenTarget.val(""),e&&r.getValue()?(r._setDate(e),r.isStartDate&&r.defaultGap?r._updateEndDate(e):void 0):(r.$visibleTarget.datepick("hide"),r.$hiddenTarget.val(r._formatDate(e)),i="Deprecated, use valueChanged on the instance instead.",Events.deprecate(i,r.$visibleTarget,"dateChanged"),r.trigger("valueChanged"))}),this.$hiddenTarget.on("change",function(){var t,e;return e=$(this).val(),t=r._parseDate(e),r._setDate(t)}),this.$visibleTarget.on("beforeValidation",function(t){return function(){return!t.stopValidation}}(this)),$(".datepick").live("mousedown",function(t){return function(){return t.stopValidation=!0}}(this)).live("mouseup",function(t){return function(){return t.stopValidation=!1}}(this)),deviceIsIOS&&UIComponent.$body.on("touchend",function(t){return function(e){var i;return i=$(e.srcElement),0===i.parents(".datepick-popup, .UIDate").length?t.$visibleTarget.datepick("hide"):void 0}}(this)),UIComponent.mixin(this,UIMixins.InputIconMixin),this.inputIcon(),I18n.locale&&$.datepick.regional[I18n.locale]?$(".datepick").datepick("option",$.datepick.regional[I18n.locale]):void 0)},this.UIComponent.mixin(this.UIDate.prototype,this.UIMixins.FormInputMixin),this.UIDate.prototype.updateOptions=function(t){return t=_.omit(t,function(t,i){return e.call(UIDate.supportedOptions,i)<0}),this.options=$.extend(this.options,t),this.$visibleTarget.datepick("option",t)},this.UIDate.prototype.getCurrentState=function(){return{value:this.getValue(),visible:{disabled:this.$visibleTarget.attr("disabled")?!0:!1,readonly:this.$visibleTarget.attr("readonly")?!0:!1},hidden:{disabled:this.$hiddenTarget.attr("disabled")?!0:!1,readonly:this.$hiddenTarget.attr("readonly")?!0:!1}}},this.UIDate.prototype.restoreInitialState=function(){return this.initialState?(this.setValue(this.initialState.value),this.$hiddenTarget.attr("disabled",this.initialState.hidden.disabled),this.$hiddenTarget.attr("readonly",this.initialState.hidden.readonly),this.$visibleTarget.attr("disabled",this.initialState.visible.disabled),this.$visibleTarget.attr("readonly",this.initialState.visible.readonly)):void 0},this.UIDate.prototype.setValue=function(t){var e,i,n;return e=this.getValue(),e=this.toS(e)||"",t=this.toS(t)||"",i=this._parseDate(t),n=this._formatDate(i,this.options.dateFormat),this.$hiddenTarget.val(t),this.$visibleTarget.val(n),Validations.clearMessages(this.$target),e!==t?this.trigger("valueChanged"):void 0},this.UIDate.prototype._formatDate=function(t,e){return null==e&&(e=this.options.altFormat),$.datepick.formatDate(e,t)},this.UIDate.prototype._parseDate=function(t){return $.datepick.parseDate(this.options.altFormat,t)},this.UIDate.prototype._setDate=function(t){return this.$visibleTarget.datepick("setDate",t)},this.UIDate.prototype._updateEndDate=function(t){return t.setDate(t.getDate()+this.defaultGap),this.targetEndDate._setDate(t)}}.call(this),function(){this.UIDateRange=widget("UIDateRange"),this.UIDateRange.prototype.initialize=function(t){var e;return UIDateRange.superclass.initialize.call(this,t),e="Deprecation: UIDateRange is being deprecated, please use UIDate instead and pass options of :end_date and :default_gap.",Logger.deprecate(e),this.defaultGap=this.$target.data("default-gap"),this.startDate=this.child_with_tag("start"),this.endDate=this.child_with_tag("end"),"readonly"!==this.endDate.$visibleTarget.attr("readonly")?(this.getEndDate()||this.setEndDate(),this.startDate.$visibleTarget.on("change",function(t){return function(){return t.setEndDate()}}(this))):void 0},this.UIDateRange.prototype.setEndDate=function(){var t;return t=this.getStartDate(),t&&void 0!==this.defaultGap?(t.setDate(t.getDate()+this.defaultGap),this.endDate._setDate(t)):void 0},this.UIDateRange.prototype.getStartDate=function(){var t;return t=this.startDate.getValue(),this.startDate._parseDate(t)},this.UIDateRange.prototype.getEndDate=function(){var t;return t=this.endDate.getValue(),this.endDate._parseDate(t)},this.UIDateRange.prototype.rangeChanged=function(){}}.call(this),function(){var t;t="UIDatetime",this.UIDatetime=widget(t),this.UIFormInputs.register(t),this.UIDatetime.options={showAnim:"",datetimeFormat:I18n.t("datetime.formats.javascript",{defaultValue:"yyyy-mm-dd HH:MM"}),dateFormat:I18n.t("date.formats.javascript",{defaultValue:"dd/mm/yyyy"}),timeFormat:I18n.t("time.formats.timepicker",{defaultValue:"HH:MM"})},this.UIDatetime.prototype.initialize=function(t){var e,i,n,r;return r=this,UIDatetime.superclass.initialize.call(this,t),this.$hiddenTarget=this.$target.find(".hidden"),this.$visibleTargets=this.$target.find(".visible"),this.$date=this.$target.find(".date"),this.$time=this.$target.find(".time"),this.dateVal=this.$date.val(),this.timeVal=this.$time.val(),this.stopValidation=!1,i='<div class="datepick"><div class="datepick-nav">{link:prev}{link:next}</div>{months}{popup:start}<div class="datepick-ctrl">{link:clear}{link:close}</div>{popup:end}<div class="datepick-clear-fix"></div></div>',n=$.extend({},$.datepick.defaultRenderer,{picker:i}),e={dateFormat:I18n.t("date.formats.javascript"),onSelect:function(t){return function(e){return t.$date.change(),t.trigger("dateChanged"),t.$time.focus().select()}}(this),renderer:n},this.options=$.extend({},UIDatetime.options,e),Browser.isLessThanIE(10)&&(this.parentForm=this.parent_of_type("UIForm"),this.defaultDate=this.$date.attr("placeholder"),this.defaultTime=this.$time.attr("placeholder"),this.parentForm&&(this.parentForm.watch("beforeFormValidation",function(t){return function(){return void 0!==t.defaultDate&&t.removeDefaultValue(t.$date,t.defaultDate),void 0!==t.defaultTime?t.removeDefaultValue(t.$time,t.defaultTime):void 0}}(this)),this.parentForm.watch("afterFormValidation",function(t){return function(e,i){var n;return n=i[0],n||void 0===t.defaultDate||t.applyDefaultValue(t.$date,t.defaultDate),n||void 0===t.defaultTime?void 0:t.applyDefaultValue(t.$time,t.defaultTime)}}(this))),this.$date.on("focus",function(t){return function(){return t.removeDefaultValue(t.$date,t.defaultDate),t.removeDefaultValue(t.$time,t.defaultTime)}}(this)),this.$time.on("focus",function(t){return function(){return t.removeDefaultValue(t.$date,t.defaultDate),t.removeDefaultValue(t.$time,t.defaultTime)}}(this)),this.$date.on("blur",function(t){return function(){return t.applyDefaultValue(t.$date,t.defaultDate),t.applyDefaultValue(t.$time,t.defaultTime)}}(this)),this.$time.on("blur",function(t){return function(){return t.applyDefaultValue(t.$date,t.defaultDate),t.applyDefaultValue(t.$time,t.defaultTime)}}(this)),this.applyDefaultValue(this.$date,this.defaultDate),this.applyDefaultValue(this.$time,this.time)),this.$date.datepick(this.options),this.$date.on("change",function(t){return function(){return t.$date.datepick("hide"),t.trigger("dateChanged")}}(this)),this.$time.on("change",function(t){return function(){return t.trigger("timeChanged")}}(this)),this.watch("dateChanged",function(t){return function(){var e,i,n,r,a;return i=t.$date.val(),a=t.$time.val(),e=DateFormatter.formatted(i),r=TimeFormatter.formatted(a),e&&(n=$.datepick.formatDate(I18n.t("date.formats.javascript"),e),n!==i&&t.$date.val(n)),t.updateDatetime()}}(this)),this.watch("timeChanged",function(t){return function(){var e,i,n,r;return i=t.$date.val(),r=t.$time.val(),e=DateFormatter.formatted(i),n=TimeFormatter.formatted(r),n&&r!==n&&t.$time.val(n),t.updateDatetime()}}(this)),UIComponent.mixin(this,UIMixins.InputIconMixin),this.inputIcon(),I18n.locale&&$.datepick.regional[I18n.locale]&&$(".datepick").datepick("option",$.datepick.regional[I18n.locale]),this.$date.on("beforeValidation",function(t){return function(){return!t.stopValidation}}(this)),$(".datepick").live("mousedown",function(t){return function(){return t.stopValidation=!0}}(this)).live("mouseup",function(t){return function(){return t.stopValidation=!1}}(this)),this.$time.on("paste",function(t){return function(t){return setTimeout(function(){var t;return t=r.$time.val(),r.isValidTime(t)||r.$time.val(r.timeVal),r.$time.trigger("change")},0)}}(this)),this.$time.on("keypress",function(t){return function(e){var i,n,r,a,s,o,l,u;return i=t.$time,a=i.val(),n=i.caret(),Events.isMetaKey(e)||Events.isEnterKey(e)?!0:(l=String.fromCharCode(e.which),r=l.charCodeAt(0),0===r||8===r?!0:(s=a.substring(0,n.start),o=a.substring(n.start+n.text.length,a.length),u=s+l+o,t.isValidTime(u)))}}(this)),this.$time.on("keydown",function(t){var e,i,n,a,s,o;return s=Events.isDeleteKey(t),a=Events.isBackspaceKey(t),s||a?(i=r.$time.caret(),o=i.start,n=/\d*[\.\-\:]{1}\d*/,o=a?o-1:o,e=this.value.charAt(o),n.test(e)?!1:n.test(i.text)?!1:void 0):!0})},this.UIComponent.mixin(this.UIDatetime.prototype,this.UIMixins.FormInputMixin),this.UIComponent.mixin(this.UIDatetime.prototype,this.UIMixins.PlaceholderMixin),this.UIDatetime.prototype.validateField=function(t){var e,i;e={content:this.getValue(),element:this.$target},i=Validations.validators.datetime(e),i||Validations.validateField(this.$visibleTargets,t)},this.UIDatetime.prototype.setValue=function(t){var e,i,n,r,a;return e=t.replace(/-/g,"/"),n=new Date(e),r=this._createDatetimeObject(n),i=this._formatDatetime(r,"%d/%m/%Y"),a=this._formatDatetime(r,"%H:%M"),DateFormatter.formatted(i)&&TimeFormatter.formatted(a)?(this.$hiddenTarget.val(t),this.$date.val(i),this.$time.val(a),this.dateVal=i,this.timeVal=a,Validations.clearMessages(this.$target)):!1},this.UIDatetime.prototype.updateDatetime=function(){var t,e,i,n,r,a,s;return t=this.$date.val(),a=this.$time.val(),e=DateFormatter.formatted(t),s=TimeFormatter.objectify(a),r=I18n.t("datetime.formats.default",{defaultValue:"%Y-%m-%d %H:%M"}),this.dateVal=t,this.timeVal=a,e&&s?(s.hours&&e.setHours(s.hours),s.minutes&&e.setMinutes(s.minutes),s.seconds&&e.setSeconds(s.seconds),i=this._createDatetimeObject(e),n=this._formatDatetime(i,r),this.$hiddenTarget.val(n)):(this.$hiddenTarget.val(""),!1)},this.UIDatetime.prototype._parseDatetime=function(t){return new Date(t)},this.UIDatetime.prototype._createDatetimeObject=function(t){var e;return e={},e.year=t.getFullYear().toString(),e.month=DateFormatter.padZeros(t.getMonth()+1),
e.day=DateFormatter.padZeros(t.getDate()),e.hours=TimeFormatter.padZeros(t.getHours()),e.minutes=TimeFormatter.padZeros(t.getMinutes()),e.seconds=TimeFormatter.padZeros(t.getSeconds()),e},this.UIDatetime.prototype._formatDatetime=function(t,e){var i,n,r;for(n=e.match(/%[a-z|A-Z]{1}/g),r=e.toString(),i=0;i<n.length;){switch(n[i]){case"%Y":t.year&&(r=r.replace(n[i],t.year));break;case"%m":t.month&&(r=r.replace(n[i],t.month));break;case"%d":t.day&&(r=r.replace(n[i],t.day));break;case"%H":t.hours&&(r=r.replace(n[i],t.hours));break;case"%M":t.minutes&&(r=r.replace(n[i],t.minutes));break;case"%S":t.seconds&&(r=r.replace(n[i],t.seconds));break;default:r=r.replace(n[i],""),Logger.warn("Unknown datetime format has been removed: ",n[i])}i++}return r.trim()},this.UIDatetime.prototype.isValidTime=function(t){var e,i;return e=/^([01]?[0-9]|2[0-3])[\:\-\.]?([0-5][0-9]|[0-9])?$/,i=e.test(t)}}.call(this),function(){var t,e,i;i="UIDecimal",this.UIDecimal=widget(i),this.UIFormInputs.register(i),this.UIDecimal.prototype.initialize=function(i){return UIDecimal.superclass.initialize.call(this,i),this.$hiddenTarget=this.$target.find(".hidden"),this.hiddenTarget=this.$hiddenTarget[0],this.hidden_target=this.hiddenTarget,this.$visibleTarget=this.$target.find(".visible"),this.visibleTarget=this.$visibleTarget[0],this.visibleTarget.scale=this.getPrecision(),this.visible_target=this.visibleTarget,this.updateValueFor(),this.saveInitialState(),this.$visibleTarget.on("change",function(e){return function(i){var n;return n=$(i.target),e.updateValueFor(),t.call(e)}}(this)),this.$hiddenTarget.on("change",function(t){return function(){return e.call(t)}}(this)),this.$visibleTarget.keypress(function(e){return function(i){var n,r,a,s,o,l,u;return i.metaKey?!0:Events.isEnterKey(i)?(t.call(e),!0):(s=String.fromCharCode(i.which),n=s.charCodeAt(0),0===n||8===n?!0:(r=$(i.target),l=r.val().substring(0,r.caret().start),u=r.val().substring(r.caret().start+r.caret().text.length,r.val().length),o=l+s+u,a=parseInt(r.attr("data-scale")),UIDecimal.isValidDecimal(o,a)))}}(this))},this.UIComponent.mixin(this.UIDecimal.prototype,this.UIMixins.FormInputMixin),e=function(){var t,e,i;return i=this.$hiddenTarget.val(),e=I18n.toNumber(i,{precision:this.getPrecision(),delimiter:I18n.t("number.format.delimiter"),separator:I18n.t("number.format.separator")}),this.$visibleTarget.val(e),this.trigger("visibleChanged"),t="Deprecated, use visibleChanged on the instance instead.",Events.deprecate(t,this.$visibleTarget,"visibleChanged")},t=function(){var t,e,i;return i=this.$visibleTarget.val(),e=new RegExp("\\"+I18n.t("number.format.delimiter"),"g"),i=i.replace(e,"","g"),i=i.replace(I18n.t("number.format.separator"),"."),this.$hiddenTarget.val(i),this.trigger("hiddenChanged"),t="Deprecated, use hiddenChanged on the instance instead.",Events.deprecate(t,this.$hiddenTarget,"hiddenChanged")},this.UIDecimal.prototype.getCurrentState=function(){return{value:this.getValue(),visible:{disabled:this.$visibleTarget.attr("disabled")?!0:!1,readonly:this.$visibleTarget.attr("readonly")?!0:!1},hidden:{disabled:this.$hiddenTarget.attr("disabled")?!0:!1,readonly:this.$hiddenTarget.attr("readonly")?!0:!1}}},this.UIDecimal.prototype.restoreInitialState=function(){return this.initialState?(this.setValue(this.initialState.value,this.getPrecision()),this.$hiddenTarget.attr("disabled",this.initialState.hidden.disabled),this.$hiddenTarget.attr("readonly",this.initialState.hidden.readonly),this.$visibleTarget.attr("disabled",this.initialState.visible.disabled),this.$visibleTarget.attr("readonly",this.initialState.visible.readonly)):void 0},this.UIDecimal.prototype.afterInitialize=function(){return this.$visibleTarget.on("change",function(t){return function(){return t.trigger("valueChanged")}}(this))},this.UIDecimal.prototype.setValue=function(t,e){var i,n;return i=this.getValue(),i=this.toS(i),t=this.toS(t),null==e&&(e=this.getPrecision()),i!==t?(this.$hiddenTarget.val(t),n=I18n.toNumber(t,{precision:e,delimiter:I18n.t("number.format.delimiter"),separator:I18n.t("number.format.separator")}),this.$visibleTarget.val(n),this.$target.hasClass("error")&&Validations.clearMessages(this.$target),this.trigger("valueChanged")):void 0},this.UIDecimal.prototype.toS=function(t){return t?null!=t.toPreciseString?t.toPreciseString(this.getPrecision()):null!=t.toString?t.toString():t:void 0},this.UIDecimal.prototype.getValue=function(){return this.$hiddenTarget.val()},this.UIDecimal.prototype.getPrecision=function(){var t;return t=this.$visibleTarget.attr("data-scale"),null!=t?parseInt(t):2},this.UIDecimal.prototype.updateValueFor=function(){var e,i,n,r,a;return i=I18n.t("number.format.delimiter"),r=I18n.t("number.format.separator"),e=this.$visibleTarget,a=e.val(),n=this.getPrecision(),a=UIDecimal.convertToDecimal(a,n),a=UIDecimal.handlePaddingZeroes(a,n),a=a.replace(r,"."),a=I18n.toNumber(a,{delimiter:i,separator:r,precision:n}),a!==e.val()?(e.val(a),t.call(this)):void 0},this.UIDecimal.isValidDecimal=function(t,e){var i,n,r,a;return i=I18n.t("number.format.delimiter"),a=I18n.t("number.format.separator"),n=new RegExp("^[+-]?[0-9]{0,3}(?:\\"+i+"?\\d?)*[\\"+a+"]?\\d{0,"+e+"}$"),r=n.test(t)},this.UIDecimal.convertToDecimal=function(t,e){var i,n,r,a,s;return i=I18n.t("number.format.delimiter"),a=I18n.t("number.format.separator"),r=new RegExp("[^(\\d|\\"+a+"|\\-)]","g"),n=new RegExp("\\"+a,"g"),t=t.replace(r,""),t=t.replace("-","N").replace(/-/g,"").replace("N","-"),e>0?(t=t.replace(a,"P").replace(n,"").replace("P",a),s=t.split(a),s.length>1&&(t=s[0]+a+s[1].substr(0,e))):t=t.replace(n,""),t},this.UIDecimal.handlePaddingZeroes=function(t,e){var i,n;return i=I18n.t("number.format.separator"),0===e?t:(t=t.replace(/^[0]+/g,""),-1===t.indexOf(i)&&(t+=i),0===t.indexOf(i)&&(t="0"+t),n=e-t.length+t.indexOf(i)+1,n>0&&(t+=Array(n+1).join("0")),t)}}.call(this),function(){var t,e,i,n;this.UIGrid=widget("UIGrid"),this.UIGrid.prototype.initialize=function(n){var r,a,s,o,l,u;return o=this,UIGrid.superclass.initialize.call(this,n),this.rowAction=this.$target.data("row_action"),this.resourcePath=this.$target.data("resource_path"),this.$table=$(this.$target.find("table")),this.$thead=$(this.$table.find("thead")),this.$tbody=$(this.$table.find("tbody")),this.forModel=this.$target.attr("id").replace("_grid",""),this.row_template_path="templates"+this.$target.data("row_template_path"),this.rowTemplatePath=this.row_template_path,this.hide_grid_when_empty=this.$target.data("hide_grid_when_empty"),this.hideGridWhenEmpty=this.hide_grid_when_empty,this.wrapper=this.$target.find(".wrapper"),this.pager=this.child_with_tag("pager"),this.lazyLoading=this.$target.data("lazy_loading"),this.lazyLoading?(this.resetMaxHeight(),$(this.pager).on("loadMore",function(t){return function(){return t.loadMore()}}(this))):$(this.pager).on("gotoPage",function(t){return function(){return t.refresh()}}(this)),Tables.applyRowBanding(this),r=this.$thead.find("tr"),this.hiddenFieldNames=r.data("hidden_fields").split(","),this.visibleFieldNames=r.data("visible_columns").split(","),this.configurable=this.$target.data("configurable"),this.configurable&&(this.configurableKey=this.$target.data("configurable_key"),this.configDialog=this.child_with_tag("config_dialog"),this.configForm=this.configDialog.child_with_tag("config_form"),this.configurableSortable=this.$target.data("configurable_sortable"),this.configurableSortable&&(this.configList=this.configForm.$form.find(".sortable"),this.configList.sortable({handle:".handle"})),this.configReset=this.configForm.child_with_tag("config_reset"),this.selectedColumns=this.visibleFieldNames,this.configCallbackFn=$.proxy(this.configCallback,this),this.configReset.$target.on("click",function(t){return function(e){var i;return e.preventDefault(),i=new UserPreferenceStore,i.store("grid.config."+t.configurableKey,void 0,t.configCallbackFn)}}(this)),this.configForm.$form.on("submit",function(t){return function(e){var i;return e.preventDefault(),t.configForm.saveInitialState(),t.updateSelectedColumns(),i=new UserPreferenceStore,i.store("grid.config."+t.configurableKey,t.selectedColumns,t.configCallbackFn)}}(this)),$(this.configDialog).on("closed",function(t){return function(){return t.configForm.restoreInitialState()}}(this))),this.sort_order=this.$target.data("sort_order"),this.sortOrder=this.sort_order,this.sort_column=this.$target.data("sort_column"),this.sortColumn=this.sort_column,s=this.extractOptions(),s.hoverColumn&&(u=s.tooltipTemplate?s.tooltipTemplate:"grid_tooltip",this.tooltipTemplate="templates/"+u,l=e.call(this,s),a=void 0,this.$tbody.on("mouseover",l,function(e){var n,r,l;return n=$(this),r=n.closest("tr"),l=t.call(o,r,s),a=$(l).appendTo(UIComponent.$body),a.css(i(n,a))}),this.$tbody.on("mouseout",l,function(t){return a.detach()})),this.updateSortClasses($.inArray(this.sortColumn,this.visibleFieldNames)),this.$tbody.on("click","tr",function(t){return function(e){var i;if(!("A"===e.target.nodeName||$(e.target).parents(".actions, a").length>0))return i=e.currentTarget.rowIndex,t.trigger("rowClicked",[i,t.dataForRow(i)])}}(this)),this.$thead.on("click","th.sortable",function(t){var e;return e=o.sortColumn,o.sortColumn=o.visibleFieldNames[this.cellIndex],e!==o.sortColumn?o.sortOrder="asc":o.sortOrder="asc"===o.sortOrder?"desc":"asc",o.updateSortClasses(this.cellIndex),o.refresh()})},this.UIGrid.prototype.configCallback=function(){return this.configDialog.close(),this.reloadPage()},this.UIGrid.prototype.reloadPage=function(){return window.location.reload()},this.UIGrid.prototype.updateSelectedColumns=function(){var t;return this.configurable?(t=this.configForm.$form.find('input:checkbox[checked="checked"]'),this.selectedColumns=Array(),t.each(function(t){return function(e,i){var n;return n=i.name.match(/^.*\[(.*)\]/)[1],n?t.selectedColumns.push(n):void 0}}(this))):void 0},this.UIGrid.prototype.appendRow=function(t){var e,i,n,r,a;return n=this.$target,r=[],e=[],_.forEach(this.hiddenFieldNames,function(e){return r.push({name:e,value:t[e]})}),_.forEach(this.visibleFieldNames,function(i,r){var a,s;return s=n.find("th")[r].className,a=t[i],"undefined"!=typeof a&&null!==a&&(a=a.toString()),e.push({klass:s,content:a})}),i={tags:r,cells:e},$.extend(!0,i,t),a=SMT[this.rowTemplatePath](i),$(this.target).find("tbody").append(a)},n=function(t){var e,i;return i={},_.forEach(this.hiddenFieldNames,function(e){i[e]=t.data(e)}),e=t.find("td"),_.forEach(this.visibleFieldNames,function(t,n){i[t]=e.eq(n).html()}),i},this.UIGrid.prototype.dataForRow=function(t){var e;return e=this.$target.find("tbody tr:nth-child("+t+")"),n.call(this,e)},this.UIGrid.prototype.dataForRowWithId=function(t){var e;return e=this.$target.find('tbody tr[data-id="'+t+'"]'),n.call(this,e)},this.UIGrid.prototype.applyFilter=function(t){return this.filter_params=t,this.refresh()},this.UIGrid.prototype.getRecordCount=function(){return this.$tbody.find("tr").length},this.UIGrid.prototype.showPath=function(t){return this.resourcePath+"/"+t.id},this.UIGrid.prototype.show_path=function(t){return Logger.deprecate("Deprecated, please use showPath method instead."),this.showPath(t)},this.UIGrid.prototype.editPath=function(t){return this.showPath(t)+"/edit"},this.UIGrid.prototype.edit_path=function(t){return Logger.deprecate("Deprecated, please use editPath method instead."),this.editPath(t)},this.UIGrid.prototype.copyPath=function(t){return this.showPath(t)+"/copy"},this.UIGrid.prototype.getLoadPath=function(){var t;return t=this.resourcePath,t+=-1===t.indexOf("?")?"?page=":"&page=",void 0!==this.pager&&(t=""+t+this.pager.current_page+"&rows="+this.pager.page_size),void 0!==this.configurableKey&&(t=t+"&configurable_key="+encodeURIComponent(this.configurableKey)),void 0!==this.sortColumn&&(t=t+"&sidx="+this.sortColumn+"&sord="+this.sortOrder),void 0!==this.filter_params&&_.forEach(this.filter_params,function(e){return t=t+"&"+e.name+"="+encodeURIComponent(e.value)}),t},this.UIGrid.prototype.refresh=function(){return this.lazyLoading&&this.pager&&this.pager.set_current_page(1),$.getJSON(this.getLoadPath(),function(t){return function(e){return t.$target.find("tbody tr").remove(),t.processData(e),t.setHeight(),t.trigger("refreshed")}}(this))},this.UIGrid.prototype.resetMaxHeight=function(){return this.wrapper.css("max-height",this.$table.height())},this.UIGrid.prototype.setHeight=function(){return void 0!==this.pager?(this.wrapper[0].className=this.wrapper[0].className.replace(/grid-size-\S+/g,""),this.wrapper.addClass("grid-size-"+this.pager.page_size)):void 0},this.UIGrid.prototype.loadMore=function(){return $.getJSON(this.getLoadPath(),function(t){return function(e){return t.processData(e),t.resetMaxHeight(),t.trigger("moreLoaded")}}(this))},this.UIGrid.prototype.processData=function(t){return _.forEach(t.rows,function(t){return function(e){return t.appendRow(e)}}(this)),this.hideGridWhenEmpty&&this.$target.toggleClass("hidden",0===this.getRecordCount()),void 0!==this.pager?(this.pager.set_current_page(t.page),this.pager.set_total_records(t.records)):void 0},this.UIGrid.prototype.updateSortClasses=function(t){return 0>t?void 0:(this.$target.find("col.sorted").removeClass("sorted"),this.$target.find("col:eq("+t+")").addClass("sorted"),this.$target.find(".sort_asc").removeClass("sort_asc"),this.$target.find(".sort_desc").removeClass("sort_desc"),this.$thead.find("th:eq("+t+")").addClass("sort_"+this.sortOrder))},e=function(t){var e,i;return i="tr",e=$.inArray(t.hoverColumn,this.visibleFieldNames)+1,t.hoverCondition&&(i=i+"[data-"+t.hoverCondition+'="true"]'),i=i+" td:nth-child("+e+")"},t=function(t,e){var i,n;return i=$.map(e.content,function(e,i){return t.data(e)}),n={header:t.data(e.header),content:i},SMT[this.tooltipTemplate](n)},i=function(t,e){var i,n,r;return i=t.offset(),n=e.outerHeight(),r=e.outerWidth(),{top:i.top+n/2,left:i.left-r/2}}}.call(this),function(){this.UIDeletingGrid=widget("UIDeletingGrid",this.UIGrid),this.UIDeletingGrid.prototype.initialize=function(t){return UIDeletingGrid.superclass.initialize.call(this,t),this.alertTarget=this.$target.data("alert_target"),this.confirmDelete=this.$target.data("confirm"),this.bindEvents()},this.UIDeletingGrid.prototype.onConfirm=function(t){var e,i;return e=t.id,this.trigger("willDelete",e),i="Deprecated: use willDelete on the instance instead.",Events.deprecate(i,this.$target,"willDelete",e),$.ajax({url:t.url,type:"DELETE",success:function(i){return function(){var n;return n=i.$tbody.find('tr[data-id="'+e+'"]')[0].rowIndex,t=i.dataForRow(n),i.refresh(),i.trigger("rowDestroySuccess",t)}}(this)})},this.UIDeletingGrid.prototype.appendRow=function(t){var e,i,n,r,a;return r=this.$target.data("resource_path")+"/"+t.id,e=t["can_delete?"]?"true"===t["can_delete?"]:!0,a=t.undeletable_reason,i='<img src="/assets/_.gif" alt="'+I18n.t("actions.delete")+'">',n=e?'<a rel="nofollow" class="confirm-remote" href="'+r+'">'+i+"</a>":'<span class="confirm-remote delete-disabled" data-reason="'+a+'"></span>',t._actions=n,UIDeletingGrid.superclass.appendRow.call(this,t)},this.UIDeletingGrid.prototype.bindEvents=function(){var t;return t=this,this.$tbody.on("click","a.confirm-remote",function(e){var i,n,r,a;return e.preventDefault(),i=$(this),r=i.closest("tr").data("id"),a=i.attr("href"),n={id:r,url:a},t.confirmDelete?t.trigger("callConfirm",n):t.onConfirm(n)}),this.$tbody.on("click",".delete-disabled",function(e){var i,n,r;return e.preventDefault(),i=$(this),r=i.data("reason"),n=UIComponent.root_element.child_with_tag(t.alertTarget),r?n.setMessage(r):n.resetMessage(),n.open()})}}.call(this),function(){var t,e,i;i="UIDropdown",this.UIDropdown=widget(i),this.UIFormInputs.register(i),this.UIDropdown.prototype.initialize=function(t){UIDropdown.superclass.initialize.call(this,t),this.$selectElement=this.$target.find("select").first(),this.$selectOptions=this.$selectElement.find("option"),this.$selectOptions.length>0&&(this.firstOption=this.$selectOptions[0],this.firstOptionValue=this.firstOption.value,this.firstOptionText=this.firstOption.text),this.hasPrompt=null!=this.firstOption&&0===this.firstOptionValue.length,this.saveInitialState()},this.UIComponent.mixin(this.UIDropdown.prototype,this.UIMixins.FormInputMixin),this.UIDropdown.prototype.afterInitialize=function(){return this.$selectElement.on("change",function(t){return function(){return setTimeout(function(){return t.trigger("valueChanged")},0)}}(this))},this.UIDropdown.prototype.updateOptions=function(i){var n,r;i instanceof Array||(i=e(i)),n={options:i},this.hasPrompt&&(n.prompt={value:this.firstOptionValue,text:this.firstOptionText}),r=t(n),this.$selectElement.empty().append(r)},e=function(t){var e,i,n,r;n=[];for(i in t)r=t[i],"selected"!==r&&(e=r===t.selected,n.push({value:r,text:i,selected:e}));return n},t=function(t){return SMT["templates/ui_dropdown_options"]({results:t})}}.call(this),function(){var t,e;e="UIDropdownList",this.UIDropdownList=widget(e),this.UIFormInputs.register(e),this.UIDropdownList.prototype.initialize=function(t){var e,i,n;return UIDropdownList.superclass.initialize.call(this,t),this.$hiddenInput=this.$target.find("input.hidden"),this.hiddenInput=this.$hiddenInput.get(0),this.$visibleInput=this.$target.find("input.visible"),this.visibleInput=this.$visibleInput.get(0),this.$results=this.$target.find(".results"),this.$resultsItems=this.$results.find("ul li"),this.resultsClosed=this.$results.hasClass("hidden"),this.createOption=this.$results.find(".create"),this.filter="true"===this.$target.attr("data-filter"),this.nullBlur=!1,this.createOption.length>0&&(n=this.createOption.data("target"),this.targetDialog=UIComponent.root_element.child_with_tag(n),this.targetForm=this.targetDialog.childrenOfType("UIForm")[0],e={dataType:"json",success:function(t){return function(e){return t.targetDialog.close(),t.appendDropdownListItem(e.data)}}(this)},this.targetForm.setupAjax(e),$(this.targetDialog).on("opened",function(t){return function(e){return t.resetDialog()}}(this))),this.createOption.on("mousedown touchend",function(t){return function(){return t.targetDialog.open(),t.createSelected()}}(this)),i=this,this.$results.on("mousedown","li",function(t){return t.preventDefault(),i.handleSelect($(this))}),this.$target.on("touchstart","li",this,function(t){return function(e){t.dragging=!1}}(this)),this.$target.on("touchmove","li",this,function(t){return function(e){return t.dragging=!0}}(this)),this.$target.on("touchend","li",function(t){return i.dragging?void 0:i.handleSelect($(this))}),this.$results.on("mouseenter","li",function(t){return function(e){return t.handleMouseEnter(e)}}(this)),this.$results.on("mouseleave","ul, li",function(t){return function(e){return t.handleMouseLeave()}}(this)),this.$results.on("mousedown","ul",function(t){return function(e){"LI"!==e.target.tagName&&(t.nullBlur=!0)}}(this)),this.$results.on("mouseout","ul",function(t){return function(e){t.nullBlur=!1}}(this)),this.$target.on("mousedown touchstart",".input-icon",function(t){return function(e){return e.preventDefault(),t.$visibleInput.focus(),t.toggleResults()}}(this)),this.$visibleInput.on("click",function(t){return function(){return t.toggleResults(),t.filter?Browser.isIE8()?t.$visibleInput.select():t.visibleInput.setSelectionRange(0,9999):void 0}}(this)),this.$visibleInput.on("blur",function(t){return function(){return t.nullBlur?t.$visibleInput.focus():(t.closeResults(),t.filter?t.clearFilter(!0):void 0)}}(this)),this.$visibleInput.on("keydown",null,this,function(t){return function(e){var i,n;return Events.isTabKey(e)?t.handleSelect():(n=Events.isMetaKey(e),i=Events.isEnterKey(e),!i&&t.filter||n?void 0:e.preventDefault())}}(this)),this.$visibleInput.on("keyup",null,this,function(t){return function(e){return Events.isUpKey(e)||Events.isDownKey(e)?(t.openResults(),t.handleHighlight(e)):Events.isEnterKeyup(e)||Events.isSpaceKey(e)&&!t.$target.hasClass("filter-active")?t.handleSelect():Events.isEscKey(e)?t.handleEscape(e):t.filter&&!Events.isTabKey(e)?(t.handleFilter(),t.openResults()):t.openResults()}}(this))},this.UIDropdownList.prototype.resetDialog=function(){var t,e,i,n,r;if(this.targetForm.toCreate(),this.filter){for(i=this.targetDialog.$target.find(":input:tabbable:first"),e=this.$visibleInput.val(),t=[],n=0;n<this.$resultsItems.length;)r=$(this.$resultsItems[n]).text().toLowerCase(),t.push(r),n++;return-1===t.indexOf(e.toLowerCase())&&i.val(e),setTimeout(function(){return i.focus()},300)}},this.UIDropdownList.prototype.appendDropdownListItem=function(t){var e;return e='<li class="selected" data-value="'+t.id+'">'+t.name+"</li>",this.$results.find('[data-value=""]').after(e),this.$resultsItems=this.$results.find("li"),this.setValue(t.id),$(this).trigger("recordCreated"),this},this.UIComponent.mixin(this.UIDropdownList.prototype,this.UIMixins.ListHandler),this.UIComponent.mixin(this.UIDropdownList.prototype,this.UIMixins.FormInputMixin),this.UIDropdownList.prototype.afterInitialize=function(){return this.$visibleInput.on("change",function(t){return function(){return t.trigger("valueChanged")}}(this))},this.UIDropdownList.prototype.setValue=function(e){var i,n;return!e&&""!==e||!t.call(this,e)?!1:(i=this.getValue(),n=this.$resultsItems.filter('[data-value="'+e+'"]'),this.$resultsItems.removeClass("selected"),n.addClass("selected"),this.$visibleInput.val(n.text()),this.$hiddenInput.val(e),i!==e?this.trigger("valueChanged"):void 0)},this.UIDropdownList.prototype.getValue=function(){return this.$hiddenInput.val()},this.UIDropdownList.prototype.getLabel=function(){return this.$results.find('li[data-value="'+this.getValue()+'"]').first().text()},this.UIDropdownList.prototype.toggleResults=function(){return this.isReadonly()||this.isDisabled()?void 0:this.resultsClosed?this.openResults():this.closeResults()},this.UIDropdownList.prototype.openResults=function(){return this.isReadonly()||this.isDisabled()?void 0:(this.$results.removeClass("hidden"),this.resultsClosed=!1)},this.UIDropdownList.prototype.closeResults=function(){return this.nullBlur=!1,this.isReadonly()?void 0:(this.$results.addClass("hidden"),this.resultsClosed=!0,this.$results.find("li.select").removeClass("select"))},this.UIDropdownList.prototype.handleEscape=function(t){return this.resultsClosed?void 0:(t.preventDefault(),t.stopPropagation(),this.closeResults())},this.UIDropdownList.prototype.handleMouseEnter=function(t){var e;return e=$(t.target),this.$results.find("ul li").removeClass("select"),e.addClass("select")},this.UIDropdownList.prototype.handleMouseLeave=function(){return this.$results.find("ul li").removeClass("select")},this.UIDropdownList.prototype.handleSelect=function(t){var e,i;if(!this.resultsClosed&&(i=this.$target.find("ul li.selected"),e=t||this.$results.find("li.select"),e.length&&!e.hasClass("no-results")))return e.addClass("selected").siblings("li").removeClass("selected"),this.$hiddenInput.val(e.data("value")),this.$visibleInput.val(e.text()),this.closeResults(),this.filter&&this.clearFilter(),this.$target.trigger("change")},this.UIDropdownList.prototype.createSelected=function(){var t,e,i,n;return e=this.getLabel(),n=this.getValue(),t={label:e,value:n},this.trigger("createTriggered",t),i="Deprecated, use createTriggered on the instance instead.",Events.deprecate(i,this.$target,"createTriggered",t)},this.UIDropdownList.prototype.handleFilter=function(){var t,e,i,n,r,a,s,o,l,u,c;if(c=this.$visibleInput.val().toLowerCase(),s=this.$resultsItems,this.clearFilter(),""!==c){for(this.$target.addClass("filter-active"),e=0;e<s.length;)r=s[e],t=s.filter(r),a=r.textContent,o=a.toLowerCase(),u=o.indexOf(c),-1===u||""===t.attr("data-value")?t.addClass("hidden"):t.html(this.highlightMatches(a,c)),e++;if(s.removeClass("select"),s.filter(':not(".hidden")').first().addClass("select"),0===s.find(":not(.hidden)").length)return l=this.$visibleInput.val(),n={term:$("<div/>").text(l).html()},i=I18n.t("dropdownlist.no_results",n),this.$results.find("ul").prepend('<li class="no-results"><i>'+i+"</i></li>")}},this.UIDropdownList.prototype.clearFilter=function(t){var e;return t&&(e=this.$resultsItems.filter('[data-value="'+this.getValue()+'"]').text(),this.$visibleInput.val(e)),this.$results.find(".no-results").remove(),this.$resultsItems.find("u").contents().unwrap(),this.$resultsItems.find("strong").contents().unwrap(),this.$target.removeClass("filter-active"),this.$resultsItems.removeClass("hidden")},t=function(t){return this.$results.find('li[data-value="'+t+'"]').length>0}}.call(this),function(){var t,e;e="UIDropdownSuggest",this.UIDropdownSuggest=widget(e),this.UIFormInputs.register(e),this.UIDropdownSuggest.prototype.initialize=function(e){var i;return UIDropdownSuggest.superclass.initialize.call(this,e),i=this.extractOptions(),this.url=i.url,this.canCreate=i.create,this.showItemLabel=i.showItemLabel,this.createText=this.$target.attr("data-create-text")||I18n.t("actions.javascript.create_item"),this.noResultsText=I18n.t("helpers.dropdown_suggest.no_results"),this.input=this.$target.find(".visible"),this.hiddenInput=this.$target.find(".hidden"),this.typedSuggestion=this.$target.find(".typed"),this.untypedSuggestion=this.$target.find(".untyped"),this.suggestion=null,this.timeDelay=200,this.pagination="false"!==this.$target.attr("data-pagination"),this.currentPage=1,this.liTrigger=null,this.pageSize=10,this.totalRecords=0,this.template=SMT["templates/ui_dropdown_suggest"],this.filterApplied=!1,this.nullBlur=!1,this.inputIcon(),this.input.on("beforeValidation blur",null,this,function(t){return function(e){return t.nullBlur?t.input.focus():(t.timer&&clearTimeout(t.timer),t.$target.find(".results").length>0&&t.valueMatchesSuggestion()&&t.selectSuggestion(),t.removeList(!1))}}(this)),this.input.on("focus",null,this,function(t){return function(){return t.nullBlur&&t.nullBlur?void 0:(t.getValue()&&(t.filterApplied=!1),t.removeCreate(),t.getResults(!0,0),setTimeout(function(){return t.input[0].setSelectionRange(0,9999)},0))}}(this)),this.input.on("keydown",null,this,function(t){return function(e){return Events.isEnterKey(e)&&e.preventDefault(),Events.isTabKey(e)&&t.handleSelection(),Events.isNavigationKeyup(e)?void 0:t.recommendResult()}}(this)),this.input.on("keyup paste cut copy",null,this,function(e){return function(i){return Events.isEscKey(i)?e.removeList(!1):Events.isEnterKey(i)?(0===e.totalRecords&&e.canCreate&&e.$target.find("a.create").first().trigger("mousedown"),e.selectSuggestion()):(Events.isNavigationKeyup(i)&&(e.handleHighlight(i),e.recommendResult()),t(i)?(e.resetSelection(),e.filterApplied=!0,e.currentPage=1,e.getResults()):void 0)}}(this)),this.$target.on("mouseenter","li",this,function(t){return function(t){return $(t.target).addClass("select")}}(this)),this.$target.on("mouseleave","li",this,function(t){return function(){return t.$target.find("ul li").removeClass("select")}}(this)),this.$target.on("mousedown","li",this,function(t){return function(e){return t.handleSelection()}}(this)),this.$target.on("mousedown touchend","a.create",this,function(t){return function(e){return e.preventDefault(),t.trigger("itemCreate",[t.input.val()]),Validations.clearMessages(t.$target),t.removeList(!1),t.removeCreate()}}(this)),this.$target.on("touchstart","li",this,function(t){return function(e){t.dragging=!1}}(this)),this.$target.on("touchmove","li",this,function(t){return function(e){return t.dragging=!0}}(this)),this.$target.on("touchend","li",this,function(t){return function(e){return t.dragging?void 0:t.handleSelection($(e.currentTarget))}}(this)),this.getResults=function(t){return function(e,i){return null==e&&(e=!0),null==i&&(i=t.timeDelay),t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){var i;return i=t.filterApplied?t.input.val():"",t.requestData(i,t.url,e)},i)}}(this),this.canCreate?this.$target.on("afterValidation",function(t){return function(){return t.removeCreate(),t.hasError()&&t.input.val()?t.showCreate(t.input.val()):void 0}}(this)):void 0},this.UIComponent.mixin(this.UIDropdownSuggest.prototype,this.UIMixins.FormInputMixin),this.UIComponent.mixin(this.UIDropdownSuggest.prototype,this.UIMixins.ListHandler),this.UIComponent.mixin(this.UIDropdownSuggest.prototype,this.UIMixins.InputIconMixin),this.UIDropdownSuggest.prototype.showCreate=function(t){var e,i,n;return this.input[0].errorMessage&&this.input[0].errorMessage.remove(),e={create:I18n.t("actions.javascript.create_single"),value:t},n=SMT["templates/ui_dropdown_suggest_create_message"],i=n(e),this.$target.find(".field").append(i)},this.UIDropdownSuggest.prototype.removeCreate=function(){var t;return t=this.$target.find(".create-message-wrapper"),t?t.remove():void 0},this.UIDropdownSuggest.prototype.selectSuggestion=function(){return this.suggestion?this.handleSelection(this.suggestion):void 0},this.UIDropdownSuggest.prototype.handleSelection=function(t){var e,i,n;return null==t&&(t=this.$target.find("li.select")),n=t.find(".item-title").text(),i=t.attr("data-suggest-id"),e=t.attr("data-suggest-resource"),n.length&&(this.setSuggestion({visible:n,hidden:i}),this.trigger("itemSelected",[i,e,t.text()])),this.removeList(!1)},this.UIDropdownSuggest.prototype.setSuggestion=function(t){return null==t&&(t={}),this.input.val(t.visible),this.hiddenInput.val(t.hidden),t.reValidate&&this.input.trigger("blur.validations"),t.silent?void 0:(this.$target.trigger("change"),this.trigger("valueChanged"))},this.UIDropdownSuggest.prototype.resetSelection=function(){return this.hiddenInput.val("")},this.UIDropdownSuggest.prototype.getValue=function(){return this.hiddenInput.val()},this.UIDropdownSuggest.prototype.setValue=function(t){var e;return e=this.getValue(),e=this.toS(e),t=this.toS(t),e!==t?(Validations.clearMessages(this.$target),this.hiddenInput.val(t),this.trigger("valueChanged")):void 0},this.UIDropdownSuggest.prototype.addList=function(t,e){var i,n,r;return i=this.resultsTemplateData(t),this.totalRecords=t[0].records,this.canCreate&&(i.create={createText:this.createText}),0!==this.totalRecords||this.canCreate||(i.errors={noResultsText:this.noResultsText}),n=this.template(i),e?(this.removeList(!0),r="span.field"):(n=$(n).find("li"),r=".results ul"),this.$target.find(r).append(n),this.filterApplied&&this.highlightMatchedText(),this.liTrigger=this.$target.find(".results ul li:nth-last-child(2)"),this.setupScrollEvent(),e&&0!==this.input.val().length&&this.recommendResult(),0===this.totalRecords&&this.canCreate?(this.$target.find("a.create").addClass("focus"),this.$target.find(".results ul").hide()):void 0},this.UIDropdownSuggest.prototype.resultsTemplateData=function(t){return{results:t,showItemLabel:this.showItemLabel}},this.UIDropdownSuggest.prototype.highlightMatchedText=function(){var t,e,i,n,r,a,s;if(a=this.$target.find(".results li"),this.input.val().length){for(s=[],e=0,i=a.length;i>e;e++)n=a[e],t=$(n).find(".item-title"),r=t.text(),s.push(t.html(this.highlightMatches(r,this.input.val().toLowerCase())));return s}},this.UIDropdownSuggest.prototype.removeList=function(t){return null==t&&(t=!0),this.nullBlur=!1,this.suggestion=null,this.updateSuggestedResultText(),this.currentPage=1,t?this.$target.find(".results").remove():this.$target.find(".results").hide()},this.UIDropdownSuggest.prototype.getNextPage=function(){return this.currentPage++,this.getResults(!1,0)},this.UIDropdownSuggest.prototype.updateSuggestedResultText=function(){return setTimeout(function(t){return function(){var e,i,n;return t.valueMatchesSuggestion()?(e=t.input.val(),t.suggestion.addClass("select"),t.typedSuggestion.text(e),i=t.suggestion.find(".item-title").text(),n=i.substr(e.length,i.length),t.untypedSuggestion.text(n)):t.valuePartMatchesSuggestion()?(t.suggestion.addClass("select"),t.untypedSuggestion.text("")):(t.typedSuggestion.text(""),t.untypedSuggestion.text(""))}}(this),0)},this.UIDropdownSuggest.prototype.valueMatchesSuggestion=function(){var t,e;return this.input.val()&&this.suggestion?(e=this.retrieveValues(),e.inputValue.length>e.suggestionValue.length?!1:(t=e.suggestionValue.substr(0,e.inputValue.length),e.inputValue===t)):!1},this.UIDropdownSuggest.prototype.valuePartMatchesSuggestion=function(){var t;return this.input.val()&&this.suggestion?(t=this.retrieveValues(),t.inputValue.length>t.suggestionValue.length?!1:t.suggestionValue.indexOf(t.inputValue)>-1):!1},this.UIDropdownSuggest.prototype.retrieveValues=function(){var t;return t={inputValue:this.input.val().toLowerCase(),suggestionValue:this.suggestion.find(".item-title").text().toLowerCase()}},this.UIDropdownSuggest.prototype.recommendResult=function(){var t;return t=this.$target.find(".results li.select"),0===t.length&&(t=this.$target.find(".results li:not(.group)").first()),this.suggestion=t,this.updateSuggestedResultText()},this.UIDropdownSuggest.prototype.setupScrollEvent=function(){var t;return t=this.$target.find(".results ul"),this.pagination&&t.on("scroll",function(e){
return function(){return e.liTriggerIsVisible(t)&&(t.off("scroll"),!e.resultsLimitReached())?e.getNextPage():void 0}}(this)),t.on("mousedown",function(t){return function(e){"LI"!==e.target.tagName&&(t.nullBlur=!0)}}(this)),t.on("mouseout",function(t){return function(e){t.nullBlur=!1}}(this))},this.UIDropdownSuggest.prototype.resultsLimitReached=function(){var t;return t=Math.ceil(this.totalRecords/this.pageSize),this.currentPage===t},this.UIDropdownSuggest.prototype.liTriggerIsVisible=function(t){return this.liTrigger.position().top<t.height()},this.UIDropdownSuggest.prototype.requestData=function(t,e,i){var n;if(!this.input.attr("readonly"))return n={value:t},this.pagination&&(n.page=this.currentPage,n.rows=this.pageSize),$.ajax({url:e,type:"GET",dataType:"json",data:n,success:function(t){return function(e,n,r){return t.addList(e.data,i)}}(this)})},t=function(t){return Events.isValidKeypress(t)||Events.isEventType(t,"paste")||Events.isEventType(t,"cut")||Events.isEventType(t,"copy")}}.call(this),function(){this.UIExpandMultiButton=widget("UIExpandMultiButton"),this.UIExpandMultiButton.prototype.initialize=function(t){return UIExpandMultiButton.superclass.initialize.call(this,t),Modernizr.touch?(this.closeButton=this.$target.find(".icon-close"),this.setupForTouch()):void 0},this.UIExpandMultiButton.prototype.setupForTouch=function(){return this.closeButton.show(),this.$target.on("touchstart",function(t){return function(){return t.$target.removeClass("closed")}}(this)),this.closeButton.on("click",function(t){return function(){return t.$target.addClass("closed")}}(this))}}.call(this),function(){var t,e,i,n,r,a,s,o;this.UIFieldsForMany=widget("UIFieldsForMany"),this.UIFieldsForMany.prototype.initialize=function(t){var e;return e={self:this},UIFieldsForMany.superclass.initialize.call(this,t),this.parentForm=this.parent_of_type("UIForm"),this.fixed=this.$target.data("fixed_association"),this.readonly=this.$target.data("readonly"),this.min=parseInt(this.$target.data("min")),this.max=parseInt(this.$target.data("max")),this.isPositive=function(t){return t>0&&t===parseInt(t)?!0:!1},this.fixed||this.readonly?void 0:(this.container=this.$target.find("> ul:first"),this.createButton=this.$target.find("> .add:first"),this.lastRecord=this.container.find("> li:last"),this.placeholder=this.setupPlaceholder(),this.lastRecord.remove(),this.recordCount=this.container.find("> li:visible").length,this.updateValidActions(),this.resetEvents(),$(this.parentForm).on("afterToCreate",e,a))},this.UIFieldsForMany.prototype.setupPlaceholder=function(){var t;return t=this.lastRecord.clone(!1),t.addClass("unsaved"),Validations.unsetValidationEvents(t),t.find("input.hasDatepick").removeClass("hasDatepick"),t},this.UIFieldsForMany.prototype.resetEvents=function(){var t;return t={self:this},this.recordCount=this.container.find("> li:visible").not(".hidden").length,this.updateValidActions(),this.container.find("> li .delete input:checkbox").off("change"),this.container.find("> li .delete:not(.disabled) input:checkbox").on("change",null,t,r),this.createButton.off("click keypress"),this.createButton.not(".disabled").on("click keypress",null,t,i)},this.UIFieldsForMany.prototype.updateValidActions=function(){return this.isPositive(this.min)&&this.min>=this.recordCount?this.container.find("> li .delete").addClass("disabled"):this.container.find("> li .delete").removeClass("disabled"),this.isPositive(this.max)&&this.recordCount>=this.max?this.createButton.addClass("disabled"):this.createButton.removeClass("disabled")},this.UIFieldsForMany.prototype.collectionTargets=function(){return this.container.find("> li:not(.hidden)")},this.UIFieldsForMany.prototype.removeRecordAtIndex=function(t){var e;return e=this.container.find("li:eq("+t+")"),s(this,e)},this.UIFieldsForMany.prototype.addRecord=function(){return e(this)},a=function(t){var e;return e=t.data.self,e.fixed||e.container.find("> li").remove(),e.resetEvents()},r=function(t){var e,i,n,r,a,o;return o=t.data.self,e=$(this).closest("li"),a=o.toObject(e),i=[e,a],n=s(o,e),o.trigger("recordRemoved",[e,n]),r="Deprecated, use recordRemoved instead.",Events.deprecate(r,$(o),"destroyRecord",i),r="Deprecated, use destroyRecord on the instance instead.",Events.deprecate(r,o.$target,"recordDeleted",i),o.resetEvents()},s=function(t,e){var i,r;return i=t.container.find("li"),r=i.index(e),e.hasClass("placeholderRecord")?void 0:(e.hasClass("unsaved")?e.remove():e.addClass("hidden"),n(e),r)},i=function(t){var i,n,r;return r=t.data.self,t.preventDefault(),e(r),r.resetEvents(),n=r.$target.find("li").last(),r.trigger("recordAdded",n),i="Deprecated, use recordAdded instead",Events.deprecate(i,$(r),"newRecord",n)},t=function(t){var e;return e=t.placeholder.clone(!1),e=o(e)},e=function(e){var i;return i=t(e),e.container.append(i),Validations.setValidationEvents(i,e.parentForm.resource_key),UIComponent.initialize_widgets(i),i},o=function(t){var e,i,n;return i=/^.+\]\[(\d+)\]\[.+$/,e=/^.+(\_\d+\_).+$/,n=(new Date).getTime(),t.find("input, select, label, textarea").each(function(t,r){var a,s,o,l,u,c,h;return a=$(r),o=a.attr("id"),s=a.attr("for"),l=a.attr("name"),o&&(c=o.replace(e.exec(o)[1],"_"+n+"_"),a.attr("id",c)),s&&(u=s.replace(e.exec(s)[1],"_"+n+"_"),a.attr("for",u)),l?(h=l.replace(i.exec(l)[1],n),a.attr("name",h)):void 0}),t},n=function(t){return t.find(":not(.delete) :input").prop("disabled",!0)}}.call(this),function(){var t;t="UIFileUpload",this.UIFileUpload=widget(t),this.UIFormInputs.register(t),this.UIFileUpload.prototype.initialize=function(t){return UIFileUpload.superclass.initialize.call(this,t),this.$fileInput=this.$target.find("input[type=file]"),this.$fileText=this.$target.find(".file-path"),this.$fileContainer=this.$target.find(".file"),this.initialText=this.$fileText.val(),this.$fileInput.on("change",function(t){return function(){return t.updateVal()}}(this)),this.saveInitialState()},this.UIComponent.mixin(this.UIFileUpload.prototype,this.UIMixins.FormInputMixin),this.UIFileUpload.prototype.saveInitialState=function(){var t,e;return e=this.$target.find("input:file"),t=this.$target.find("input.file-path"),this.initialState={value:this.getValue(),disabled:e.attr("disabled")?!0:!1,readonly:e.attr("readonly")?!0:!1,filePath:{disabled:t.attr("disabled")?!0:!1,readonly:t.attr("readonly")?!0:!1}}},this.UIFileUpload.prototype.saveDefaultState=function(){var t,e;return e=this.$target.find("input:file"),t=this.$target.find("input.file-path"),this.defaultState={value:this.getValue(),disabled:e.attr("disabled")?!0:!1,readonly:e.attr("readonly")?!0:!1,filePath:{disabled:t.attr("disabled")?!0:!1,readonly:t.attr("readonly")?!0:!1}}},this.UIFileUpload.prototype.restoreInitialState=function(){var t,e;return e=this.$target.find("input:file"),t=this.$target.find("input.file-path"),this.initialState?(e.val(""),this.setValue(this.initialState.value),e.attr("disabled",this.initialState.disabled),e.attr("readonly",this.initialState.readonly),t.attr("disabled",this.initialState.filePath.disabled),t.attr("readonly",this.initialState.filePath.readonly)):void 0},this.UIFileUpload.prototype.setValue=function(t){var e;return e=this.getValue(),this.$target.find("input.file-path").val(t),e!==t?this.trigger("valueChanged"):void 0},this.UIFileUpload.prototype.updateVal=function(){var t;return t=$(this.$fileInput).val().replace("C:\\fakepath\\",""),t?(this.$fileText.val(t),this.$fileContainer.addClass("changed")):(this.$fileText.val(this.initialText),this.$fileContainer.removeClass("changed"))},this.UIFileUpload.prototype.getValue=function(){return this.$target.find("input.file-path").val()}}.call(this),function(){var t;this.UIForm=widget("UIForm"),this.UIForm.fieldTypes=this.UIFormInputs.types,this.UIForm.prototype.initialize=function(t){return UIForm.superclass.initialize.call(this,t),this.baseAction=this.$target.data("base_action"),this.resource_key=this.$target.data("resource"),this.defaultAjaxOpts={dataType:"json"},this.$form=$("form",this.target),this.form=this.$form.get(0),Modernizr.touch?this.autoFocus=!1:this.autoFocus="true"===this.$target.attr("data-autofocus"),Validations.setValidationEvents(this.$target,this.resource_key),this.saveInitialState(),this.$cancel=this.$form.find(".cancel"),this.$cancel.on("click",this.goBack),this.$form.on("submit",function(t){return function(e){return t.validateOnSubmit(e)?(Unsaved.disable(),setTimeout(function(){return Unsaved.enable()},250),!0):!1}}(this)),this.autoFocus&&this.setAutoFocus(),Modernizr.generatedcontent?void 0:this.$target.find("div.presence label").append(I18n.t("label.required.javascript"))},this.UIForm.prototype.setAutoFocus=function(){return this.$target.find(":tabbable:first").focus()},this.UIForm.prototype.setupAjax=function(t){var e;return null==t&&(t={}),e=$.extend(!0,{},this.defaultAjaxOpts,t),this.$form.ajaxForm(e)},this.UIForm.prototype.goBack=function(t){var e;return Unsaved.disable(),t.stopPropagation(),t.preventDefault(),e=$(this).data("back")||$(this).attr("href"),e&&e.length&&"#"!==e?UIMethods.redirectTo(e):UIMethods.redirectBack()},this.UIForm.prototype.validateOnSubmit=function(t){var e,i,n,r;return i=$.Event("beforeFormValidation"),e=$.Event("afterFormValidation"),r=!1,n="Deprecated when triggered on $form, use the instance of UIForm instead.",Events.deprecate(n,this.$form,i),this.trigger(i),i.isDefaultPrevented()?!1:(r=Validations.validateForm(this.form,this.resource_key),Events.deprecate(n,this.$form,e,r),this.trigger(e,r),e.isDefaultPrevented()?!1:(r&&this.$target.find(".save").attr("disabled","disabled"),r))},this.UIForm.prototype.getFormFields=function(){var t;return t=[],_.forEach(UIFormInputs.types,function(e){return function(i){return $.merge(t,e.childrenOfType(i))}}(this)),t},this.UIForm.prototype.getCurrentState=function(){var t,e;return t=this.getFormFields(),e=[],_.forEach(t,function(t){var i;return i=t.getCurrentState(),e.push(i.value)}),e},this.UIForm.prototype.getInitialState=function(){var t,e;return t=this.getFormFields(),e=[],_.forEach(t,function(t){var i;return i=t.initialState,e.push(i.value)}),e},this.UIForm.prototype.saveInitialState=function(t){var e;return t?this.getCurrentState():(e=this.getFormFields(),_.forEach(e,function(t){return t.saveInitialState()}),this.initialState=this.getInitialState(),void 0)},this.UIForm.prototype.getDefaultState=function(){var t,e;return t=this.getFormFields(),e=[],_.forEach(t,function(t){return t.defaultState?e.push(t.defaultState.value):void 0}),e.length>0?e:!1},this.UIForm.prototype.saveDefaultState=function(){var t;t=this.getFormFields(),_.forEach(t,function(t){return t.saveDefaultState()}),this.defaultState=this.getDefaultState()},this.UIForm.prototype.restoreInitialState=function(){var t;return t=this.getFormFields(),_.forEach(t,function(t){return t.restoreInitialState()}),this.$target.find(".save").removeAttr("disabled"),this.trigger("restored")},this.UIForm.prototype.isDirty=function(){var t,e;return t=!1,e=this.getFormFields(),_.forEach(e,function(e){e.isDirty()&&(t=!0)}),t},this.UIForm.prototype.isVisible=function(){return this.form.offsetWidth>0&&this.form.offsetHeight>0},this.UIForm.prototype.toUpdateFor=function(e,i){return this.restoreInitialState(),this.populateWith(e),this.updateMethod("put"),this.form.action=this.baseAction+"/"+i,t.call(this).trigger("change"),Validations.clearMessages()},this.UIForm.prototype.toCreate=function(){return this.restoreInitialState(),this.updateMethod("post"),this.form.action=this.baseAction,t.call(this).trigger("change"),Validations.clearMessages(this.$target),this.trigger("afterToCreate")},t=function(){return void 0===this.initialStateInputs&&(this.initialStateInputs=this.$target.find(":input")),this.initialStateInputs},this.UIForm.prototype.updateMethod=function(t){var e,i;return this.form.method="get"===t?"get":"post",i=this.$target.find("input[name=_method]"),i.length?i.val(t):(e='<input type="hidden" name="_method" value="'+t+'"/>',this.$target.find("div:first").append(e))},this.UIForm.prototype.populateWith=function(t){return this.$form.populate(t,{useIndices:!0,phpIndices:!0}),this.$form.find('[data-ui-widget="UICheckbox"] input[type="hidden"]').val(0)},this.UIForm.prototype.disable=function(){return this.$target.find(":input:not(.cancel)").attr("disabled","disabled"),this.$target.find(".save").hide()},this.UIForm.prototype.enable=function(){return this.$target.find(":input").not(".disabled").removeAttr("disabled"),this.$target.find(".save").show()},this.UIForm.prototype.disableSave=function(){return this.$target.find(".save").attr("disabled","disabled")},this.UIForm.prototype.enableSave=function(){return this.$target.find(".save").not(".disabled").removeAttr("disabled")}}.call(this),function(){this.UIFilter=widget("UIFilter",this.UIForm),this.UIFilter.prototype.initialize=function(t){var e,i,n,r;for(UIFilter.superclass.initialize.call(this,t),i=this,r=this.$target.data("target").split(","),this.timeDelay=300,this.filterTargets=[],e=0;e<r.length;)n=UIComponent.root_element.child_with_tag(r[e]),this.filterTargets.push(n),e+=1;return this.filter_target=this.filterTargets[0],this.setupFilterTargetParams(),this.$target.on("keyup",'input[type="text"]:not(.hasDatepick):not(.suggestVisible)',function(){return clearTimeout(i.timer),i.timer=setTimeout(function(){return i.inputChanged()},i.timeDelay)}),this.$target.on("paste",'input[type="text"]:not(.hasDatepick):not(.suggestVisible)',function(){return clearTimeout(i.timer),i.timer=setTimeout(function(){return i.inputChanged()},10)}),this.$target.on("change","select, :checkbox, :radio, input.hasDatepick, input.suggestHidden",function(){return i.inputChanged()}),this.$form.on("submit",function(t){return t.preventDefault()})},this.UIFilter.prototype.inputChanged=function(){var t,e,i;if(i=Validations.validateForm(this.target,this.resource_key))for(t=this.retrieveFilterData(),e=0;e<this.filterTargets.length;)this.filterTargets[e].applyFilter(t),e+=1},this.UIFilter.prototype.setupFilterTargetParams=function(){var t,e;for(t=this.retrieveFilterData(),e=0;e<this.filterTargets.length;)this.filterTargets[e].filter_params=t,e+=1},this.UIFilter.prototype.retrieveFilterData=function(){var t,e;return t=this.$target.find(':input[name!=""]'),Browser.isLessThanIE(10)&&(t=$(t).map(function(){var t,e;return t=$(this),e=t.attr("placeholder"),void 0===e?this:t.val()!==e?this:t.clone().val("").get(0)})),e=t.serializeArray()}}.call(this),function(){this.UIHelpInline=widget("UIHelpInline"),this.UIHelpInline.prototype.initialize=function(t){return UIHelpInline.superclass.initialize.call(this,t)}}.call(this),function(){this.UIHelpPopOver=widget("UIHelpPopOver"),this.UIHelpPopOver.prototype.initialize=function(t){return UIHelpPopOver.superclass.initialize.call(this,t),this.helpLink=this.child_with_tag("help_link"),this.helpPopOver=this.child_with_tag("help_pop_over"),this.helpPopOver.target=this.helpLink,this.helpLink.hasTarget=!0,this.helpLink.linkTarget=this.helpPopOver}}.call(this),function(){var t;t="UIHiddenField",this.UIHiddenField=widget(t),this.UIFormInputs.register(t),this.UIHiddenField.prototype.initialize=function(t){return UIHiddenField.superclass.initialize.call(this,t),this.saveInitialState()},this.UIComponent.mixin(this.UIHiddenField.prototype,this.UIMixins.FormInputMixin)}.call(this),function(){var t;t="UITextbox",this.UITextbox=widget(t),this.UIFormInputs.register(t),this.UITextbox.prototype.initialize=function(t){return UITextbox.superclass.initialize.call(this,t),this.input=this.$target.find("input:text"),this.saveInitialState(),Browser.isLessThanIE(10)&&(this.defaultValue=$(this.input).attr("placeholder"),void 0!==this.defaultValue&&(this.parentForm=this.parent_of_type("UIForm"),this.$parentForm=$(this.parentForm),this.$parentForm.on("beforeFormValidation",function(t){return function(){t.removeDefaultValue(t.input,t.defaultValue)}}(this)),this.$parentForm.on("afterFormValidation",function(t){return function(e,i){i||t.applyDefaultValue(t.input,t.defaultValue)}}(this)),this.input.on("focusin",function(t){return function(){t.removeDefaultValue(t.input,t.defaultValue)}}(this)),this.input.on("focusout",function(t){return function(){t.applyDefaultValue(t.input,t.defaultValue)}}(this)),this.applyDefaultValue(this.input,this.defaultValue))),this.hasMaxLengthValidator()?this.setMaxLength(this.getMaxLengthValidator()):void 0},this.UIComponent.mixin(this.UITextbox.prototype,this.UIMixins.FormInputMixin),this.UIComponent.mixin(this.UITextbox.prototype,this.UIMixins.PlaceholderMixin)}.call(this),function(){var t;t="UIIbanInput",this.UIIbanInput=widget(t,this.UITextbox),this.UIFormInputs.register(t),this.UIIbanInput.prototype.initialize=function(t){var e;return e=this,UIIbanInput.superclass.initialize.call(this,t),Logger.warn("Deprecation: UIIbanInput, please use UIIban from the s1_sepa gem instead"),this.regex=/length_maximum-\d+|length_minimum-\d+/g,this.originalValidation=this.$target.attr("class").match(this.regex),this.originalMaxLength=this.input.attr("maxlength")||"",this.countryCode=null,this.countryCodes={AL:28,AD:24,AT:20,AZ:28,BH:22,BE:16,BA:20,BR:29,BG:22,CR:21,HR:21,CY:28,CZ:24,DK:18,DO:28,EE:20,FO:18,FI:18,FR:27,GE:22,DE:22,GI:23,GR:27,GL:18,GT:28,HU:28,IS:26,IE:22,IL:23,IT:27,KZ:20,KW:30,LV:21,LB:28,LI:21,LT:20,LU:20,MK:19,MT:31,MR:27,MU:30,MC:27,MD:24,ME:22,NL:18,NO:15,PK:24,PS:29,PL:28,PT:25,RO:24,SM:27,SA:24,RS:22,SK:24,SI:19,ES:24,SE:24,CH:21,TN:24,TR:26,AE:23,GB:22,VG:24,AO:25,BJ:28,BF:27,BI:16,CM:27,CV:25,IR:26,CI:28,MG:27,ML:28,MZ:25,SN:28},this.input.on("keypress",function(t){return Events.isSpaceKey(t)?t.preventDefault():void 0}),this.input.on("keyup",function(){var t;return t=this.value.substr(0,2).toUpperCase(),e.updateValidations(t)}),this.input.on("paste",function(t){var i;return i=this,e.removeValidation(),setTimeout(function(){var t;return t=i.value.substr(0,2).toUpperCase(),e.updateValidations(t),i.value=i.value.replace(RegExp(" ","g"),"").replace("	","")},50)})},this.UIIbanInput.prototype.updateValidations=function(t){return t!==this.countryCode?(this.removeValidation(),this.countryCode=t,this.addValidation()):void 0},this.UIIbanInput.prototype.addValidation=function(){var t;return t=this.countryCodes[this.countryCode],t?(this.$target.addClass("length_maximum-"+t+" length_minimum-"+t),this.input.attr("maxlength",t)):this.originalValidation?(_.forEach(this.originalValidation,function(t){return function(e){return t.$target.addClass(e)}}(this)),this.input.attr("maxlength",this.originalMaxLength)):void 0},this.UIIbanInput.prototype.removeValidation=function(){var t;return t=this.$target.attr("class").match(this.regex),t&&_.forEach(t,function(t){return function(e){return t.$target.removeClass(e)}}(this)),this.countryCode=null,this.input.attr("maxlength","")}}.call(this),function(){this.UIIndexCard=widget("UIIndexCard"),this.UIIndexCard.prototype.initialize=function(t){return UIIndexCard.superclass.initialize.call(this,t),this.isShown=!1,this.$visibleTarget=this.$target.find(".default_content"),this.visible_target=this.$visibleTarget.get(0),this.$card=this.$target.find(".card"),this.card=this.$card.get(0),this.$cardHandle=this.$card.find(".handle"),this.$card.css("visibility","hidden"),this.$target.css({overflow:"hidden",position:"relative"}),this.$target.height(this.$visibleTarget.outerHeight()),this.$card.width(this.$visibleTarget.outerWidth()),this.$cardHandle.on("click",function(t){return function(){return t.hide()}}(this))},this.UIIndexCard.prototype.show=function(){return this.isShown?void 0:(this.$visibleTarget.fadeOut("normal"),this.$card.css("top",this.$target.height()).animate({top:"0"}),this.$card.css("visibility","visible"),this.isShown=!0)},this.UIIndexCard.prototype.hide=function(){return this.$card.animate({top:this.$target.height().toString()+"px"},function(){return $(this).css("visibility","hidden")}),this.$visibleTarget.fadeIn("normal"),this.isShown=!1},this.UIIndexCard.prototype.hideInstantly=function(){return this.$card.css("top",this.$target.height().toString()+"px"),this.isShown=!1},this.UIIndexCard.prototype.hide_instantly=function(){return Logger.warn("Method Deprecation: hide_instantly - use hideInstantly instead"),this.hideInstantly()}}.call(this),function(){this.UILazyLoader=widget("UILazyLoader"),this.UILazyLoader.prototype.initialize=function(t){var e;return e=this,UILazyLoader.superclass.initialize.call(this,t),this.current_page=this.$target.data("current-page"),this.page_size=this.$target.data("page-size"),this.total_records=this.$target.data("total-records"),this.more=this.$target.find(".more"),this.more.on("click",function(){return $(this).hasClass("disabled")?!1:(e.set_current_page(e.current_page+1),e.trigger("loadMore",[e.current_page]),!1)})},this.UIComponent.mixin(this.UILazyLoader.prototype,this.UIMixins.PaginatorMixin)}.call(this),function(){var t=[].slice;this.UILink=widget("UILink"),this.UILink.prototype.initialize=function(e){return UILink.superclass.initialize.call(this,e),this.targetTag=this.$target.attr("data-target"),this.hasTarget=this.targetTag?!0:!1,this.hasTarget&&(this.linkTarget=UIComponent.root_element.child_with_tag(this.targetTag)),this.$target.on("click",function(t){return function(e){return t.isDisabled()?e.preventDefault():(t.trigger(e),t.hasTarget?(e.preventDefault(),t.linkTarget.trigger("toggleTarget",t)):void 0)}}(this)),this.$target.on("ajax:success",function(e){return function(){var i;return i=1<=arguments.length?t.call(arguments,0):[],e.isDisabled()?void 0:e.trigger("ajaxSuccess",i)}}(this)),this.$target.on("ajax:error",function(e){return function(){var i;return i=1<=arguments.length?t.call(arguments,0):[],e.isDisabled()?void 0:e.trigger("ajaxError",i)}}(this))},this.UILink.prototype.getUrl=function(){return this.target.href},this.UILink.prototype.setUrl=function(t){return this.target.href=t},this.UILink.prototype.getPath=function(){return this.target.pathname},this.UILink.prototype.setPath=function(t){return this.target.pathname=t},this.UILink.prototype.disable=function(){return this.$target.attr("disabled","disabled")},this.UILink.prototype.enable=function(){return this.$target.removeAttr("disabled")},this.UILink.prototype.isDisabled=function(){return this.$target.attr("disabled")?!0:!1}}.call(this),function(){this.UIMessage=widget("UIMessage"),this.UIMessage.prototype.initialize=function(t){return UIMessage.superclass.initialize.call(this,t),this.opts=this.extractOptions(),this.cookie=this.opts.cookie,this.cookieExpiry=this.opts.cookieExpiresOn,this.dismissLink=this.$target.find(".hide-message"),this.dismissable=this.dismissLink.length?!0:!1,this.dismissable?this.dismissLink.on("click",function(t){return function(e){return e.preventDefault(),t.hide()}}(this)):void 0},this.UIMessage.prototype.hide=function(){var t;this.$target.addClass("hidden"),this.trigger("messageHidden"),this.cookie&&(t=this.cookie+"=true",this.cookieExpiry&&(t+="; expires="+this.cookieExpiry),this.setCookie(t))},this.UIMessage.prototype.show=function(){this.$target.removeClass("hidden"),this.trigger("messageShown")},this.UIMessage.prototype.setCookie=function(t){return document.cookie=t}}.call(this),function(){this.UIMultiActionButton=widget("UIMultiActionButton"),this.UIMultiActionButton.prototype.initialize=function(t){return UIMultiActionButton.superclass.initialize.call(this,t),this.menu=this.$target.find(".UIMenu"),deviceIsAndroid?(this.links=this.$target.find(".UILink"),this.links.attr("disabled","disabled"),this.$target.on("touchstart",function(t){return function(){return t.links.attr("disabled","disabled")}}(this)),this.links.on("touchend",function(t){return function(){return t.links.removeAttr("disabled")}}(this))):void 0}}.call(this),function(){var t;this.UIMultiCheckboxDropdown=widget("UIMultiCheckboxDropdown"),this.UIMultiCheckboxDropdown.prototype.initialize=function(e){return UIMultiCheckboxDropdown.superclass.initialize.call(this,e),this.toggleLink=this.child_with_tag("primary_action"),this.checkboxContainer=this.$target.find(".checkbox_container"),this.isOpen=this.checkboxContainer.is(":visible"),this.labelContainer=this.child_with_tag("label"),this.totalSelected=this.labelContainer.$target.find("span[data-tag='selected']"),this.toggleLink.$target.on("click",function(t){return function(t){return t.preventDefault()}}(this)),this.checkboxContainer.on("change","input:checkbox",function(e){return function(i){return t.call(e)}}(this)),t.call(this)},this.UIMultiCheckboxDropdown.prototype.open=function(t){return this.checkboxContainer.show(),this.isOpen=!0,this.trigger("opened")},this.UIMultiCheckboxDropdown.prototype.close=function(t){return this.checkboxContainer.hide(),this.isOpen=!1,this.trigger("closed")},t=function(){return this.totalSelected.text(this.checkboxContainer.find("input:checkbox:checked").length)}}.call(this),function(){var t,e,i;this.UIMultiSelectGrid=widget("UIMultiSelectGrid",this.UIGrid),this.UIMultiSelectGrid.prototype.initialize=function(n){var r;return r=this,UIMultiSelectGrid.superclass.initialize.call(this,n),this.$selectAll=this.$target.find('input[id^="select_all"]'),this.selectedIds=[],t.call(this),this.$tbody.on("change","input:checkbox",function(t){var n;return n=$(this).closest("tr").attr("data-id"),e.call(r),i.call(r,this),r.trigger("rowSelected",n)}),this.$selectAll.on("change",function(e){var i;return r.$tbody.find("tr").length?(i=r.$selectAll.is(":checked")?"checked":!1,r.$tbody.find("input:checkbox").attr("checked",i),t.call(r)):(t.call(r),r.$selectAll.removeAttr("checked")),r.trigger("selectAllRows",r.selectedIds)}),$(this).on("refreshed",function(){return e.call(r)}),this.$tbody.off("click","tr"),this.$tbody.on("click","tr",function(t){var e;if("A"!==t.target.nodeName&&"checkbox"!==t.target.type&&"LABEL"!==t.target.nodeName&&!($(t.target).parent("a").length>0))return e=t.currentTarget.rowIndex,r.trigger("rowClicked",[e,r.dataForRow(e)])})},this.UIMultiSelectGrid.prototype.applyFilter=function(t){return this.selectedIds=[],UIMultiSelectGrid.superclass.applyFilter.call(this,t)},this.UIMultiSelectGrid.prototype.clearSelections=function(e){var i;return i=this.$target.find("input:checkbox"),i.removeAttr("checked"),t.call(this),e?this.refresh():void 0},this.UIMultiSelectGrid.prototype.appendRow=function(t){var e,i,n;return e=t.id.toString(),i={name:"select_row_"+e,checked:_.contains(this.selectedIds,e)},n=SMT["templates/ui_multi_select_grid_checkbox"](i),t._actions=n,UIMultiSelectGrid.superclass.appendRow.call(this,t)},i=function(t){var e,i;if(e=$(t).closest("tr").attr("data-id"),i=_.contains(this.selectedIds,e),t.checked){if(!i)return this.selectedIds.push(e)}else if(i)return _.pull(this.selectedIds,e)},t=function(){var t;return t=this,this.$tbody.find("tr input:checkbox").each(function(){return i.call(t,this)}),e.call(t)},e=function(){var t;return t=this.$tbody.find("input:checkbox"),this.$selectAll.removeAttr("checked"),t.length>0&&t.filter(":checked").length===t.length?this.$selectAll.attr("checked","checked"):void 0}}.call(this),function(){var t;t="UINumber",this.UINumber=widget(t),this.UIFormInputs.register(t),this.UINumber.prototype.initialize=function(t){return UINumber.superclass.initialize.call(this,t),this.$input=this.$target.find("input:text"),this.saveInitialState(),this.$input.on("paste",function(t){return function(e){return setTimeout(function(){var e;return e=t.getValue(),t.setValue(e)},0)}}(this)),this.$input.on("keypress",function(t){return function(e){return t.checkInput(e,t.$input)}}(this))},this.UIComponent.mixin(this.UINumber.prototype,this.UIMixins.FormInputMixin),this.UIComponent.mixin(this.UINumber.prototype,this.UIMixins.ValidNumberMixin),this.UINumber.prototype.setValue=function(t){var e;return e=!1,"string"!=typeof t&&(t=t.toString()),t=t.replace(/[^\d-]/g,""),0===t.indexOf("-")&&(e=!0),t=t.replace(/[^\d]/g,""),e&&(t="-"+t),UIMixins.FormInputMixin.setValue.call(this,t)}}.call(this),function(){this.UIPager=widget("UIPager"),this.UIPager.prototype.initialize=function(t){var e;return e=this,UIPager.superclass.initialize.call(this,t),this.current_page=this.$target.data("current-page"),this.page_size=this.$target.data("page-size"),this.total_records=this.$target.data("total-records"),this.prev=this.$target.find(".prev"),this.next=this.$target.find(".next"),this.current=this.$target.find(".current"),this.size=this.$target.find("select#size"),this.size.on("change",function(){return e.page_size=this.value,e.trigger("gotoPage",[e.current_page]),!1}),this.hightlighted=!1,this.current.on("click",function(){return e.highlighted?void(e.highlighted=!1):(this.setSelectionRange(0,this.value.length),e.highlighted=!0)}),this.current.on("blur",function(t){return function(){return t.highlighted=!1}}(this)),this.current.on("change",function(){var t;return t=/[^0-9]/g,this.value=this.value.replace(t,""),e.set_current_page(this.value),e.trigger("gotoPage",[this.value]),!1}),this.current.on("keypress",function(t){return function(e){return t.checkInput(e,t.current)}}(this)),this.prev.on("click",function(){return $(this).hasClass("disabled")?!1:(e.set_current_page(e.current_page-1),e.trigger("gotoPage",[e.current_page]),!1)}),this.next.on("click",function(){return $(this).hasClass("disabled")?!1:(e.set_current_page(e.current_page+1),e.trigger("gotoPage",[e.current_page]),!1)})},this.UIComponent.mixin(this.UIPager.prototype,this.UIMixins.PaginatorMixin),this.UIComponent.mixin(this.UIPager.prototype,this.UIMixins.ValidNumberMixin),this.UIPager.prototype.set_current_page=function(t){return UIMixins.PaginatorMixin.set_current_page.call(this,t),this.$target.find(".current").val(t)},this.UIPager.prototype.set_total_records=function(t){return UIMixins.PaginatorMixin.set_total_records.call(this,t),this.$target.find(".records").text(t),this.$target.find(".record-pluralize").text(I18n.t("pager.records",{count:t})),this.$target.find(".total").text(this.total_pages())},this.UIPager.prototype.update_buttons=function(){return this.prev.toggleClass("disabled",1===this.current_page),this.next.toggleClass("disabled",this.current_page===this.total_pages())}}.call(this),function(){this.UIPjax=widget("UIPjax"),this.UIPjax.prototype.initialize=function(t){return UIPjax.superclass.initialize.call(this,t),this.loaded=!1,this.push_state=this.$target.data("push-state")!==!1,this.pushState=this.push_state,this.currentUrl=this.$target.data("url"),this.current_url=this.currentUrl,this.autoLoad=this.$target.data("auto-load")!==!1,this.autoLoad?this.loadUrl(this.currentUrl):void 0},this.UIPjax.prototype.load_url=function(t){return this.loadUrl(t)},this.UIPjax.prototype.loadUrl=function(t){this.currentUrl=t,$.ajax({url:t,dataType:"html",beforeSend:function(t){t.setRequestHeader("X-PJAX","true")},success:function(e){return function(i){e.loaded=!0,e.$target.html(i),e.$proxyData=e.$target.find(".pjax_proxy"),e.$proxyReserve=UIComponent.$body.find("#proxy-reserve"),e.proxyObjectId=e.$target.attr("data-object-id"),e.$pjaxProxyElement=e.$proxyReserve.find(".pjax_proxy[data-object-id='"+e.proxyObjectId+"']"),e.$pjaxProxyElement.length>=1&&e.$pjaxProxyElement.remove(),e.$proxyData.attr("data-object-id",e.proxyObjectId).appendTo(e.$proxyReserve),e.$pjaxProxyElement=e.$proxyReserve.find(".pjax_proxy[data-object-id='"+e.proxyObjectId+"']"),UIComponent.initialize_widgets(e.$target),UIComponent.initialize_widgets(e.$pjaxProxyElement),SopUI.Router.start(t+".pjax"),e.trigger("successfulLoad"),e.pushState&&history.pushState(null,$(i).filter("title").text(),t)}}(this)})},this.UIPjax.prototype.reload=function(){return this.loadUrl(this.currentUrl)}}.call(this),function(){this.UIPod=widget("UIPod"),this.UIPod.prototype.initialize=function(t){return UIPod.superclass.initialize.call(this,t),this.$toggle=this.$target.find("a.toggle").first(),this.$content=this.$target.find(".content").first(),this.toggle=this.$toggle,this.toggle.on("click",function(t){return function(e){return e.preventDefault(),t.handleToggle()}}(this))},this.UIPod.prototype.handleToggle=function(){var t;return t=this,this.isOpen()?Browser.isIE7()?void this.close():this.$target.find(".content").slideUp("slow",function(){return t.close(),$(this).css("overflow","hidden")}):this.isClosed()?Browser.isIE7()?void this.open():this.$target.find(".content").slideDown("slow",function(){return t.open(),$(this).css("overflow","visible")}):void 0},this.UIPod.prototype.isCollapsible=function(){return this.$target.is(".collapsible")},this.UIPod.prototype.isOpen=function(){return this.$target.is(".collapsible.open")},this.UIPod.prototype.isClosed=function(){return this.$target.is(".collapsible.closed")},this.UIPod.prototype.open=function(){return this.$target.removeClass("closed").addClass("open")},this.UIPod.prototype.close=function(){return this.$target.removeClass("open").addClass("closed")}}.call(this),function(){this.UIPopOver=widget("UIPopOver"),
this.UIPopOver.prototype.initialize=function(t){return UIPopOver.superclass.initialize.call(this,t),this.isOpen=!this.$target.is(".hidden"),this.targetTag=this.$target.attr("data-target"),this.target=UIComponent.root_element.child_with_tag(this.targetTag),this.inputs=this.$target.find(":input").not("[type=hidden]"),this.pointer=this.$target.find(".pointer"),this.pointerLeft=parseInt(this.pointer.css("left")),this.position=this.extractOptions().position,Logger.deprecate("In SOP 2.0 this widget will no longer auto-align, you should set a position on the widget instead."),$(this).on("toggleTarget",function(t){return function(e){return t.handleToggleTarget(e)}}(this)),this.$target.on("toggleTarget",function(t){return function(e){var i;return i="toggleTarget should be triggered on the instance instead of the $target",Logger.deprecate("Deprecation: "+i),t.handleToggleTarget(e)}}(this)),$(document).on("keyup",function(t){return function(e){return Events.isEscKey(e)?t.close():void 0}}(this)),$(window).resize(function(t){return function(){return t.isOpen?t.setPosition():void 0}}(this))},this.UIComponent.mixin(this.UIPopOver.prototype,this.UIMixins.TitleMixin),this.UIPopOver.prototype.setupClickEventHandler=function(){return $("html").on("mousedown",function(t){return function(e){return $(e.target).parents(".UIPopOver").length?void 0:t.close()}}(this))},this.UIPopOver.prototype.handleToggleTarget=this.UIPopOver.prototype.open=function(){return this.$target.show().removeClass("hidden"),this.isOpen=!0,this.trigger("opened"),this.setupClickEventHandler(),this.setPosition()},this.UIPopOver.prototype.setPosition=function(){var t,e,i,n,r,a,s,o,l,u,c;switch(this.$target.removeClass(function(t,e){return(e.match(/\position-\S+/g)||[]).join(" ")}),this.$target.addClass("position-"+this.position),t=this.target.$target,l=t.offset(),o=t.outerHeight(),u=t.outerWidth(),c=l.top,r=l.left,n=r+this.$target.outerWidth(),e=document.body.scrollWidth,a=this.$target.outerHeight()/2-o/2,i=n-e,this.position){case"bottom":c+=o;break;case"top":c-=this.$target.outerHeight();break;case"left":(r-=this.$target.outerWidth())&&(c-=a);break;case"right":(r+=u)&&(c-=a)}return this.pointer.css("left",this.pointerLeft),i>0&&"optional"!==t.data("tag")&&(s=this.pointerLeft+i+5,this.pointer.css("left",s),r=r-i-5),this.$target.css({left:r,top:c})},this.UIPopOver.prototype.close=function(){return this.$target.hide(),this.isOpen=!1,this.trigger("closed")},this.UIPopOver.prototype.setupPopOverInputs=function(){return this.inputs=this.$target.find(":input").not("[type=hidden]"),$(this.inputs).off("keydown.popover"),$(this.inputs).on("keydown.popover",function(t){return function(e){return Events.isTabKey(e)?t.handleTab(e):void 0}}(this))},this.UIPopOver.prototype.handleTab=function(t){var e,i,n,r;if(t)return e=this.target.$target,r=e.find(":input").not("[type=hidden]"),n=this.isFocusLast(),i=this.isFocusFirst(),n&&!Events.isShiftKey(t)||i&&Events.isShiftKey(t)?(this.$target.find(":input:focus").trigger("blur"),r.length>0?r.focus():e.focus(),i&&Events.isShiftKey(t)&&t.preventDefault(),this.close()):void 0},this.UIPopOver.prototype.isFocusFirst=function(){return this.$target.find(":input:focus")[0]===this.inputs.first()[0]},this.UIPopOver.prototype.isFocusLast=function(){return this.$target.find(":input:focus")[0]===this.inputs.last()[0]},this.UIPopOver.prototype.setupTabEvents=function(t){return this.setupPopOverInputs(),t.on("keydown",function(t){return function(e){return Events.isTabKey(e)&&!Events.isShiftKey(e)&&t.isOpen&&t.inputs?(e.preventDefault(),t.inputs.first().focus()):void 0}}(this))}}.call(this),function(){this.UIPopupGrid=widget("UIPopupGrid"),this.UIPopupGrid.prototype.initialize=function(t){return UIPopupGrid.superclass.initialize.call(this,t),this.dialog=this.child_with_tag("dialog"),this.link=this.child_with_tag("link"),this.backLink=this.dialog.child_with_tag("back"),this.grid=this.dialog.child_with_tag("grid"),this.$viewer=this.dialog.$target.find(".viewer"),this.titleAttr=this.$target.data("title-attr"),this.originalTitle=this.dialog.$target.find("h1").text(),$(this.grid).on("rowClicked",function(t){return function(e,i,n){var r;return r=t.grid.showPath(n),$.getJSON(r,function(e){var i,r,a;return a="templates"+t.$target.data("view-template"),r=SMT[a](e),i=t.$viewer.find(".placeholder"),i.html(r),t.dialog.setTitle(e[t.titleAttr]),t.grid.$target.css("position","relative").animate({left:"-999px"}),t.$viewer.css("position","relative").animate({left:"0px"},function(){return t.grid.trigger("dataLoaded",n)})})}}(this)),$(this.dialog).on("closed",function(t){return function(e){return t.restoreTitle(),t.grid.$target.css("left","0px"),t.$viewer.css("left","999px")}}(this)),this.backLink.$target.on("click",function(t){return function(e){return e.preventDefault(),t.restoreTitle(),t.grid.$target.animate({left:"0px"}),t.$viewer.animate({left:"999px"})}}(this))},this.UIPopupGrid.prototype.restoreTitle=function(){return this.dialog.setTitle(this.originalTitle)}}.call(this),function(){this.UIProgressMeter=widget("UIProgressMeter"),this.UIProgressMeter.COLOURS={PINK:"#D99B9E",GREEN:"#C1D4A1",ORANGE:"#F8C78D",BLUE:"#84C7E1"},this.UIProgressMeter.prototype.initialize=function(t){return UIProgressMeter.superclass.initialize.call(this,t),this.options={duration:800,background:"#EFEFEF"},this.colour=UIProgressMeter.COLOURS[this.$target.data("colour").toUpperCase()],this.progress=this.$target.data("progress"),this.size=this.$target.data("size"),this.lineWidth=this.$target.data("line-width"),this.center=Math.floor(this.size/2),this.radius=Math.floor(this.center-this.lineWidth/2),this.$text=this.$target.find(".progress"),this.svg=this.$target.find(".svg")[0],this.paper=Raphael(this.svg,this.size,this.size),this.currentValue=0,this.initialiseArcFn(),this.drawInitialMeter(),Browser.isIE7()||Browser.isIE8()||Browser.isIOS()?this.drawProgress():this.drawAnimatedProgress()},this.UIProgressMeter.prototype.drawInitialMeter=function(){return this.circle=this.paper.circle(this.center,this.center,this.radius),this.circle.attr({stroke:this.options.background,"stroke-width":this.lineWidth})},this.UIProgressMeter.prototype.drawAnimatedProgress=function(){return this.meter=this.paper.path().attr({stroke:this.colour,"stroke-width":this.lineWidth,arc:[this.center,this.center,0,100,this.radius]}),setTimeout(function(t){return function(){t.meter.animate({arc:[t.center,t.center,t.progress,100,t.radius]},800,"cubic-bezier(0.645, 0.045, 0.355, 1.000)",function(){})}}(this),500),this.meter.onAnimation(function(t){return function(){return t.drawText()}}(this))},this.UIProgressMeter.prototype.drawText=function(){return this.$text.text(Math.floor(this.currentValue))},this.UIProgressMeter.prototype.initialiseArcFn=function(){return this.paper.customAttributes.arc=function(t){return function(e,i,n,r,a){var s,o,l,u,c;return o=360/r*n,s=(90-o)*Math.PI/180,u=e+a*Math.cos(s),c=i-a*Math.sin(s),l=r===n?[["M",e,i-a],["A",a,a,0,1,1,e-.01,i-a]]:[["M",e,i-a],["A",a,a,0,+(o>180),1,u,c]],t.currentValue=n,{path:l}}}(this)},this.UIProgressMeter.prototype.drawProgress=function(){return this.progress?(this.paper.path().attr({stroke:this.colour,"stroke-width":this.lineWidth,arc:[this.center,this.center,this.progress,100,this.radius]}),this.currentValue=this.progress,this.drawText()):void 0}}.call(this),function(){var t,e;e="UIRadioButton",this.UIRadioButton=widget(e),this.UIFormInputs.register(e),this.UIRadioButton.prototype.initialize=function(t){return UIRadioButton.superclass.initialize.call(this,t),this.saveInitialState(),this.$target.on("change",function(){return Validations.clearMessages($(this))})},this.UIComponent.mixin(this.UIRadioButton.prototype,this.UIMixins.FormInputMixin),this.UIRadioButton.prototype.afterInitialize=function(){return this.$target.find("input:radio").on("change",function(t){return function(){return t.trigger("valueChanged")}}(this))},this.UIRadioButton.prototype.setValue=function(e){var i,n,r;return i=this.getValue(),n=t.call(this),r=this.$target.find("input:radio"),n?r.attr("value",e).attr("checked",!0):r.attr("checked",e),Validations.clearMessages(this.$target),i!==e?this.trigger("valueChanged"):void 0},this.UIRadioButton.prototype.getValue=function(){var e;return e=t.call(this),e?this.$target.find("input:radio:checked").val():this.$target.find("input:radio").is(":checked")},this.UIRadioButton.prototype.clearSelected=function(){return this.$target.find("input:radio:checked").attr("checked",!1)},t=function(){return this.$target.find("input:radio").length>1}}.call(this),function(){this.UIRecurrenceDialog=widget("UIRecurrenceDialog"),this.UIRecurrenceDialog.prototype.initialize=function(t){var e;return UIRecurrenceDialog.superclass.initialize.call(this,t),e="Deprecation: UIRecurrenceDialog is being deprecated, please use UIDialog with a UIForm instead.",Logger.deprecate(e)}}.call(this),function(){var t,e,i,n;this.UIReport=widget("UIReport"),this.UIReport.prototype.initialize=function(t){var e,i;return UIReport.superclass.initialize.call(this,t),i=this,e=this.extractRawOptions(),this.resourcePath=e.resourcePath,this.rowTemplatePath="templates"+e.rowTemplatePath,this.filterParams={},this.visibleColumns=e.visibleColumns.split(","),this.columnOptions=this.extractOptions().columnOptions,this.$tbody=this.$target.find("tbody"),this.$tbody.on("click","tr[data-href]",function(){return i.handleRowClick(this)}),this.$tbody.on("click","tr.parent",function(){return i.handleRowToggle(this)}),Tables.applyRowBanding(this)},this.UIReport.prototype.handleRowToggle=function(t){var e,i;return i=$(t),e=i.nextUntil(".parent"),i.hasClass("open")?(i.removeClass("open"),e.removeClass("open")):(i.addClass("open"),e.addClass("open"),i.hasClass("odd")&&e.addClass("open-odd"),e.last().addClass("last-child"))},this.UIReport.prototype.applyFilter=function(t){return this.filterParams=$.grep(t,function(t,e){return $.trim(t.value).length}),this.refresh()},this.UIReport.prototype.refresh=function(){var t;return t={dataType:"json",data:this.filterParams,success:function(t){return function(e){return t.redrawReport(e),t.trigger("refreshed")}}(this)},this.resourcePath&&(t.url=this.resourcePath),$.ajax(t)},this.UIReport.prototype.redrawReport=function(t){var e;return e=this.buildReportHtml(t),this.$tbody.html(e)},this.UIReport.prototype.buildReportHtml=function(t){var e,i;return i=this,e="",_.forEach(t,function(t){var n;return n=i.constructRowData(t),e+=SMT[i.rowTemplatePath](n),n.children?e+=i.buildReportHtml(n.children):void 0}),e},this.UIReport.prototype.constructRowData=function(t){var e,i,r,a,s,o,l,u,c,h;for(r="",h={cells:[]},a=0,c=this.visibleColumns,s=0,l=c.length;l>s;s++)o=c[s],(!t.cell_options||t[o])&&(h.cells.push({content:t[o]}),e=this.columnOptions[o]?this.columnOptions[o].html_options:{},i=t.cell_options||{},i.colspan&&(h.cells[a].colspan=i.colspan["cell_"+o]),h.cells[a].html_options=e,h.cells[a].html_options.klass=e["class"],a++);if(t instanceof Array)for(a=this.visibleColumns.length;a<t.length;)u=t[a],a++,n(u)&&(h=this.constructRowByOptsData(h,u));else t instanceof Object&&(h=this.constructRowByOptsData(h,t));return h},this.UIReport.prototype.constructRowByOptsData=function(n,r){var a;return t(r)&&(a=this.parseChildren(r),n.children=a.children,n.html_options=n.html_options||{},n.html_options.klass=n.html_options.klass?[n.html_options.klass]:[],n.html_options.klass.push("parent"),n.html_options.klass=n.html_options.klass.join(" ")),i(r)&&(n.html_options=this.parseHtmlOptions(r),n.html_safe=r.html_options.html_safe||!1),e(r)&&(n.data_attributes=this.parseDataAttributes(r)),n},this.UIReport.prototype.handleRowClick=function(t){var e,i;return e=$(t),i=e.data("href"),UIMethods.redirectTo(i)},this.UIReport.prototype.redirect=function(t){return Logger.deprecate("Method Deprecation: redirect - Use UIMethods.redirectTo instead"),UIMethods.redirectTo(t)},this.UIReport.prototype.parseChildren=function(t){return $.map(t.children,function(t){t instanceof Array?t.push({html_options:{"class":"child"}}):t instanceof Object&&(t.html_options=t.html_options||[],t.html_options.push({"class":"child"}))}),t},this.UIReport.prototype.parseHtmlOptions=function(t){var e;return e=$.extend({},t.html_options),e.hasOwnProperty("class")&&(e.klass=t.html_options["class"],delete e["class"]),e},this.UIReport.prototype.parseDataAttributes=function(t){var e;return e=[],_.forEach(t.data_attributes,function(t,i){return e.push({key:i,value:t})}),e},i=function(t){return t.hasOwnProperty("html_options")},e=function(t){return t.hasOwnProperty("data_attributes")},t=function(t){return t.hasOwnProperty("children")},n=function(t){return t instanceof Object}}.call(this),function(){var t;t="UISearch",this.UISearch=widget(t,this.UITextbox),this.UIFormInputs.register(t),this.UISearch.prototype.initialize=function(t){return UISearch.superclass.initialize.call(this,t)}}.call(this),function(){this.UISingleSelectGrid=widget("UISingleSelectGrid",this.UIGrid),this.UISingleSelectGrid.prototype.initialize=function(t){return UISingleSelectGrid.superclass.initialize.call(this,t),this.$radios=this.$tbody.find("input:radio"),this.$tbody.off("click","tr"),this.$tbody.on("click","tr",function(t){return function(e){var i;if("A"!==e.target.nodeName&&"radio"!==e.target.type&&!($(e.target).parent("a").length>0))return i=e.currentTarget.rowIndex,t.trigger("rowClicked",[i,t.dataForRow(i)])}}(this))},this.UISingleSelectGrid.prototype.appendRow=function(t){var e,i,n,r,a;return a=t.id.toString(),n=this.$target.data("name"),e=n+"_"+a,i={name:n,id:e,val:a},r=SMT["templates/ui_single_select_grid_radio"](i),t._actions=r,UISingleSelectGrid.superclass.appendRow.call(this,t)}}.call(this),function(){var t,e,i;i="UISortCode",this.UISortCode=widget(i),this.UIFormInputs.register(i),this.UISortCode.prototype.initialize=function(t){var i;return i=this,UISortCode.superclass.initialize.call(this,t),this.parentForm=this.parent_of_type("UIForm"),this.focusedOnMe=!1,this.$hiddenField=this.$target.find(".hidden"),this.$textFields=this.$target.find(".visible"),this.saveInitialState(),this.$textFields.on("keydown",function(t){return Events.isNumberKey(t)||Events.isNavigationKey(t)||Events.isMetaKey(t)||8===t.which||9===t.which||46===t.which?void 0:t.preventDefault()}),this.$textFields.on("keyup",function(t){return function(e){return t.setHiddenField()}}(this)),this.$textFields.unbind("blur"),this.$textFields.on("focus blur",function(t){return setTimeout(function(){return i.focusedOnMe=$(document.activeElement).closest(".UISortCode").length?!0:!1,i.focusedOnMe?void 0:i.validateField(i.parentForm.resource_key)},0)}),this.$textFields.on("paste",function(t){var n;return n=$(this),setTimeout(function(){var t;return t=n.val(),n.val(e(t)),i.setHiddenField()},0)}),this.$hiddenField.on("change",function(t){return function(e){return t.setVisibleFields()}}(this))},this.UIComponent.mixin(this.UISortCode.prototype,this.UIMixins.FormInputMixin),this.UISortCode.prototype.getValue=function(){return this.$hiddenField.val()},this.UISortCode.prototype.setValue=function(t){var e;return e=this.getValue(),this.$hiddenField.val(t),this.setVisibleFields(),Validations.clearMessages(this.$target),e!==t?this.trigger("valueChanged"):void 0},this.UISortCode.prototype.getCurrentState=function(){return{value:this.getValue(),visibles:{disabled:this.$textFields.attr("disabled")?!0:!1,readonly:this.$textFields.attr("readonly")?!0:!1},hidden:{disabled:this.$hiddenField.attr("disabled")?!0:!1,readonly:this.$hiddenField.attr("readonly")?!0:!1}}},this.UISortCode.prototype.restoreInitialState=function(){return this.initialState?(this.setValue(this.initialState.value),this.$hiddenField.attr("disabled",this.initialState.hidden.disabled),this.$hiddenField.attr("readonly",this.initialState.hidden.readonly),this.$textFields.attr("disabled",this.initialState.visibles.disabled),this.$textFields.attr("readonly",this.initialState.visibles.readonly)):void 0},this.UISortCode.prototype.setVisibleFields=function(){var t,e,i;return e=this.$hiddenField.val(),t=0,i=2,UISortCode.isValidSortCode(e)?this.$textFields.each(function(n,r){var a;return a=$(r),a.val(e.substring(t,t+2)),t+=i}):void this.$textFields.val("")},this.UISortCode.isValidSortCode=function(t){var e;return e=$.trim(t),e.length?/\d{6}/.test(e):!0},this.UISortCode.prototype.setHiddenField=function(){var e;return e=t.call(this),this.$hiddenField.val(e.join(""))},this.UISortCode.prototype.validateField=function(t){var e,i;return e=this.$hiddenField.val(),i=UISortCode.isValidSortCode(e)&&e.length,this.focusedOnMe&&(i=!0),i?void 0:Validations.validateField(this.$textFields,t)},t=function(){var t;return t=[],this.$textFields.each(function(){return t.push($(this).val())}),t},e=function(t){return t.replace(/[^0-9]/g,"").substring(0,2)}}.call(this),function(){this.UISplitButton=widget("UISplitButton"),this.UISplitButton.prototype.initialize=function(t){return UISplitButton.superclass.initialize.call(this,t),this.isOpen=this.$target.is(".open"),this.toggle=this.$target.find(".toggle"),this.primaryAction=this.child_with_tag("primary_action"),this.secondaryList=this.child_with_tag("secondary_actions"),this.secondaryActions=this.secondaryList.childrenOfType("UILink"),deviceIsAndroid?(this.links=this.secondaryList.$target.find(".UILink"),this.links.attr("disabled","disabled"),this.toggle.on("touchstart",function(t){return function(){return t.links.attr("disabled","disabled")}}(this)),this.links.on("touchend",function(t){return function(){return t.links.removeAttr("disabled")}}(this))):void 0},this.UISplitButton.prototype.open=function(t){var e;return null==t&&(t=!1),this.isOpen=!0,this.$target.addClass("open"),e="Deprecation: The open method will be removed and CSS hover events will trigger this action.",t?void 0:Logger.deprecate(e)},this.UISplitButton.prototype.close=function(t){var e;return null==t&&(t=!1),this.isOpen=!1,this.$target.removeClass("open"),e="Deprecation: The close method will be removed and CSS hover events will trigger this action.",t?void 0:Logger.deprecate(e)},this.UISplitButton.prototype.disable=function(){return this.primaryAction.disable(),this.toggle.addClass("disabled")},this.UISplitButton.prototype.enable=function(){return this.primaryAction.enable(),this.toggle.removeClass("disabled")},this.UISplitButton.prototype.isDisabled=function(){return this.toggle.hasClass("disabled")?!0:!1}}.call(this),function(){var t,e,i,n;n="UISuggest",this.UISuggest=widget(n),this.UIFormInputs.register(n),this.UISuggest.prototype.initialize=function(t){var e,i;return e={self:this},UISuggest.superclass.initialize.call(this,t),i="Deprecation: UISuggest is being deprecated, please use UIDropdownSuggest instead.",Logger.deprecate(i),this.url=this.$target.attr("data-url"),this.input=this.$target.find("input[type=text]"),this.hiddenInput=this.$target.find("input[type=hidden]"),this.timeDelay=200,this.lazyLoading="true"===this.$target.attr("lazy-loading"),this.lazyLoading&&(this.currentPage=1,this.triggerLi="",this.pageSize=10,this.totalRecords=0),this.defaultValue=$(this.input).attr("placeholder"),this.saveInitialState(),this.input.on("keydown",null,e,function(t){return Events.isEnterKey(t)?t.preventDefault():void 0}),this.input.on("keyup paste cut copy",null,e,function(t){return function(e){if(Events.isEnterKey(e))return void t.handleSelection();if(Events.isEscKey(e))return void t.handleEscape(e);if(Events.isNavigationKeyup(e))return void t.handleHighlight(e);if(Events.isValidKeypress(e)||!Events.isEventType(e,"keyup"))return t.handleChange(e)}}(this)),this.$target.on("mouseenter","li",e,function(t){return function(e){return t.handleMouseEnter(e)}}(this)),this.$target.on("mouseleave","ul, li",e,function(t){return function(e){return t.handleMouseLeave(e)}}(this)),this.$target.on("mousedown","li",e,function(t){return function(e){return t.handleMouseDown(e)}}(this)),this.input.on("keydown",function(t){return function(e){Events.isTabKey(e)&&(0===t.$target.find(".results ul li.select").length?t.removeList():t.handleSelection())}}(this)),this.updateListOpen(),this.$target.on("blur",null,e,function(t){return function(e){return t.removeList()}}(this)),this.input.on("focusin",null,e,function(t){return function(e){return t.removeDefaultValue(t.input,t.defaultValue)}}(this)),this.input.on("focusout",null,e,function(t){return function(e){return t.applyDefaultValue(t.input,t.defaultValue)}}(this)),Browser.isLessThanIE(10)&&this.applyDefaultValue(this.input,this.defaultValue),this.updateTimer=function(t){return function(e){return t.timer=setTimeout(function(){var i;return i=t.input.val(),i.length?t.getSuggestions(e,t.url):void t.removeList()},t.timeDelay)}}(this)},this.UIComponent.mixin(this.UISuggest.prototype,this.UIMixins.ListHandler),this.UIComponent.mixin(this.UISuggest.prototype,this.UIMixins.PlaceholderMixin),this.UIComponent.mixin(this.UISuggest.prototype,this.UIMixins.FormInputMixin),this.UISuggest.prototype.handleSelect=function(t){return this.handleHighlight(t)},this.UISuggest.prototype.getCurrentState=function(){return{value:this.getValue(),visible:{text:this.input.val(),disabled:this.input.attr("disabled")?!0:!1,readonly:this.input.attr("readonly")?!0:!1},hidden:{disabled:this.hiddenInput.attr("disabled")?!0:!1,readonly:this.hiddenInput.attr("readonly")?!0:!1}}},this.UISuggest.prototype.restoreInitialState=function(){return this.initialState?(this.setValue(this.initialState.value),this.hiddenInput.attr("disabled",this.initialState.hidden.disabled),this.hiddenInput.attr("readonly",this.initialState.hidden.readonly),this.input.val(this.initialState.visible.text),this.input.attr("disabled",this.initialState.visible.disabled),this.input.attr("readonly",this.initialState.visible.readonly)):void 0},this.UISuggest.prototype.afterInitialize=function(){return $(this).on("suggestSelected",function(t){return function(){return t.trigger("valueChanged")}}(this))},this.UISuggest.prototype.setValue=function(t){var e;return e=this.getValue(),this.hiddenInput.val(t),e!==t?this.trigger("valueChanged"):void 0},this.UISuggest.prototype.getValue=function(){return this.hiddenInput.val()},this.UISuggest.prototype.htmlClickHandler=function(t){var e;return e=t.data.self,e.listOpen&&$(t.target).parents('div[class*="UISuggest"][data-ui-widget]')[0]!==e.target?e.removeList():void 0},this.UISuggest.prototype.updateListOpen=function(){var t;return t={self:this},this.listOpen=this.$target.find(".results").length?!0:!1,this.listOpen?$("html").on("mousedown touchstart",null,t,this.htmlClickHandler):$("html").off("mousedown touchstart",null,t,this.htmlClickHandler)},this.UISuggest.prototype.validateField=function(t){return this.listOpen?!0:Validations.validateField(this.input,t)},this.UISuggest.prototype.handleChange=function(t){var e,i;return e=t.data.self,i=e.input.val(),this.currentPage=1,this.totalRecords=0,e.hiddenInput.val(""),e.trigger("suggestChanged"),i.length?(e.timer&&clearTimeout(e.timer),e.updateTimer(i)):(e.removeList(),void e.hiddenInput.change())},this.UISuggest.prototype.getSuggestions=function(i,n,r){return null==r&&(r=!0),$.ajax({url:n,type:"GET",dataType:"json",data:t.call(this,i).data,success:function(t){return function(i,n,a){return e.call(t,i.data,r)}}(this),error:function(t){return function(e,i,n){return t.removeList()}}(this)})},this.UISuggest.prototype.updateResults=function(){var t;return t=this.$target.find("input:visible"),this.currentPage++,this.getSuggestions(t.val(),this.url,!1)},this.UISuggest.prototype.generateList=function(t){return SMT["templates/ui_suggest"]({results:t})},this.UISuggest.prototype.handleMouseEnter=function(t){var e,i;return i=t.data.self,e=$(t.target),i.$target.find("ul li").removeClass("select"),e.hasClass("group")?void 0:e.addClass("select")},this.UISuggest.prototype.handleMouseLeave=function(t){var e;return e=t.data.self,e.$target.find("ul li").removeClass("select")},this.UISuggest.prototype.handleMouseDown=function(t){var e,i,n,r,a;return n=t.data.self,e=$(t.target),a=e.text(),r=e.attr("data-suggest-id"),i=e.attr("data-suggest-resource"),e.hasClass("group")?void 0:(n.input.val(a),n.hiddenInput.val(r),n.hiddenInput.change(),n.removeList(),n.trigger("suggestSelected",[r,i]))},this.UISuggest.prototype.handleEnter=function(t){return this.handleSelection()},this.UISuggest.prototype.handleSelection=function(){var t,e,i,n,r;return i=this.$target.find("li.select"),t=$(i),r=t.text(),n=t.attr("data-suggest-id"),e=t.attr("data-suggest-resource"),r.length&&(this.input.val(r),this.hiddenInput.val(n),this.hiddenInput.change(),this.trigger("suggestSelected",[n,e])),this.removeList()},this.UISuggest.prototype.handleEscape=function(t){var e;return e=t.data.self,e.removeList()},this.UISuggest.prototype.removeList=function(){return this.$target.find(".results").remove(),this.updateListOpen()},this.UISuggest.prototype.appendList=function(t){var e;return this.lazyLoading&&this.listOpen?(t=$(t).find("li"),e=".results ul"):e="span.field",this.$target.find(e).first().append(t),this.updateListOpen()},this.UISuggest.prototype.watchResultsScroll=function(){var t;return t=this.$target.find(".results ul"),t.on("scroll",function(e){return function(n){return e.triggerLi.position().top<t.height()-30&&(t.off("scroll"),!i.call(e))?e.updateResults():void 0}}(this))},i=function(){return this.currentPage===Math.ceil(this.totalRecords/this.pageSize)},t=function(t){var e;return e={data:{value:t}},this.lazyLoading&&(e.data.page=this.currentPage,e.data.rows=this.pageSize),e},e=function(t,e){var i;return i=this.generateList(t),e&&this.removeList(),this.appendList(i),this.lazyLoading?(this.triggerLi=this.$target.find(".results ul li:nth-last-child(3)"),this.watchResultsScroll(),this.totalRecords=t[0].records):void 0}}.call(this),function(){var t;t="UISuggestFreeform",this.UISuggestFreeform=widget(t,this.UISuggest),this.UIFormInputs.register(t),this.UISuggestFreeform.prototype.initialize=function(t){return UISuggestFreeform.superclass.initialize.call(this,t)},this.UIComponent.mixin(this.UISuggestFreeform.prototype,this.UIMixins.FormInputMixin),this.UISuggestFreeform.prototype.handleChange=function(t){var e,i;return e=t.data.self,i=e.input.val(),e.trigger("suggestChanged"),i.length?(e.timer&&clearTimeout(e.timer),e.updateTimer(i)):e.removeList()},this.UISuggestFreeform.prototype.handleMouseDown=function(t){var e,i,n,r;return n=t.data.self,e=$(t.target),r=e.text(),i=e.attr("data-suggest-resource"),e.hasClass("group")?void 0:(n.input.val(r),n.removeList(),n.trigger("suggestSelected",[null,i]))},this.UISuggestFreeform.prototype.handleEnter=function(t){return this.handleSelection()},this.UISuggestFreeform.prototype.handleSelection=function(){var t,e,i;return e=this.$target.find("li.select"),i=e.text(),t=e.attr("data-suggest-resource"),i.length&&(this.input.val(i),this.trigger("suggestSelected",[null,t])),this.removeList()}}.call(this),function(){var t;t="UISuggestOrCreate",this.UISuggestOrCreate=widget(t,this.UISuggest),this.UIFormInputs.register(t),this.UISuggestOrCreate.prototype.initialize=function(t){var e,i,n,r,a,s;for(a=this,UISuggestOrCreate.superclass.initialize.call(this,t),this.resources=this.$target.attr("data-resources").split(" "),this.currentRequestDialog="",this.autoSelectCreatedResource=this.$target.data("auto-select-created"),i=0;i<this.resources.length;)s=this.resources[i],e=this.child_with_tag(s),n=this.child_with_tag("link_"+s),n.$target.on("click",function(t){var e,i,n;return e=$(this),t.preventDefault(),i=e.attr("data-tag"),n=i.replace("link_",""),a.selectCreate(a,n)}),r={beforeSubmit:function(t,e,i){return a.currentRequestDialog=e.closest(".UIDialog").data("tag")},dataType:"json",success:function(t){var e,i,n,r,o;return s=a.currentRequestDialog,e=a.child_with_tag(s),i=e.child_with_tag("form_"+s),e.close(),i.restoreInitialState(),a.autoSelectCreatedResource&&(n=e.$target.data("auto-select-id"),o=e.$target.data("auto-select-text"),a.selectCreatedResource(s,t.data[n],t.data[o])),i.trigger("formSaveSuccess",t),r="Deprecated: formSaveSuccess - use on the instance of the form instead.",Events.deprecate(r,i.$form,"formSaveSuccess",t),a.currentRequestDialog=""}},e.child_with_tag("form_"+this.resources[i]).setupAjax(r),$(e).on("closed",function(){a.applyDefaultValue(a.input,a.defaultValue),a.input.trigger("blur")}),$(e).on("opened",function(){a.removeDefaultValue(a.input,a.defaultValue)}),i++},this.UISuggestOrCreate.prototype.validateField=function(t){var e,i,n;for(i=!1,n=0;n<this.resources.length;)e=this.child_with_tag(this.resources[n]),e.isOpen&&(i=!0),n++;return this.listOpen?!0:i?!0:Validations.validateField(this.input[0],t)},this.UISuggestOrCreate.prototype.generateList=function(t){var e;return e=t,_.forEach(e,function(t){return function(e,i){var n,r,a,s;return a=t.resources[i],s=I18n.t("activerecord.models."+a,{defaultValue:a.humanize()}),r=I18n.t("actions.javascript.create",{model:s}),n=I18n.t("actions.javascript."+a+".create",{defaultValue:r}),e.create={text:n,target:a}}}(this)),SMT["templates/ui_suggest"]({results:e})},UISuggestOrCreate.prototype.handleEnter=function(t){return this.handleSelection()},this.UISuggestOrCreate.prototype.handleSelection=function(){var t,e;return t=$(this.$target.find("li.select")),e=t.text(),e.length?t.hasClass("create")?this.selectCreate(this,t.attr("data-target")):UISuggestOrCreate.superclass.handleSelection.call(this):void 0},UISuggestOrCreate.prototype.selectCreatedResource=function(t,e,i){return this.input.val(i),this.hiddenInput.val(e),this.trigger("suggestSelected",[e,t]),this.input.focus()},this.UISuggestOrCreate.prototype.handleMouseDown=function(t){var e,i;return i=t.data.self,e=$(t.target),e.hasClass("create")?i.selectCreate(i,e.attr("data-target")):UISuggestOrCreate.superclass.handleMouseDown.call(i,t)},this.UISuggestOrCreate.prototype.selectCreate=function(t,e){var i;if(!this.isDisabled())return i={value:this.input.val()},this.trigger("createSelected",i),t.child_with_tag(e).trigger("toggleTarget"),UISuggestOrCreate.superclass.removeList.call(t)}}.call(this),function(){this.UISynopsisReport=widget("UISynopsisReport",this.UIReport),this.UISynopsisReport.prototype.initialize=function(t){return UISynopsisReport.superclass.initialize.call(this,t)},this.UISynopsisReport.prototype.buildReportHtml=function(t){var e;return e="<tr>",_.forEach(t,function(t){return function(i){var n;n=t.constructRowData(i),e+=SMT[t.rowTemplatePath](n)}}(this)),e+="</tr>"},this.UISynopsisReport.prototype.parseChildren=function(t){var e,i,n,r,a;for(e=t.children,t.children=[],n=0;n<e.length;){for(t.children.push({child:{content:[],html_options:{klass:"child"}}}),a=0;a<e[n].length;)r=e[n][a],r instanceof Object?(r.hasOwnProperty("html_options")&&(i=t.children[n].child.html_options,i=this.parseHtmlOptions(r),t.children[n].child.html_options.klass=i.klass+" child"),r.hasOwnProperty("data_attributes")&&(t.children[n].child.data_attributes=this.parseDataAttributes(r))):t.children[n].child.content.push({content:r}),a++;n++}return t}}.call(this),function(){var t,e,i,n,r,a,s,o,l,u,c,h,d,p,f,g,m,v,y,b;b="UITableFieldsForMany",this.UITableFieldsForMany=widget(b),this.UIFormInputs.register(b),this.UITableFieldsForMany.prototype.initialize=function(t){var e,i,n,r;return r=this,e={self:r},UITableFieldsForMany.superclass.initialize.call(this,t),n=this.extractOptions(),this.$tbody=this.$target.find("tbody"),this.readonly=this.$target.data("readonly")?this.$target.data("readonly"):!1,this.rowFocusClass="focus",this.activeAnchorClass="active",this.optionalClass="optional-enabled",n.optionalTarget&&(this.optionalTarget=UIComponent.root_element.child_with_tag(n.optionalTarget),n.pageLoad&&this.toggleOptionalFields()),this.$tbody.on("click.tablefieldsfor","tr:not(.placeholderRow) td:not(.delete)",e,h),this.readonly?void 0:(Browser.isIE7()&&(this.$target.on("focus","input",function(t){return $(this).addClass("iefocus")}),this.$target.on("blur","input",function(t){return $(this).removeClass("iefocus")})),this.lastRow=this.$tbody.find("tr:last"),this.lastRow.addClass("unsaved placeholderRow"),this.lastRow.find("input[type=checkbox]").first().attr("tabindex","-1"),this.cloneRow=this.lastRow.clone(!1),i="Deprecated, use rowCloned on the instance instead.",Events.deprecate(i,this.$target,"rowCloned",this.cloneRow),this.trigger("rowCloned",this.cloneRow),this.parentForm=this.parent_of_type("UIForm"),this.setupEvents(),this.resetRowBanding(),$(this.parentForm).on("afterToCreate",e,c),$(this.parentForm).on("beforeFormValidation",e,o),$(this.parentForm).on("afterFormValidation",e,s),this.initialState=this.getCurrentState())},this.UITableFieldsForMany.prototype.toRowObject=function(t){var e,i,n;return n={},i=$(t).find(":input").not(":submit"),e=i.serializeArray(),_.forEach(e,function(t){var e;return e=y(t.name),n[e]=t.value}),n},y=function(t){var e;return e=/\[(\w+)\]$/,
e.test(t)?t.match(e)[1]:t},this.UITableFieldsForMany.prototype.collectionTargets=function(){return this.$tbody.find("tr").not(".placeholderRow")},this.UITableFieldsForMany.prototype.removeRecordAtIndex=function(t){var e;return e=this.$tbody.find("tr:eq("+t+")"),m(this,e)},this.UITableFieldsForMany.prototype.addRecord=function(){var t;return t=this.$tbody.find("tr.placeholderRow"),n(this),t},this.UITableFieldsForMany.prototype.setupEvents=function(){var t,e,i,n,a,s,o;for(s=this,t={self:s},this.$tbody.on("keyup.tablefieldsfor paste.tablefieldsfor cut.tablefieldsfor blur.tablefieldsfor",":input",t,l),this.$tbody.on("change.tablefieldsfor","tr:not(.placeholderRow) td.delete input:checkbox",t,u),this.$tbody.on("keypress.tablefieldsfor paste.tablefieldsfor","tr:last-child input, tr:last-child textarea",t,r),this.$tbody.on("keydown.tablefieldsfor change.tablefieldsfor","tr:last-child select",t,r),this.$tbody.on("change.tablefieldsfor","tr:last-child input.hasDatepick, tr:last-child td:not(.delete) input:checkbox",t,r),n=["UIDropdownList","UIDropdownSuggest"],a=[],e=0,i=n.length;i>e;e++)o=n[e],a.push(this.$tbody.on("change.tablefieldsfor","tr:last-child ."+o,t,r));return a},this.UITableFieldsForMany.prototype.resetRowBanding=function(){return this.$tbody.find("tr.odd").removeClass("odd"),this.$tbody.find("tr:not(.hidden)").filter(":even").addClass("odd")},this.UITableFieldsForMany.prototype.untoggleOptionalBehaviour=function(){return this.$target.removeClass(this.optionalClass),this.$tbody.find("tr."+this.rowFocusClass).removeClass(this.rowFocusClass),this.$target.off("focus","tr :input"),this.$target.off("click","tr .optional a"),this.$target.off("mousedown","tr .optional a"),$(this.optionalTarget).off("closed")},this.UITableFieldsForMany.prototype.toggleOptionalBehaviour=function(){var t,e;return e=this,this.$target.addClass(this.optionalClass),this.$target.on("focus","tr :input",function(t){var i;i=$(this),i.closest("tr").hasClass(e.rowFocusClass)||(e.$tbody.find("tr.focus").removeClass(e.rowFocusClass),i.closest("tr").addClass(e.rowFocusClass))}),t=[this.activeAnchorClass,this.rowFocusClass].join(" "),this.$target.on("click","tr .optional a",function(i){var n,r;return i.preventDefault(),n=$(this),r=n.closest("tr"),n.focus(),r.hasClass(e.activeAnchorClass)?void e.optionalTarget.close():(e.optionalTarget.$target.find(".row-relative-field").remove(),r.find(".for_popover").not(".hidden").each(function(){var t,i,n,r,a,s,o;return t=$(this),o=e.optionalTarget.$target.find("form"),i=t.find("[data-ui-widget]"),s=i.clone(),r=t.index(),a=e.$target.find("th").eq(r).text(),n=void 0,s.prepend("<label>"+a+"</label>").addClass("row-relative-field"),o.append(s),s=e.retrieveComponent(s),n=e.retrieveComponent(i),s.setValue(n.getValue()),s.$target.data("origin",n),s.$target.on("change",function(){var t,i;return t=e.retrieveComponent(this),i=t.$target.data("origin"),i.setValue(t.getValue()),i.$target.find(":input").trigger("change")})}),e.optionalTarget.target.$target=n,e.optionalTarget.$target.addClass("optional-fields"),e.optionalTarget.open(),r.closest("tr").addClass(t).siblings().removeClass(t),e.optionalTarget.setupPopOverInputs())}),this.optionalTarget.setupTabEvents(this.$target.find("tr .optional a")),this.$target.on("mousedown","tr .optional a",function(t){return t.stopPropagation()}),$(this.optionalTarget).on("closed",function(){return this.target.$target.closest("tr").removeClass(t)})},this.UITableFieldsForMany.prototype.saveInitialState=function(){return this.initialState=this.getCurrentState()},this.UITableFieldsForMany.prototype.saveDefaultState=function(){return this.defaultState=this.getCurrentState()},this.UITableFieldsForMany.prototype.getCurrentState=function(){var t,e;return e=this.$tbody.find("tr:not(.placeholderRow)").clone(!1),t=e.length,{readonly:this.readonly,value:t,rows:e,unsaved:e.filter(".unsaved").length,deleted:e.filter(".hidden").length}},this.UITableFieldsForMany.prototype.restoreInitialState=function(){this.initialState&&(this.readonly=this.initialState.readonly,this.$tbody.find("tr:not(.placeholderRow)").remove(),e.call(this),this.$tbody.prepend(this.initialState.rows.clone(!1)),UIComponent.initialize_widgets(this.$tbody),this.resetRowBanding())},this.UITableFieldsForMany.prototype.isDirty=function(){var t,e,i,n,r,a,s;return void 0===this.initialState?!1:(r=this.initialState,i=this.defaultState,e=this.getCurrentState(),a=i||r,s=a.unsaved!==e.unsaved,n=a.deleted!==e.deleted,t=a.value!==e.value,s||n||t?!0:!1)},this.UITableFieldsForMany.prototype.toggleOptionalFields=function(){var t;return t=this.$target.hasClass(this.optionalClass),t?this.untoggleOptionalBehaviour():this.toggleOptionalBehaviour()},c=function(t){var i;return i=t.data.self,i.$tbody.find("tr:not(.placeholderRow)").remove(),e.call(i),i.resetRowBanding()},e=function(){return 0===this.$tbody.find("tr").length?t.call(this):void 0},t=function(){var t,e;e=i(this),t=this.$tbody.find("tr").length>0,t?e.insertAfter(this.lastRow):this.$tbody.html(e),this.lastRow=this.$tbody.find("tr:last"),this.lastRow.addClass("placeholderRow"),UIComponent.initialize_widgets(this.lastRow)},o=function(t){var e,i;return i=t.data.self,e=i.$tbody.find("tr").length,e>1?(i.$target.addClass("placeholder-removed"),g(t)):void 0},s=function(e,i){var n;return n=e.data.self,i||n.lastRow.hasClass("placeholderRow")||(n.$target.removeClass("placeholder-removed"),t.call(n)),n.resetRowBanding()},l=function(t){var e,i,n,r,a;if(f(t))return n=$(this).closest("tr"),a=t.data.self,r=a.toObject(n),e=[n,r],i="Deprecated, use rowChanged on the instance instead",Events.deprecate(i,a.$target,"rowChanged",e),a.trigger("rowChanged",e)},g=function(t){var e;return e=t.data.self,e.$tbody.find("tr:last.placeholderRow").remove(),e.lastRow=e.$tbody.find("tr:last")},m=function(t,e){var i,n,r;return n=t.$tbody.find("tr"),i=void 0,e.hasClass("placeholderRow")?void 0:(n.length>1&&(Warning.clearMessages(e),r=n.filter(":visible"),i=r.index(e),e.hasClass("unsaved")?e.remove():e.addClass("hidden"),Validations.clearMessages(e),Validations.unsetValidationEvents(e),a(e)),i)},u=function(t){var e,i,n,r,a,s;return r=$(this).closest("tr"),s=t.data.self,a=s.toObject(r),n=m(s,r),e=[r,n],void 0!==n?(i="Deprecated, use recordRemoved on the instance instead.",Events.deprecate(i,s.$target,"rowDeleted",[r,a]),s.trigger("recordRemoved",e),s.resetRowBanding()):void 0},h=function(t){var e,i,n;return e=$(this).closest("tr"),n=t.data.self,i=n.toObject(e),n.trigger("rowClicked",[e,i])},r=function(t){var e,i,r,a;return a=t.data.self,d(t)&&p(t)?(i=n(a),t.data.self.resetRowBanding(),r=$(t.target).closest("tr"),e="Deprecated, use rowCloned on the instance instead.",Events.deprecate(e,a.$target,"rowCloned",i),a.trigger("rowCloned",i),a.trigger("recordAdded",r)):void 0},i=function(t){var e;return e=t.cloneRow.clone(!1),e=v(e)},n=function(t){var e,n;return n=t,e=i(t),n.lastRow.removeClass("placeholderRow"),Validations.setValidationEvents(n.lastRow,n.parentForm.resource_key),e.find("input.hasDatepick").removeClass("hasDatepick"),e.insertAfter(n.lastRow),n.lastRow.find("input[type=checkbox]").first().removeAttr("tabindex"),n.lastRow=e,Validations.unsetValidationEvents(n.lastRow),UIComponent.initialize_widgets(e),e},p=function(t){return"keypress"!==t.type?!0:t.which>=32&&t.which<=255||13===t.which},f=function(t){return"keyup"!==t.type?!0:t.which>=32&&t.which<=255||8===t.which},d=function(t){return"keydown"!==t.type?!0:t.which>=39&&t.which<=40},v=function(t){var e,i,n;return i=/^(.+\]\[)(\d+)(\]\[.+)$/g,e=/^(.+)(\_\d+\_)(.+$)/,n=(new Date).getTime(),t.find("input, select, label, textarea").each(function(t,r){var a,s,o,l,u,c,h;return a=$(r),l=a.attr("name"),o=a.attr("id"),s=a.attr("for"),l&&(h=l.replace(i,"$1"+n+"$3"),a.attr("name",h)),o&&(c=o.replace(e,"$1_"+n+"_$3"),a.attr("id",c)),s?(u=s.replace(e,"$1_"+n+"_$3"),a.attr("for",u)):void 0}),t},a=function(t){return t.find("td:not(.delete) :input").prop("disabled",!0)}}.call(this),function(){var t,e;this.UITabs=widget("UITabs"),this.UITabs.prototype.initialize=function(t){var e,i;return i=this,UITabs.superclass.initialize.call(this,t),this.tabMenu=this.$target.find("> .tab-titles"),this.tabTitles=this.tabMenu.find("li"),this.tabs=this.$target.find("> .UITab"),this.defaultIndex=this.tabTitles.filter(".current").index(),this.currentIndex=this.defaultIndex,this.vertical=this.$target.hasClass("vertical"),this.editableTabs=this.$target.data("editable_titles"),this.maxTitleLength=parseInt(this.$target.data("max_title_length")),this.hash=window.location.hash,this.hash&&(e=this.tabTitles.find('a[href="'+this.hash+'"]').attr("data-index"),e&&this.tabTitles.eq(e).not("disabled")&&this.setCurrentTab(e)),this.tabTitles.find("a").on("click",function(t){var e;return e=$(this).parent("li").hasClass("disabled"),e&&t.preventDefault(),t.stopPropagation(),i.handleClick(this)}),this.vertical&&this.editableTabs&&this.setupEditableTabs(),Modernizr.generatedcontent?void 0:this.tabTitles.append('<span class="after" />')},this.UITabs.prototype.resetTabs=function(){return window.location.hash="",this.hash="",this.setCurrentTab(this.defaultIndex)},this.UITabs.prototype.selectedTab=function(){return UIComponent.retrieveComponent(this.tabs[this.currentIndex])},this.UITabs.prototype.setCurrentTab=function(t){return this.currentIndex=t,this.tabs.removeClass("current"),this.tabTitles.removeClass("current"),this.tabs.eq(t).addClass("current"),this.tabTitles.eq(t).addClass("current"),this.checkPjax()},this.UITabs.prototype.handleClick=function(t){var e;return e=$(t).data("index"),this.tabTitles.eq(e).hasClass("disabled")||this.currentIndex===e?void 0:(this.setCurrentTab(e),this.trigger("tabChanged",t),UIChart.instances.length>0?$(window).trigger("resize"):void 0)},this.UITabs.prototype.checkPjax=function(){var e,i,n,r,a;if(i=t.call(this),n=i.data("pjax"),e=i.data("pjax-cache"),n&&(a=i.find(".UIPjax").get(0),r=this.retrieveComponent(a))){if(r.loaded&&e)return;return r.reload()}},this.UITabs.prototype.setupEditableTabs=function(){var t,e,i,n,r;return n=this,t={self:n},this.beingEdited=!1,e=$("<div />").addClass("editWrap"),r=$("<span />"),i=$("<input />",{type:"text",maxlength:this.maxTitleLength}).addClass("editField"),this.editField=e.append(r.append(i)),this.updateCurrentValue(),$(this).on("tabChanged",function(t){return n.updateCurrentValue()}),this.tabMenu.on("mouseup.tabs","li.current",t,function(t){return n.enableEdit()})},this.UITabs.prototype.handleInput=function(t){var i,n,r,a,s;n=e.call(this),s=n.find("a .title"),r=s.data("currentValue"),i=n.find(".editField"),(Events.isEnterKeyup(t)||"blur"===t.type)&&(a=i.val()?i.val():r,this.beingEdited=!1,n.removeClass("editing"),a!==r&&(s.data("currentValue",$.trim(a)),this.saveNewTitle()),this.disableEdit())},this.UITabs.prototype.tabTitleSaved=function(){var t;t=e.call(this),t.removeClass("saving").addClass("saved"),setTimeout(function(){t.removeClass("saved")},2e3)},this.UITabs.prototype.updateCurrentValue=function(){var t,i,n;return t=e.call(this),i=t.find("a .title"),n=i.text(),i.data("currentValue",n)},this.UITabs.prototype.disableEdit=function(){var t,i,n,r;return t=e.call(this),i=t.find("a"),n=t.find("a .title"),r=n.data("currentValue"),void 0===r&&(r=""),n.text(r),i.removeClass("hidden"),t.find(".editWrap").remove()},this.UITabs.prototype.enableEdit=function(){var t,i,n,r,a;if(!this.beingEdited)return i=e.call(this),n=i.find("a"),r=i.find("a .title"),a=r.data("currentValue"),this.beingEdited=!0,n.addClass("hidden"),i.addClass("editing"),i.append(this.editField),t=i.find(".editField"),t.focus().val(a),t.on("blur keyup",function(t){return function(e){return t.handleInput(e)}}(this))},this.UITabs.prototype.getTabTitle=function(t){var e;return null==t&&(t=this.currentIndex),e=this.tabTitles.eq(t),e.find("a .title").text()},this.UITabs.prototype.setTabTitle=function(t,e){var i;return null==e&&(e=this.currentIndex),i=this.tabTitles.eq(e),i.find("a .title").text(t)},this.UITabs.prototype.getTabSubtitle=function(t){var e;return null==t&&(t=this.currentIndex),e=this.tabTitles.eq(t),e.find("a .subtitle").text()},this.UITabs.prototype.setTabSubtitle=function(t,e){var i;return null==e&&(e=this.currentIndex),i=this.tabTitles.eq(e),i.find("a .subtitle").text(t)},this.UITabs.prototype.saveNewTitle=function(){return this.saveAnalysisType()},this.UITabs.prototype.saveAnalysisType=function(){var t,i,n,r,a,s;return a=this,r=this.currentIndex,t=e.call(this),s=t.find("a .title"),n=this.$target.find('[data-tag="form_'+r+'"] form'),i={analysis_type:{name:s.data("currentValue")}},$.ajax({url:n.attr("action"),data:i,type:"put",dataType:"json",beforeSend:function(){return t.addClass("saving")},success:function(t){return a.tabTitleSaved()}})},e=function(){return this.tabTitles.eq(this.currentIndex)},t=function(){return this.tabs.eq(this.currentIndex)}}.call(this),function(){var t;t="UIText",this.UIText=widget(t),this.UIFormInputs.register(t),this.UIText.prototype.initialize=function(t){return UIText.superclass.initialize.call(this,t),this.saveInitialState()},this.UIComponent.mixin(this.UIText.prototype,this.UIMixins.FormInputMixin)}.call(this),function(){var t,e;e="UITextarea",this.UITextarea=widget(e),this.UIFormInputs.register(e),this.UITextarea.prototype.initialize=function(e){var i,n,r,a,s;return a=this,UITextarea.superclass.initialize.call(this,e),this.textarea=this.$target.find("textarea"),this.expandable=this.textarea.attr("data-expandable"),r=parseInt(this.textarea.css("padding-top")),n=parseInt(this.textarea.css("padding-top")),this.padding=r+n,this.maxChars=this.$target.attr("data-maxchars"),this.showRemaining=this.$target.attr("data-show_remaining"),this.i18n_opts={precision:0},s=parseInt(this.textarea.css("border-top-width")),i=parseInt(this.textarea.css("border-bottom-width")),this.borderWidth=s+i,this.maxChars&&(this.maxCharsContainer=this.$target.find(".character-limit"),this.limitUsed=t(this.textarea.val()),this.limitString="",this.updateLimitUsed(),this.textarea.on("keyup paste",function(e){return function(){return e.limitUsed=t(e.textarea.val()),e.updateLimitUsed()}}(this))),this.textarea.on("change",function(){this.scrollHeight>this.offsetHeight?a.$target.addClass("scroll"):a.$target.removeClass("scroll")}),this.expandable&&(this.textarea.on("keyup",function(t){return function(){return t.handleExpand()}}(this)),this.textarea.on("focus",function(t){return function(){return t.handleExpand()}}(this)),this.handleExpand()),this.saveInitialState()},this.UIComponent.mixin(this.UITextarea.prototype,this.UIMixins.FormInputMixin),this.UITextarea.prototype.handleExpand=function(){var t,e,i,n,r,a;e=this.textarea[0],r=e.offsetWidth,t=e.boxWidth,n=e.value.length,a=e.valLength,i=0,n!==a&&((a>n||r!==t)&&(e.style.height="0px"),i=e.scrollHeight+this.borderWidth,e.style.overflow="hidden",e.style.height=i+"px",e.valLength=n,e.boxWidth=r)},this.UITextarea.prototype.getLimitData=function(){var t,e;return e=this.maxChars-this.limitUsed,t={limit_chars_remaining:I18n.toNumber(e,this.i18n_opts),limit_remaining:I18n.t("textarea.limit.remaining",{count:e}),limit_prefix:I18n.t("textarea.limit.prefix"),limit_used:I18n.toNumber(this.limitUsed,this.i18n_opts),limit_middle:I18n.t("textarea.limit.middle"),limit_max:I18n.toNumber(this.maxChars,this.i18n_opts),limit_suffix:I18n.t("textarea.limit.suffix")}},this.UITextarea.prototype.appendLimitMessage=function(){this.maxCharsContainer.html(this.limitString)},this.UITextarea.prototype.setValue=function(e){var i;return i=this.getValue(),this.$target.find(":input").val(e),Validations.clearMessages(this.$target),this.maxChars&&(this.limitUsed=t(this.textarea.val()),this.updateLimitUsed()),i!==e?this.trigger("valueChanged"):void 0},this.UITextarea.prototype.updateLimitUsed=function(){this.showRemaining?this.limitString=SMT["templates/textarea_limit_remaining"](this.getLimitData()):this.limitString=SMT["templates/textarea_limit"](this.getLimitData()),this.appendLimitMessage(),this.limitUsed>this.maxChars?this.maxCharsContainer.addClass("over-limit"):this.maxCharsContainer.removeClass("over-limit")},t=function(t){var e,i;return i=(t.match(/\n/g)||[]).length,e=t.length+i}}.call(this),function(){var t,e,i,n,r,a,s;s="UITime",this.UITime=widget(s),this.UIFormInputs.register(s),this.UITime.prototype.initialize=function(t){var e;return e=this,UITime.superclass.initialize.call(this,t),this.$visibleTarget=this.$target.find(".visible"),this.$hiddenTargets=this.$target.find(".hidden"),this.$year=this.$hiddenTargets.filter(".year"),this.$month=this.$hiddenTargets.filter(".month"),this.$day=this.$hiddenTargets.filter(".day"),this.$hour=this.$hiddenTargets.filter(".hour"),this.$min=this.$hiddenTargets.filter(".min"),this.$sec=this.$hiddenTargets.filter(".sec"),this.saveInitialState(),this.$visibleTarget.on("change",function(t){return function(){return r.call(t)}}(this)),this.$hiddenTargets.on("change",function(t){return function(){return a.call(t)}}(this)),this.$visibleTarget.on("paste",function(t){return function(e){return setTimeout(function(){var e;return e=t.$visibleTarget.val(),t.isValidTime(e)||t.setValue(t.getValue()),t.$visibleTarget.trigger("change")},0)}}(this)),this.$visibleTarget.on("keypress",function(t){return function(e){var i,n,r,a,s,o,l,u;return i=t.$visibleTarget,a=i.val(),n=i.caret(),Events.isMetaKey(e)||Events.isEnterKey(e)?!0:(l=String.fromCharCode(e.which),r=l.charCodeAt(0),0===r||8===r?!0:(s=a.substring(0,n.start),o=a.substring(n.start+n.text.length,a.length),u=s+l+o,t.isValidTime(u)))}}(this)),this.$visibleTarget.on("keydown",function(t){var i,n,r,a,s,o;return n=e.$visibleTarget.caret(),o=n.start,s=Events.isDeleteKey(t),a=Events.isBackspaceKey(t),(r=s||a)?(a&&(o-=1),i=this.value.charAt(o),":"===i?!1:-1!==n.text.indexOf(":")?!1:void 0):!0})},this.UIComponent.mixin(this.UITime.prototype,this.UIMixins.FormInputMixin),this.UITime.prototype.getCurrentState=function(){return{value:this.getValue(),visible:{disabled:this.$visibleTarget.attr("disabled")?!0:!1,readonly:this.$visibleTarget.attr("readonly")?!0:!1},hidden:{disabled:this.$hiddenTargets.attr("disabled")?!0:!1,readonly:this.$hiddenTargets.attr("readonly")?!0:!1}}},this.UITime.prototype.restoreInitialState=function(){this.initialState&&(this.setValue(this.initialState.value),this.$hiddenTargets.attr("disabled",this.initialState.hidden.disabled),this.$hiddenTargets.attr("readonly",this.initialState.hidden.readonly),this.$visibleTarget.attr("disabled",this.initialState.visible.disabled),this.$visibleTarget.attr("readonly",this.initialState.visible.readonly))},this.UITime.prototype.setValue=function(t){var e,i,r;return e=this.getValue(),i=I18n.parseDate(t),i.toString().match(/invalid/i)?!1:(n.call(this,i),r=I18n.strftime(i,I18n.t("time.formats.timepicker")),this.$visibleTarget.val(r),Validations.clearMessages(this.$target),void(e!==t&&this.trigger("valueChanged")))},this.UITime.prototype.getValue=function(){var i,n,r,a;return n=t.call(this),a=e.call(this),i=n+" "+a,r=I18n.parseDate(i),I18n.strftime(r,I18n.t("time.formats.javascript"))},this.UITime.prototype.isValidTime=function(t){var e;return e=/^([01]?[0-9]|2[0-3])?:?([0-5][0-9]|[0-9])?$/,e.test(t)},a=function(){var t,e,i,n;n=this.getValue(),t=I18n.parseDate(n),i=I18n.strftime(t,I18n.t("time.formats.timepicker")),this.$visibleTarget.val(i),e="Deprecated, use valueChanged on the instance instead.",Events.deprecate(e,this.$visibleTarget,"visibleChanged")},r=function(){var e,r,a,s,o,l,u,c;return e=this.getValue(),c=this.$visibleTarget.val(),l=i(this.$sec.val()),a=t.call(this),u=c+":"+l,r=a+" "+u,s=I18n.parseDate(r),s.toString().match(/invalid/)?!1:(n.call(this,s),o="Deprecated, use valueChanged on the instance instead.",void Events.deprecate(o,this.$hiddenTargets,"hiddenChanged"))},e=function(){var t,e,n,r;return t=i(this.$hour.val()),e=i(this.$min.val()),n=i(this.$sec.val()),r=t+":"+e+":"+n},t=function(){var t,e,n,r;return r=this.$year.val(),n=i(this.$month.val()),e=i(this.$day.val()),t=r+"-"+n+"-"+e},n=function(t){this.$year.val(t.getFullYear()),this.$month.val(t.getMonth()+1),this.$day.val(t.getDate()),this.$hour.val(t.getHours()),this.$min.val(t.getMinutes()),this.$sec.val(t.getSeconds())},i=function(t){var e;return e="0"+t.toString(),e.substr(e.length-2)}}.call(this),function(){this.UIWizard=widget("UIWizard"),this.UIWizard.prototype.initialize=function(t){var e;return e=this,UIWizard.superclass.initialize.call(this,t),this.form=this.child_with_tag("wizard_form"),this.form.$target.find(":submit").on("click",function(t){var i,n;return n=$(this).attr("name"),i=e.form.$form,i.find('input[type="hidden"][class="button"]').remove(),i.append("<input type='hidden' class='button' name='"+n+"' />"),"prev"===n?e.form.validateOnSubmit=function(){return!0}:void 0})}}.call(this),function(){var t;t="UIYesNo",this.UIYesNo=widget(t),this.UIFormInputs.register(t),this.UIYesNo.prototype.initialize=function(t){return UIYesNo.superclass.initialize.call(this,t),this.saveInitialState()},this.UIComponent.mixin(this.UIYesNo.prototype,this.UIMixins.FormInputMixin)}.call(this),function(){var t,e;this.UIButtonRecurrenceDialogPattern=widget("UIButtonRecurrenceDialogPattern"),this.UIButtonRecurrenceDialogPattern.prototype.initialize=function(t){var e,i,n;return n=this,UIButtonRecurrenceDialogPattern.superclass.initialize.call(this,t),i="Deprecation: UIButtonRecurrenceDialogPattern is being deprecated, please use UIDialog with a UIForm with your own UILink instead.",Logger.deprecate(i),this.form=this.parent_of_type("UIForm"),this.$fields=this.$target.find("input, select"),this.dialog=this.child_with_tag("recurrence_dialog"),this.link=this.child_with_tag("recurrence_button"),this.link.hasTarget=!0,this.link.linkTarget=this.dialog,this.dialogForm=this.dialog.child_with_tag("recurrence_form"),this.stopRecurrenceButton=this.dialog.child_with_tag("stop_recurrence"),this.stopRecurrenceInput=this.dialogForm.$target.find("input[name*=_destroy]"),e={dataType:"json",success:function(t){return function(){return t.dialog.close(),t.dialog.trigger("updateRecurrence")}}(this)},this.dialogForm.$form.ajaxForm(e),this.stopRecurrenceButton.$target.on("click",function(t){return function(){return t.stopRecurrenceInput.val("1"),t.dialogForm.$form.submit()}}(this)),this.$fields.on("change",function(){return n.handleFieldPopulation(this)})},this.UIButtonRecurrenceDialogPattern.prototype.handleFieldPopulation=function(i){var n,r,a,s;return n=$(i),r=$.trim(n.val()),a=e.call(this),s=t.call(this),this.setNewRecurrenceState(),r.length&&this.setEditRecurrenceState(),this.dialogForm.toUpdateFor(s,a)},this.UIButtonRecurrenceDialogPattern.prototype.setNewRecurrenceState=function(){return this.stopRecurrenceInput.val("0"),this.link.$target.removeClass("hidden").text(I18n.t("recurrence.link.new")),this.stopRecurrenceButton.$target.addClass("hidden")},this.UIButtonRecurrenceDialogPattern.prototype.setEditRecurrenceState=function(){return this.link.$target.text(I18n.t("recurrence.link.edit")),this.stopRecurrenceButton.$target.removeClass("hidden")},t=function(){var t;return t={},this.$fields.each(function(){t[this.name]=this.value}),t},e=function(){var t,e;return t=this.form,e=/\d+$/g,e.exec(t.form.action)[0]}}.call(this),function(){this.UIGridDialogPattern=widget("UIGridDialogPattern"),this.UIGridDialogPattern.prototype.initialize=function(t){var e;return UIGridDialogPattern.superclass.initialize.call(this,t),this.grid=this.child_with_tag("grid"),this.dialog=this.child_with_tag("dialog"),this.form=this.dialog.child_with_tag("form"),this.link=this.child_with_tag("link")||this.child_with_tag("primary_action"),this.readonly=this.$target.data("readonly"),this.link&&this.link.$target.click(function(t){return function(e){return e.preventDefault(),t.showNew()}}(this)),$(this.grid).on("rowClicked",function(t){return function(e,i,n){return t.handleRowClick(e,i,n)}}(this)),this.dialog.watch("opened",function(t){return function(){return t.form.isDirty()?t.form.saveDefaultState():void 0}}(this)),e={dataType:"json",success:function(t){return function(e){return t.grid.refresh(),t.dialog.close(),t.form.trigger("formSaveSuccess",e.data)}}(this),error:function(t){return function(e,i,n){return t.form.enableSave(),t.form.trigger("formSaveFailure",e,i,n)}}(this)},this.form.$form.ajaxForm(e)},this.UIGridDialogPattern.prototype.handleRowClick=function(t,e,i){var n;return n=this.grid.showPath(i),"static"===this.$target.data("show")?UIMethods.redirectTo(n):$.getJSON(n,function(t){return function(e){return t.showEdit(e)}}(this))},this.UIGridDialogPattern.prototype.handle_row_click=function(t,e,i){var n;return n="Method Deprecation: handle_row_click - use handleRowClick instead",Logger.warn(n),this.handleRowClick(t,e,i)},this.UIGridDialogPattern.prototype.copy=function(t){var e,i;return i=this.getTitleForAction("copy"),e=this.grid.copyPath({id:t}),$.getJSON(e,function(t){return function(e){var n;return n={},n[t.grid.forModel]=e,t.form.toCreate(),t.form.populateWith(n),t.form.$target.find(":input").change(),t.trigger("formPopulated",n),t.dialog.setTitle(i),t.dialog.open()}}(this))},this.UIGridDialogPattern.prototype.showNew=function(){var t;return this.form.toCreate(),this.readonly&&this.form.enable(),this.trigger("formCleared"),t=this.getTitleForAction("new"),this.dialog.setTitle(t),this.dialog.open()},this.UIGridDialogPattern.prototype.show_new=function(){var t;return t="Method Deprecation: show_new - use showNew instead",Logger.warn(t),this.showNew()},this.UIGridDialogPattern.prototype.showEdit=function(t){var e,i,n;return e=this.readonly?"view":"edit",n=this.getTitleForAction(e),i={},i[this.grid.forModel]=t,this.form.toUpdateFor(i,t.id),this.readonly&&this.form.disable(),this.trigger("formPopulated",i),this.dialog.setTitle(n),this.dialog.open()},this.UIGridDialogPattern.prototype.show_edit=function(t){var e;return e="Method Deprecation: show_edit - use showEdit instead",Logger.warn(e),this.showEdit(t)},this.UIGridDialogPattern.prototype.getTitleForAction=function(t){var e,i,n;return e=this.form.resource_key,i=I18n.t("activerecord.models."+e,{defaultValue:e.humanize(),count:1}),n=I18n.t("dialog.titles."+t,{model:i}),I18n.t("dialog."+e+".titles."+t,{model:i,defaultValue:n})}}.call(this),function(){this.UIGridIndexCardPattern=widget("UIGridIndexCardPattern"),this.UIGridIndexCardPattern.prototype.initialize=function(t){var e,i,n,r;return UIGridIndexCardPattern.superclass.initialize.call(this,t),n="Deprecation: UIGridIndexCardPattern is being deprecated, please use UIGrid with custom JSMVC assigned on rowClicked events instead.",Logger.deprecate(n),this.indexCard=this.child_with_tag("indexcard"),this.index_card=this.indexCard,this.addForm=this.indexCard.child_with_tag("default_content"),this.add_form=this.addForm,this.editForm=this.indexCard.child_with_tag("content"),this.edit_form=this.editForm,this.grid=this.child_with_tag("grid"),r=this.indexCard.$card.find("fieldset").length,this.$target.addClass("children"+r),$(this.grid).on("rowClicked",function(t){return function(e,i,n){var r;return r=t.grid.showPath(n),$.getJSON(r,function(e){return t.showEdit(e)})}}(this)),$(this.grid).on("willDelete",function(t){return function(e,i){return i===t.currentlyEditing?t.indexCard.hide():void 0}}(this)),e={dataType:"json",success:function(t){return function(){return t.grid.refresh(),t.addForm.restoreInitialState()}}(this)},this.addForm.$form.ajaxForm(e),i={dataType:"json",success:function(t){return function(){return t.grid.refresh(),t.indexCard.hide()}}(this)},this.editForm.$form.ajaxForm(i)},this.UIGridIndexCardPattern.prototype.showEdit=function(t){var e,i;return e=t.id,this.currentlyEditing===e&&this.indexCard.isShown?!1:(this.currentlyEditing=e,i={},i[this.grid.forModel]=t,this.indexCard.hideInstantly(),this.editForm.toUpdateFor(i,e),this.trigger("populateEdit",t),this.indexCard.show())},this.UIGridIndexCardPattern.prototype.show_edit=function(t){return Logger.warn("Method Deprecation: show_edit - use showEdit instead"),this.showEdit(t)}}.call(this),function(){this.UIGridStaticPattern=widget("UIGridStaticPattern"),this.UIGridStaticPattern.prototype.initialize=function(t){return UIGridStaticPattern.superclass.initialize.call(this,t),this.grid=this.child_with_tag("grid"),$(this.grid).on("rowClicked",function(t){return function(e,i,n){return e.uiInternalCall=!0,t.handle_row_click(e,i,n)}}(this))},_,this.UIGridStaticPattern.prototype.handleRowClick=function(t,e,i){var n;return n=this.grid.showPath(i),"edit"===this.grid.rowAction&&(n=this.grid.editPath(i)),UIMethods.redirectTo(n)},this.UIGridStaticPattern.prototype.handle_row_click=function(t,e,i){return t.uiInternalCall||Logger.deprecate("Method Deprecation: handle_row_click - Use handleRowClick instead."),this.handleRowClick(t,e,i)},this.UIGridStaticPattern.prototype.copy=function(t){var e;return e=this.grid.copyPath({id:t}),UIMethods.redirectTo(e)},this.UIGridStaticPattern.prototype.redirect=function(t){return Logger.deprecate("Method Deprecation: redirect - Use UIMethods.redirectTo instead"),UIMethods.redirectTo(t)}}.call(this),function(){delegate("SopUiComponents.AjaxDialog"),this.SopUiComponents.AjaxDialog.prototype.initialize=function(){var t,e;return e="Deprecation: Delegates are being deprecated so AjaxDialog will no longer work, please use JSMVC with setupAjax method on UIForm instead.",Logger.deprecate(e),this.dialog=this.delegator,this.form=this.dialog.child_with_tag("form"),this.dialog.$target.on("toggleTarget",function(t){return function(){return t.form.toCreate()}}(this)),t={dataType:"json",success:function(t){return function(){return t.dialog.close()}}(this)},this.form.$form.ajaxForm(t)}}.call(this),function(){Browser.isLessThanIE(9)&&(!document.cookie||document.cookie.indexOf("_irflag")<0)&&$(window).load(function(t){return function(){return t.iconRefreshFix()}}(this)),this.iconRefreshFix=function(){var t,e;return t=document.getElementsByTagName("head")[0],e=document.createElement("style"),e.type="text/css",e.styleSheet&&(e.styleSheet.cssText='[class^="icon-"]:before,[class*=" icon-"]:before{overflow:hidden; content:"K" !important};'),t.appendChild(e),setTimeout(function(){return t.removeChild(e)},0),document.cookie="_irflag=true"}}.call(this),function(){null==this.App&&(this.App={})}.call(this),function(){this.App.Data=function(t,e){var i,n,r,a,s,o,l;for(null==e&&(e=null),i=this.Data,l=t.split("."),a=r=0,s=l.length;s>r;a=++r)t=l[a],o="You can not update a value already set on "+t,null!=i[t]&&null!=e&&Logger.warn(o),n=a===l.length-1?e:{},i[t]=i[t]||n,i=i[t];return i}}.call(this),function(){$(document).ready(function(){return Notifier.initialize(),Confirmer.initialize(),UIComponent.initialize(),Unsaved.initialize(),Scroll.initialize(),SopUI.Router.start(window.location.pathname),Logger.showDeprecations(),deviceIsIOS?FastClick.attach(document.body):void 0})}.call(this),function(){delegate("UserManagements.ChangePermissions"),this.UserManagements.ChangePermissions.prototype.initialize=function(){var t,e,i;return e="Deprecation: Delegates are being deprecated so ChangePermissions will no longer work, please use JSMVC instead.",Logger.deprecate(e),i=this,t="select[id^=business_membership_area_roles_attributes_]",this.childDropdowns=this.delegator.$target.find(t),this.mainDropdown=this.delegator.child_with_tag("main_roles").$target.find("select"),this.mainDropdown.on("change",function(){var t;return t=$(this).val(),"custom"!==t?i.childDropdowns.each(function(){return $(this).val(t)}):void 0}),this.childDropdowns.each(function(){return $(this).on("change",function(){return i.mainDropdown.val("custom")})})}}.call(this),function(){}.call(this),function(){this.UIMysageoneSubscriptionSelector=widget("UIMysageoneSubscriptionSelector"),this.UIMysageoneSubscriptionSelector.prototype.initialize=function(t){var e,i;return UIMysageoneSubscriptionSelector.superclass.initialize.call(this,t),this.links=this.$target.find(".UILink[data-option-name][data-option-value]"),this.tabLinks=this.$target.find("ul.tab-titles li"),this.inputs=this.$target.find('input[type="radio"], input[type="checkbox"]'),i=this,this.links.each(function(t){var e;return e=$(this),e.on("click",function(e){return e.preventDefault(),i.handleClickEvent(t,e)})}),this.questions_dialogs={},e=[],this.tabLinks.on("mouseup",function(){return $(this).hasClass("disabled")?void 0:i.$target.find('.UIContainer[data-tag="intro_help"]').remove()}),this.inputs.each(function(t){var n,r,a,s,o,l,u,c,h,d;return n=$(this),h=n.val(),r=i.links.filter('[data-option-value="'+h+'"]'),a=i.tabLinks.filter("."+h),l=n.attr("name"),u=n.val(),o=n.attr("name").match(/\[([^\[]+)\]$/)[1],c=i.child_with_tag(o+"_questions"),void 0!==c?(d=$.trim(a.text()),s=c.child_with_tag("form"),i.questions_dialogs[l+":"+u]={group:o,title:d,dialog:c,form:s},e.push(c)):void 0}),$($.unique(e)).each(function(){var t;return t=this,
$(t).on("closed",function(){var e,n,r,a;return t.wasCancelled?void 0:(n=i.$target.parents(".UIForm"),r=n.data("resource"),r=r.substring(r.indexOf("/")+1).replace("/","_"),$(t).data("input_target").attr("checked","checked"),i.update_ui_for_inputs(),a=t.$target.find(":input"),e=$('<div class="answers"></div>'),a.each(function(){var t,i,n,a,s,o;return n=this,a=n.name,o=n.value,s=n.type,i=["authenticity_token","utf8","","cancel_url"],"submit"!==s&&-1===$.inArray(a,i)&&(a=r+a.replace(/([^\[]+)(\[*.*)/,function(t,e,i,n,r){return"["+e+"]"+i}),"checkbox"!==s||$(n).attr("checked"))?(t=$("<input type='hidden'>"),t.attr("name",a),t.val(o),e.append(t)):void 0}),i.$target.find(".answers").remove(),i.$target.append(e))}),t.$target.find("form").bind("submit",function(e){var i;return e.preventDefault(),i=t.child_with_tag("form"),i.validateOnSubmit()?t.close():void 0})}),this.update_ui_for_inputs()},this.UIMysageoneSubscriptionSelector.prototype.update_ui_for_inputs=function(){var t;return t=this,$(this.inputs).each(function(e,i){var n,r,a,s;return a=$(i).val(),r=t.links.filter('[data-option-value="'+a+'"]'),s=t.tabLinks.filter("."+a),n=$(i),$(this).is(":checked")?(r.text(I18n.t("services.unsubscribe")),s.addClass("selected")):(r.text(I18n.t("services.subscribe")),s.removeClass("selected")),$(this).is(":disabled")?s.addClass("disabled"):void 0})},this.UIMysageoneSubscriptionSelector.prototype.handleClickEvent=function(t,e){var i,n,r,a,s,o;return i=$(e.target).data("option-value"),a=this.inputs.filter('[value="'+i+'"]'),a.is(":checked")?a.removeAttr("checked"):(s=a.attr("name")+":"+a.val(),n=this.questions_dialogs[s],void 0!==n?(r=n.dialog,o=I18n.t("services.subscribe_to",{service:n.title}),$(r).data("input_target",a),r.setTitle(o),n.form.restoreInitialState(),r.open()):a.attr("checked","checked")),this.update_ui_for_inputs()}}.call(this),function(){}.call(this),function(){this.SMT||(this.SMT={}),this.SMTCache||(this.SMTCache={}),this.SMTCache["templates/app_message_show"]=Mustache.compile("<div class='view_message'>\n    <div id=\"MessageFrom\" class='message-data left'><span class='field-label'>From: </span>Sage One</div>\n    <div id=\"MessageDate\" class='message-data right'><span class='field-label'>Date: </span>{{date}}</div>\n  <div id=\"MessageBody\" class='body'>\n    <pre>\n      {{{body}}}\n    </pre>\n  </div>\n</div>\n"),Mustache.compilePartial("templates/app_message_show","<div class='view_message'>\n    <div id=\"MessageFrom\" class='message-data left'><span class='field-label'>From: </span>Sage One</div>\n    <div id=\"MessageDate\" class='message-data right'><span class='field-label'>Date: </span>{{date}}</div>\n  <div id=\"MessageBody\" class='body'>\n    <pre>\n      {{{body}}}\n    </pre>\n  </div>\n</div>\n"),this.SMT["templates/app_message_show"]=function(t){return t||(t={}),SMTCache["templates/app_message_show"](t)}}.call(this),function(){var t;delegate("Auth.SignupActions"),this.Auth.SignupActions.prototype.initialize=function(){var t,e;return e="Deprecation: Delegates are being deprecated so SignupActions will no longer work, please use JSMVC instead.",Logger.deprecate(e),t=this,this.actionsContainer=this.delegator.child_with_tag("primary_actions"),this.formContainer=this.delegator.child_with_tag("signup_form"),this.emailField=this.formContainer.child_with_tag("email"),this.formCancel=this.formContainer.$target.find(".cancel-signup"),this.formContinue=this.formContainer.$target.find(".continue-signup"),this.authActions=this.actionsContainer.$target.find(".auth-action"),this.formOpen=!1,this.authType=!1,this.authActions.on("click",function(){return t.toggleForm(this)}),this.formCancel.on("click",function(t){return function(e){return e.preventDefault(),t.closeForm()}}(this))},this.Auth.SignupActions.prototype.toggleForm=function(t){return this.formOpen?this.closeForm():this.openForm(t)},this.Auth.SignupActions.prototype.openForm=function(e){return this.authType=$(e).data("auth-type"),this.formOpen=!0,"sageid"===this.authType?t(this.emailField,!0):t(this.emailField,!1),this.actionsContainer.$target.addClass("action-selected"),this.authActions.removeClass("selected"),$(e).addClass("selected"),this.formContinue.attr("name",this.authType),this.formContinue.attr("class","primary "+this.authType),this.formContainer.$target.removeClass("hidden")},this.Auth.SignupActions.prototype.closeForm=function(){return this.authType=!1,this.formOpen=!1,this.actionsContainer.$target.removeClass("action-selected"),this.authActions.each(function(){return $(this).removeClass("selected")}),this.formContainer.$target.addClass("hidden"),Validations.clearMessages(this.formContainer.$target)},t=function(t,e){return e?(t.enable(),t.$target.closest(".UIRow").removeClass("hidden")):(t.disable(),t.$target.closest(".UIRow").addClass("hidden"))}}.call(this),function(){delegate("ShowMessage"),this.ShowMessage.prototype.initialize=function(){var t;return t="Deprecation: Delegates are being deprecated so ShowMessage will no longer work, please use JSMVC instead.",Logger.deprecate(t),this.grid=this.delegator.child_with_tag("grid"),this.dialog=this.delegator.child_with_tag("dialog"),this.template="templates/app_message_show",$(this.grid).on("rowClicked",function(t){return function(e,i,n){var r;return t.grid.$tbody.find('tr[data-id="'+n.id+'"]').attr("data-status","read"),r=t.grid.show_path(n),$.getJSON(r,function(e){var i;return i=SMT[t.template](e),t.dialog.setTitle(e.subject),t.dialog.child_with_tag("placeholder").$target.html(i),t.dialog.open()})}}(this))}}.call(this),function(){delegate("Signup"),this.Signup.prototype.initialize=function(){var t,e;return t="Deprecation: Delegates are being deprecated so Signup will no longer work, please use JSMVC instead.",Logger.deprecate(t),this.form=this.delegator.$target,this.sageidToggle=this.form.find(".sageid-toggle"),this.submitButtons=this.form.find(".UIButton"),this.emailField=this.form.find('[id$="signup_user_email"]'),this.signupActions=this.form.find(".signup_actions"),this.signupActions.css("max-height",this.signupActions.outerHeight()),e=this,this.submitButtons.on("click",function(){return e.form.hasClass("open")&&"sageid"!==this.children[0].name?e.toggleAdditionalFields():void 0}),this.sageidToggle.on("click",function(t){return function(e){return e.preventDefault(),t.toggleAdditionalFields()}}(this)),this.emailField.on("keydown",function(t){return function(e){return Events.isEnterKey(e)?(e.preventDefault(),t.submitWithSageId()):void 0}}(this))},this.Signup.prototype.submitWithSageId=function(){return this.submitButtons.last().find("button.sageid").trigger("click")},this.Signup.prototype.toggleAdditionalFields=function(){return this.form.toggleClass("open"),this.form.hasClass("open")?this.emailField.removeAttr("disabled"):this.emailField.attr("disabled","disabled")}}.call(this),function(){var t;delegate("UpdateUnreadMessageCount"),this.UpdateUnreadMessageCount.prototype.initialize=function(){var e;return e="Deprecation: Delegates are being deprecated so UpdateUnreadMessageCount will no longer work, please use JSMVC instead.",Logger.deprecate(e),this.grid=this.delegator,this.link=UIComponent.root_element.child_with_tag("message-icon"),this.messageCount=this.link.$target.data("message-count"),$(this.grid).on("rowClicked",function(e){return function(i,n){var r,a;return a=e.grid.dataForRow(n),r=e.grid.$target.find('tbody tr[data-id="'+a.id+'"]'),t(r)?(e.updateMessageStatus(r),e.updateMessageIconStatus()):void 0}}(this))},this.UpdateUnreadMessageCount.prototype.updateMessageStatus=function(t){return t.attr("data-status","read")},this.UpdateUnreadMessageCount.prototype.updateMessageIconStatus=function(){return this.messageCount>0&&--this.messageCount,0===this.messageCount?this.link.$target.removeClass("new-message"):void 0},t=function(t){return"unread"===t.attr("data-status")}}.call(this),function(){Validations.validators.terminateBusinessValidator=function(t){return t.content===t.element.attr("data-expected-value")},Validations.validators.terminateBusinessValidator.translation_key="terminate_string_does_not_match"}.call(this),function(){SopUI.Module("App.Controllers.Mobile",function(t){return t.AuthViewController=SopUI.ViewController(function(t){return t.watch("ui:button:click",function(t){var e,i;return e=this.fetchButtonNameFromEvent(t),i=this._ui(".user_provider")[0],e&&i?i.setValue(e):void 0}),t.def("fetchButtonNameFromEvent",function(t){return t.srcElement.name})})})}.call(this),function(){SopUI.Module("App.Controllers.Mobile",function(t){return t.DemoViewController=SopUI.ViewController(function(t){return t.ready(function(){return this.dialog=this._ui(".start_demo_dialog")[0]}),t.watch("ui:.start_demo_link:click",function(){return this.dialog.open()})})})}.call(this),function(){SopUI.Module("App.Controllers.Mobile",function(t){return t.GetStartedPageController=SopUI.PageController(function(e){return e.subview(".mobile_get_started",t.DemoViewController)})})}.call(this),function(){SopUI.Module("App.Controllers.Mobile",function(t){return t.SignupWizardPageController=SopUI.PageController(function(e){return e.subview(".wizard_form",t.AuthViewController)})})}.call(this),function(){SopUI.Router.draw(function(t){return t.map("/mobile/get-started",App.Controllers.Mobile.GetStartedPageController),t.map("/mysageone_core/mobile/signups/wizard",App.Controllers.Mobile.SignupWizardPageController)})}.call(this),function(){}.call(this);var I18n=I18n||{};I18n.translations={en:{date:{formats:{"default":"%d/%m/%Y","short":"%d %b","long":"%d %B, %Y",javascript:"dd/mm/yyyy"},day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],order:["day","month","year"]},time:{formats:{"default":"%a, %d %b %Y %H:%M:%S","short":"%d %b %H:%M","long":"%d %B, %Y %H:%M",timepicker:"%H:%M",javascript:"%Y-%m-%d %H:%M:%S"},am:"am",pm:"pm"},support:{array:{words_connector:", ",two_words_connector:" and ",last_word_connector:", and "},select:{prompt:"Please select"}},errors:{format:"%{attribute} %{message}",messages:{inclusion:"is not included in the list",exclusion:"is reserved",invalid:"is invalid",confirmation:"doesn't match confirmation",accepted:"must be accepted",empty:"can't be empty",blank:"This field is required.",too_long:"is too long (maximum is %{count} characters)",too_short:"is too short (minimum is %{count} characters)",wrong_length:"is the wrong length (should be %{count} characters)",not_a_number:"is not a number",not_an_integer:"must be an integer",greater_than:"must be greater than %{count}",greater_than_or_equal_to:"must be greater than or equal to %{count}",equal_to:"must be equal to %{count}",less_than:"must be less than %{count}",less_than_or_equal_to:"must be less than or equal to %{count}",odd:"must be odd",even:"must be even",carrierwave_processing_error:"failed to be processed",carrierwave_integrity_error:"is not of an allowed file type",carrierwave_download_error:"could not be downloaded",extension_white_list_error:"You are not allowed to upload %{extension} files, allowed types: %{allowed_types}",extension_black_list_error:"You are not allowed to upload %{extension} files, prohibited types: %{prohibited_types}",rmagick_processing_error:"Failed to manipulate with rmagick, maybe it is not an image? Original Error: %{e}",mime_types_processing_error:"Failed to process file with MIME::Types, maybe not valid content-type? Original Error: %{e}",mini_magick_processing_error:"Failed to manipulate with MiniMagick, maybe it is not an image? Original Error: %{e}",terminate_string_does_not_match:"The confirmation string doesn't match",unsecure:"is invalid",wrong_format:"is an invalid format",invalid_chars:"contains invalid characters",invalid_email:"Please enter a valid email address.",date_range:"start date must not be later than end date",date_bounds_invalid:"the selected date is out of bounds",not_logged_in:"You're not allowed to access this page. Please login.",sso_user_not_found:"No matching user found for your SSO account.",failed_sso_authentication:"Failed to authenticate with SSO.",activation_token_not_found:"Activation token not found.",sso_guid_taken:"A user already exists for your SSO account.",blocked:"Your account has been disabled by the administrator.",not_activated:"Your account has not yet been activated.",invalid_services:"You have selected invalid services.",invalid_sort_code:"Please enter a valid sort code.",invalid_radio_button:"Please select an option from this group",form_summary:{errors:{one:"There is <i class='icon-error'></i> %{count} error",other:"There are <i class='icon-error'></i> %{count} errors"},warnings:{one:"There is <i class='icon-warning'></i> %{count} warning",other:"There are <i class='icon-warning'></i> %{count} warnings"},errors_and_warnings:{one:" and <i class='icon-warning'></i> %{count} warning",other:" and <i class='icon-warning'></i> %{count} warnings"}}},"sop_core_models/business":{membership_not_saved:"User was not added to the business",owner_not_set:"In order to set the business owner, the user needs to be part of the business. The owner was not set."},"sop_settings/area_code":{primary_only_full_access:"A System Manager must have full access"},"sop_settings/business_memberships":{current_user_cannot_unset_primary:"Cannot allow your own user to remove System Manager",current_user_cannot_delete_self:"Cannot delete yourself",current_user_cannot_delete_owner:"Cannot delete business owner",owner_must_have_full_access:"A business owner must have full access and needs to be a system manager"},"sop_settings/new_business":{service_required:"Please select a valid service for the business you are adding",multi_business_service_required:"Please select a valid multi-business service for the business you are adding"},"sop_settings/manage_businesses":{"switch":{invalid_business:"Access Denied. You are now allowed to switch to the specified business"}}},activerecord:{errors:{messages:{taken:"has already been taken",record_invalid:"Validation failed: %{errors}",inclusion:"is not included in the list",exclusion:"is reserved",invalid:"is invalid",unsecure:"is invalid",confirmation:"doesn't match confirmation",accepted:"must be accepted",empty:"can't be empty",blank:"This field is required.",too_long:"is too long (maximum is %{count} characters)",too_short:"is too short (minimum is %{count} characters)",wrong_length:"is the wrong length (should be %{count} characters)",wrong_format:"is an invalid format",not_a_number:"is not a number",not_an_integer:"must be an integer",invalid_chars:"contains invalid characters",invalid_email:"Please enter a valid email address.",greater_than:"must be greater than %{count}",greater_than_or_equal_to:"must be greater than or equal to %{count}",equal_to:"must be equal to %{count}",less_than:"must be less than %{count}",less_than_or_equal_to:"must be less than or equal to %{count}",odd:"must be odd",even:"must be even",date_range:"start date must not be later than end date",date_bounds_invalid:"the selected date is out of bounds",not_logged_in:"You're not allowed to access this page. Please login.",sso_user_not_found:"No matching user found for your SSO account.",failed_sso_authentication:"Failed to authenticate with SSO.",activation_token_not_found:"Activation token not found.",sso_guid_taken:"A user already exists for your SSO account.",blocked:"Your account has been disabled by the administrator.",not_activated:"Your account has not yet been activated.",invalid_services:"You have selected invalid services.",invalid_sort_code:"Please enter a valid sort code.",invalid_radio_button:"Please select an option from this group",form_summary:{errors:{one:"There is <i class='icon-error'></i> %{count} error",other:"There are <i class='icon-error'></i> %{count} errors"},warnings:{one:"There is <i class='icon-warning'></i> %{count} warning",other:"There are <i class='icon-warning'></i> %{count} warnings"},errors_and_warnings:{one:" and <i class='icon-warning'></i> %{count} warning",other:" and <i class='icon-warning'></i> %{count} warnings"}}},models:{user:{attributes:{user_auths:{invalid:"are invalid."},email:{email_cannot_be_changed:"Email cannot be changed"},base:{activated_user_cannot_be_deleted:"You cannot delete activated users. Please set their access permissions to 'No Access'."}}}},template:{header:{one:"1 error prohibited this %{model} from being saved",other:"%{count} errors prohibited this %{model} from being saved"},body:"There were problems with the following fields:"},full_messages:{format:"%{attribute} %{message}"}},attributes:{user:{user_auths:"Authentication details",business_telephone:"Telephone"},business_membership:{primary:"System Manager","is_owner?":"Owner",business_telephone:"Telephone",user_email:"Email",user_last_logged_in:"Last logged in"},business:{name:"Business name",sage_crm_id:"Sage CRM ID",billed_for_accountant_edition:"Billed for accountant access",subscribed_service_names:"Subscribed Services",business:"Client",invite_status:"Status",invite_created_at:"Created On"},"accountants_core/accountant_client":{has_access:"This customer has access to Sage One"}},models:{business_membership:"User","mysageone_core/message_recipient":"message","mysageone_core/jwt_reseller":"Reseller","accountants_core/accountant_client":"Invitation"}},number:{format:{separator:".",delimiter:",",precision:2,significant:!1,strip_insignificant_zeros:!1},currency:{format:{format:"%u%n",unit:"\xa3",separator:".",delimiter:",",precision:2,significant:!1,strip_insignificant_zeros:!1,negative_format:"-%u%n"}},percentage:{format:{delimiter:"",separator:".",precision:2}},precision:{format:{delimiter:"",separator:".",precision:2}},human:{format:{delimiter:"",precision:2,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB",tb:"TB"}},decimal_units:{format:"%n %u",units:{unit:"",thousand:"Thousand",million:"Million",billion:"Billion",trillion:"Trillion",quadrillion:"Quadrillion"}}}},datetime:{distance_in_words:{half_a_minute:"half a minute",less_than_x_seconds:{one:"less than 1 second",other:"less than %{count} seconds"},x_seconds:{one:"1 second",other:"%{count} seconds"},less_than_x_minutes:{one:"less than a minute",other:"less than %{count} minutes"},x_minutes:{one:"1 minute",other:"%{count} minutes"},about_x_hours:{one:"about 1 hour",other:"about %{count} hours"},x_days:{one:"1 day",other:"%{count} days"},about_x_months:{one:"about 1 month",other:"about %{count} months"},x_months:{one:"1 month",other:"%{count} months"},about_x_years:{one:"about 1 year",other:"about %{count} years"},over_x_years:{one:"over 1 year",other:"over %{count} years"},almost_x_years:{one:"almost 1 year",other:"almost %{count} years"}},prompts:{year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",second:"Seconds"},formats:{"default":"%Y-%m-%d %H:%M",javascript:"yyyy-mm-dd HH:MM"}},helpers:{select:{prompt:"Please select",business_country:{prompt:"[Select country]"},yes:"Yes",no:"No"},submit:{create:"Create %{model}",update:"Update %{model}",submit:"Save %{model}"},button:{create:"Create %{model}",update:"Update %{model}",submit:"Save %{model}"},table_fields_for_many:{no_data:"No table data available"},fields_for_many:{no_data:"No data available"},dropdown_suggest:{no_results:"No results found"}},app:{roles:{full_access:"Full Access",restricted_access:"Restricted Access",read_only:"Read Only",no_access:"No Access",custom:"Custom",owner:"Owner"},sage:"Sage",one:"One",accept:"Accept",decline:"Decline",service:"Service",cost_this_month:"Cost this month",cost_per_month:"Cost per month",total_cost_per_month:"Total cost per month",total_cost_this_month:"Total cost this month",subscription_cost_summary:"Subscription Cost Summary",manage_services:"Manage Services",user_management_create_user:"Invite User",browser_unsupported_html:"This browser is unsupported and will not give you the best experience of the application. Please upgrade to one of the <a href='%{url}'>recommended browsers</a>.",mailer:{user_invitation:{subject:"%{user} invites you to use Sage One",from:"example_from@sageone.com"},new_accountant:{subject:"Welcome to Sage One Accountant Edition"},existing_accountant:{subject:"Your account was upgraded to Sage One Accountant Edition"},accountant_client_invitation:{existing_user:{subject:"You've been invited to connect with your accountant in Sage One"},new_user:{subject:"You've been invited to Sage One"}},accountant_withdraw:{subject:"A Sage One client has revoked your access to their books"}},user_invitation:{accept:{title:"Accept Invitation",signin_with:"Signin With",message:{success:"Invitation accepted."}},resend:{alert:{title:"Invitation ",text:"The invitation has not been accepted yet. Click the following button to resend the invitation email:"},message:{success:"Invitation email has been resent."}},title:"Your Invitation to %{app_title}"},change_password:"Change Password",password_change_success:"Password changed successfully",title_html:'<span class="logo-sage">Sage</span> <span class="logo-one">One</span>',connect_provider:{sage_intro:"Want to create a Sage Login?",sage:"Provide a username and password",link:"Connect with %{provider}",providers:{sageid:"SageID",facebook:"Facebook",google:"Google",azure:"Azure"},message:{success:"You have successfully linked up your %{provider} account."}},facebook:{user_not_recognised:"We haven't recognised your Facebook account. Please complete the sign up form to create a new account.",user_recognised:"We have recognised your account. Please login to your account.",missing_email:"To sign up or sign in with Facebook, you must allow permission to your email address"},azure:{user_not_recognised:"We haven't recognised your Azure account. Please complete the sign up form to create a new account.",user_recognised:"We have recognised your account. Please login to your account."},google:{user_not_recognised:"We haven't recognised your Google account. Please complete the sign up form to create a new account.",user_recognised:"We have recognised your account. Please login to your account."},superadmin:"Super Admin",name:"Sage One",mysageone:"My Sage One",help:"Help",cobrands:{manage:"Manage Co-Brands",current_image:"Co-Brand Logo:",upload_new:"Upload New",tagline:"Powered by"},jwt_resellers:{manage:"Manage Resellers",header:{environment:"Environment",token:"Token",endpoint:"Endpoint",enabled:"Enabled"},messages:{enable:"Enable",disable:"Disable",confirm_disable:"Are you sure you wish to deny this third party provider access?",confirm_enable:"Are you sure you wish to allow this third party provider to have access?",disabled:"Production endpoint disabled",enabled:"Production endpoint enabled",enabled_html:"This customer is currently allowed to use the production endpoint. Which means <strong>login and automatic provisioning</strong> to any of the services is <strong>enabled</strong>.",disabled_html:"This customer is currently not allowed to use the production endpoint. Which means <strong>login and automatic provisioning</strong> to any of the services is <strong>disabled</strong>.",signatory_html:"Your signatory is: <strong>%{signatory}</strong>",page_title:"Reseller integration details",blurb_html:"This page is available until %{expiry_date}. After this date, this information will not be available. You should store this information in a secure way. <strong>DO NOT</strong> check this information into source control.",title:"Important:",steps:"Steps to integrate",readme_html:"Read the <a href='%{url}'>documentation</a>.",test:"To check the validity of your token we recommend integrating with the test endpoint. You must use the following details:",production:"Once you've checked the validity of your token you can integrate with the production endpoint. To integrate with the production endpoint you must use the following details:",production_disabled:{title:"Production endpoint not enabled.",text:"Please contact us to enable this endpoint."},resend:{action:"Resend invitation",confirmation:"Are you sure you wish to resend an invitation to %{name}? Any previously issued invitations will be invalid."}}},oauth_authorize_1:" would like to request access to your Sage One account data.",oauth_authorize_2:"If you would like more information please contact them at ",oauth_authorize_link:"Application URL",oauth_authorize_business:"Business:",oauth_authorize_access:"Access:",oauth_actions:{allow:"Allow",deny:"Deny"},oauth_scopes:{readonly:"Read only",full_access:"Full"},oauth:{review_permissions:"Review Permissions"},my_account:"My company",my_clients:"My clients",home:"Home",logout:"Sign Out",login:"Login",services:"Services",settings:"Settings",messages:"Messages",admin:"Administration",add_business:"Add Business",add_services:"Add Services",switch_business_name:{with_role:"%{name} (%{role})",with_owner:"%{name} (%{owner})"},not_logged_in:"Not Logged In",signed_up_successfully:"Signed up successfully",logged_in_successfully:"Logged in successfully",logged_out_successfully:"You have been logged out",activated_successfully:"Your account has been activated successfully",signup:"Sign Up",assuming_a_role_html:"You're currently assuming the role of <strong>%{user}</strong>.",stop_assuming_role_html:"Click here to resume being <strong>%{user}</strong>.",email_not_verified_html:"We noticed you have not yet verified your email address. When you signed up to Sage One we sent you an email from <strong>donotreply@sageone.com</strong> to welcome you, and asked you to click a link to activate your account. If you have lost this email please ring us on 0845 111 6611 and we'll send you a new email as soon as we can.",names:{sage:"Sage",one:"One",sageone:"Sage One",accounts:"Accounts",accounts_extra:"Accounting",online:"Online"}},business_membership:{formatted:"%{user} of %{business}"},change_password:"Change Password","sop_settings/manage_businesses":{"switch":{success:"You have successfully switched businesses",switching_to_current_business:"You are already in %{business_name}"}},page_info:{"sop_settings/settings":{title:{"default":"Settings Overview",index:"Settings Overview"},info:{"default":"Use this area to manage your Sage One settings.",index:"Use this area to manage your Sage One settings."},help_url:{index:"http://www.sageone.com/help/accounts/settings"}},"sop_settings/accounts":{title:{"default":"My Sage One"},description:"Use this area to manage and make changes to your personal settings in Sage One."},"sop_settings/users":{title:{"default":"User Settings"},info:{"default":"Use this area to manage your Sage One settings.",show:"Use this area to manage your Sage One settings."},help_url:{"default":"http://www.sageone.com/help/manage-my-sage-one/sage-one-accounts/user-settings",index:"http://www.sageone.com/help/manage-my-sage-one/sage-one-accounts/user-settings"},only_service_users_can_be_added:"%{email} is invalid"},"sop_settings/businesses":{title:{"default":"Business Settings"},info:{"default":"Use this area to manage your Business settings."},help_url:{"default":"http://www.sageone.com/help/accounts/settings/business-settings"}},"sop_settings/services":{title:{"default":"Service Settings"},info:{"default":"Use this area to manage your Sage One settings."}},"sop_settings/user_managements":{title:{"default":"User Management","new":"Invite User"},info:{"default":"Use this area to manage your users.","new":"Enter the email of the user and their permissions to invite them to Sage One"}},"sop_admin/business_memberships":{title:{"default":"Administrator View",show:"Viewing User: %{responding_with}"},info:{"default":"Customer list including activation status.",show:"Manage and view user details."}},"sop_admin/users":{title:{"default":"Administrator View",show:"Viewing User: %{responding_with}"},info:{"default":"Customer list including activation status.",show:"Manage and view user details."}},"sop_admin/super/jwt_resellers":{title:{index:"Resellers",show:"Resellers"}},"mysageone_core/jwt_resellers":{title:{show:"Reseller integration details"}},"mysageone_core/oauth":{title:{authorize:"Authorise application"}},"accountants_core/clients":{title:{wizard:"Invite a New Client",services:"Manage Your Client's Service Subscriptions"},help_url:{services:"http://uk.sageone.com/help/accountant-edition/manage-clients/add-or-remove-services-client"},info:{wizard:"Work through this wizard to add a client to your business",services:"Use this area to manage your client's Sage One service subscriptions"},success:{services:"The Services have been updated successfully"}},goto_help:"Go to help page"},settings:{services:{wizard:{summary_help:"Please review the details of the changes to your services, including total cost per month to you. If you are happy with the details click submit, otherwise click back to modify.",selection_empty:"Please call 0845 111 66 11 to cancel your Sage One subscription",success:"Your services have been updated successfully"}},user:{pod:{title:"User Settings"}},user_management:{details:{title:"Details"},pod:{title:"Advanced Permissions"},permissions:{title:"User Permissions"}}},feedback:{link:"Give Feedback"},actions:{business_membership:{"new":"Invite User"},user_management:{resend_invitation:"Resend invitation"},cancel:"Cancel",wizard:{"mysageone_core/mobile/signup":{steps:{business_address:{finish:"Continue"}}},next:"Continue",prev:"Back",finish:"Finish",cancel:"Cancel"},accountant:{"new":"Register Accountant"},clients:{"new":"Add New Client",search:"Client Search"},notes:{"new":"Create Note"},services:{manage:"Manage Services"},save:"Save","new":"New %{model}",edit:"Edit","delete":"Delete",bulk_destroy:"Delete",create:"Create %{model}",javascript:{create:"Create %{model}",create_item:"Create Item",create_single:"Create"},back:"Back",yes:"Yes",no:"No",copy:"Copy",print:"Print",pdf:"PDF",csv:"CSV",upload_image:"Upload Image",undeletable:{title:"Record cannot be deleted",message:"You cannot delete this record."}},activemodel:{attributes:{"sop_settings/invitation_signup":{user_first_name:"First Name",user_last_name:"Last Name"},"sop_authentication/signup":{user_email:"Email",user_first_name:"First Name",user_last_name:"Last Name",business_telephone:"Telephone",business_name:"Business Name"},"sop_authentication/signup_full":{user_email:"Email",user_first_name:"First Name",user_last_name:"Last Name",business_telephone:"Telephone",business_name:"Business Name",business_mobile:"Mobile",business_website:"Website",business_street_1:"Street 1",business_street_2:"Street 2",business_city:"City",business_county:"County",business_postcode:"Postcode",business_country:"Country"},"accountants_core/client":{user_first_name:"First Name",user_last_name:"Last Name",user_email:"Email",business_telephone:"Telephone",business_mobile:"Mobile",business_website:"Website",business_street_1:"Street 1",business_street_2:"Street 2",business_city:"Town/City",business_county:"County",business_postcode:"Postcode",business_country:"Country",business_sage_crm_id:"Sage CRM ID",business_billed_for_accountant_edition:"Billed for accountant access"},"accountants_core/accountant":{user_first_name:"First Name",user_last_name:"Last Name",user_email:"Email",business_telephone:"Telephone",business_mobile:"Mobile",business_website:"Website",business_street_1:"Street 1",business_street_2:"Street 2",business_city:"Town/City",business_county:"County",business_postcode:"Postcode",business_country:"Country",business_sage_crm_id:"Sage CRM ID",business_billed_for_accountant_edition:"Billed for accountant access"}}},wizards:{"sop_authentication/signup_wizard":{long_titles:{user_details:"Enter your user details",authentication:"Sign in to create your account"},titles:{user_details:"Contact Details",business_details:"Business Details",services:"Services",authentication:"Sign In Details",business_address:"Business Address",identification:"Identification",contact_information:"Contact Information"},prompts:{user_country:"[Select country]"}},"accountants_core/client_wizard":{cost_plus_VAT:"%{cost} + VAT",services_intro:'<div class="intro">\n  <h2>Sage One Service Subscriptions</h2>\n  <p>Your clients can subscribe to any of the Sage One services listed.</p>\n  <p>To read an overview of any of the services simply select it from the list. You can find out more about the highlighted service by clicking on the link. This will take you to the Sage One website where you can read about any of the services in detail.</p>\n  <p>Subscribing a client to a service is easy. Once you\u2019ve selected the service from the list simply click Subscribe, and then hit the Next button. You can subscribe a client to multiple services.</p>\n  <p>If a client wishes to remove a service, select it from the list and tick Unsubscribe then Next to complete the process</p>\n  <p>Clients must have a minimum of one service.</p>\n  <p><a target=\\"_blank\\" href=\\"http://uk.sageone.com/help/accountant-edition/manage-clients/add-or-remove-services-client\\">Read more about managing subscriptions</a></p>\n</div>\n',
pricing:'<p>Add this service now for just\n  <span class="price">\n  %{currency}\n  <span class=\\"price-pound-value\\">%{price}</span></span>\n</p>\n',accounts:'<h2>Accounts</h2>\n<p>For small business owners.</p>\n<ul>\n  <li>Create and email great looking invoices</li>\n  <li>Submit VAT returns direct to HMRC</li>\n  <li>Produce financial reports</li>\n  <li>Perform bank reconciliation</li>\n  <li>Add this service service for just %{price}/month + VAT</li>\n</ul>\n<p><a href="http://uk.sageone.com/help/accounts">Find out more about this service</a></p>\n',summary:"<p>\n  Please review the details of your new client, including total cost per month to you.\n  If you are happy with the details click submit, otherwise click back to modify.\n</p>\n"}},heartbeat:{title:"You are about to be logged out",message:'You will be logged out in <span class="heartbeat-logout-timer">%{time}</span> seconds, would you like to stay logged in?',confirm:"Yes",cancel:"No",retained_session:{title:"You are still logged in",message:"We have noticed you are busy and have not automatically logged you out."}},sop_authentication:{accept:{direct:"Accept Invitation",providers:{developer:"Accept with Developer",facebook:"Accept with Facebook",google:"Accept with Google",azure:"Accept with Azure"}},signin:{providers:{developer:"Sign In (Developer Mode)",developer_html:'<i class="icon"></i>Sign In (Developer Mode)',facebook:"Sign In with Facebook",facebook_html:'<i class="icon"></i>Sign In with Facebook',google:"Sign In with Google",google_html:'<i class="icon"></i>Sign In with Google',azure:"Sign In with Azure",azure_html:'<i class="icon"></i>Sign In with Azure',sageid:"Sign In with SageID",sageid_html:'<i class="icon"></i>Sign In with SageID'},signin:"Sign In",title:"Sign In to %{app_title}",not_registered:"Need to sign up for an account?",already_registered:"Already have an account?",google:{providers:{developer:"Sign In (Developer Mode)",sageid:"Sign In"},existing:"Please sign in with your existing user account and we will link it with your Google account.",link:"This will allow you to sign in to your Sage One services using your existing credentials or your Google account."},facebook:{existing:"Please sign in with your existing user account and we will link it with your Facebook account.",link:"This will allow you to sign in to your Sage One services using your existing credentials or your Facebook account."}},signup:{providers:{developer:"Sign Up (Developer Mode)",facebook:"Sign Up with Facebook",google:"Sign Up with Google",azure:"Sign Up with Azure",sageid:"Sign Up with SageID"},direct:"Sign Up Directly","continue":"Continue",already_registered:"Already have an account?",signup:"Sign Up",title:"Sign Up for %{app_title}",terms_and_conditions:{acceptance:"I have read and accepted the %{tc_link}.",link:"terms and conditions"}},activation:{title:"Your invitation to %{app_title}",description:"Hello %{name}, you have been invited to use Sage One.",provider_selection:"Please complete your registration using one of the options below."},sso_activate:{success:{header:"Email Confirmation Success",title:"Thank you for confirming your email address",message_html:"<p>If you're ready to subscribe to Sage One, you can do this right now; you don\u2019t have to wait for your trial period to expire.</p><p>Go to the Settings area in Sage One and click on Billing Settings. In this section, you will find the Direct Debit tab. Just click the button and follow the on-screen instructions to set up your subscription.</p><p>But don\u2019t worry, we won\u2019t actually bill you until your trial period has ended.</p>",button:"Continue"},expired:{header:"Email Confirmation Failure",title:"We cannot confirm your email address.",message_html:"<p>There has been a problem when we tried to confirm your email address. The link in the email could have expired or you may already have a Sage One account.</p><p>If you cannot sign in to Sage One then please email <strong>support@sageone.com</strong> or call the Sage One Customer Service Team on <strong>0845 111 6611 - UK</strong> or <strong>1890 812 811 - Ireland</strong></p>"},failure:{header:"Email Confirmation Failure",title:"There has been a problem",message_html:"<p>If you cannot sign in to Sage One then please email <strong>support@sageone.com</strong> or call the Sage One Customer Service Team on <strong>0845 111 6611 - UK</strong> or <strong>1890 812 811 - Ireland</strong></p>",button:"Continue"}},sso_password_reset:{success:{header:"Password change confirmation success",title:"Thank you for changing your password",message_html:"<p>A password activation email has been sent to your email account.</p><p>To continue to use your service using your new password please click the activation link in the email we have sent you.</p><p>If you have any queries about your activation, please email <strong><a href='mailto:support@sageone.com'>support@sageone.com</a></strong> or call the Sage One Customer Service Team on <strong>0845 111 6611 - UK</strong> or <strong>1890 812 811 - Ireland</strong>",button:"Continue"},reset_success:{header:"Password change confirmation success",title:"Thank you for confirming your password change.",message_html:"<p>You can now continue to use your service using your new password.</p><p>If you have any queries about your activation, please email <strong><a href='mailto:support@sageone.com'>support@sageone.com</a></strong> or call the Sage One Customer Service Team on <strong>0845 111 6611 - UK</strong> or <strong>1890 812 811 - Ireland</strong>",button:"Continue"},reset_expired:{header:"Password change confirmation failure",title:"We cannot confirm your password change.",message_html:"<p>There has been a problem when we tried to confirm your password change. The link in the email could have expired or you may already have confirmed your password change.</p><p>If you can't sign in to Sage One then please email <strong><a href='mailto:support@sageone.com'>support@sageone.com</a></strong> or call the Sage One Customer Service Team on <strong>0845 111 6611 - UK</strong> or <strong>1890 812 811 - Ireland</strong>",button:"Continue"}},blocked:{message:"Your access has been blocked. Please contact support."}},business_membership_admin:{customer_list:{title:"Customer List"}},user_admin:{search:{search_down:"There was a problem contacting our search instance. Please search by full email address until this issue has been resolved."},customer_list:{title:"Customer List"},pending_activations_list:{title:"Pending Activations"},create_user:{title:"Create User"},user_details:{title:"User Details",contact_details:"Contact Details",business_summary:"Business Summary"},chargeable_dates_updated:"Chargeable Dates Updated",user_audit:{title:"User Audit Trail"},user_actions:{title:"Actions",view_activity:"View User Activities",chargeable_date:"%{name}: Chargeable Date",chargeable_date_fixed:"Chargeable date is fixed in billing system.",block:{button:"Block User Access",prompt:"Are you sure you wish to block user access?",success:"User access has been blocked."},unblock:{button:"Allow User Access",prompt:"Are you sure you wish to allow user access?",success:"User access has been allowed."},delink:{button:"Delink Account",prompt:"Are you sure you wish to delink this account? This is NOT reversible.",success:"Account delinked"},login:{button:"Login as User",prompt:"All Sage One user activity is logged to help us know who has done what.\n\nCustomer data is confidential.  You must have their express permission to sign in.\n\nDo you have the customer's permission to sign in?"},resend_email_verification:"Resend Activation Email",convert_to_accountant:{button:"Convert User to Accountant",prompt:"You are about to convert a user to an Accountant"}},emails:{activation:{subject:"Activate Your Account"}},login:{errors:{blocked:"User access is disabled."}},is_owner:"You are viewing the owner of the business.",handled_by:"Handled by %{name}",auth_provider:{title:"Auth Providers"},service_provider:{reseller:"%{name} (Reseller)",direct:{name:"N/A"}},service_actions:{title:"Service Actions",confirm_message_html:"Please insert this string <b>%{rand}</b>",restart:{button:"Reset Service",success:"Service has been successfully reset.",error:"Could not reset service.",confirm:"Are you sure you wish to reset the service for the selected business? This action is irreversible and will cause data loss.",dialog_title:"Reset Service Confirmation",confirm_label:"If you wish to reset the service for the selected business, please submit the string. This action is irreversible and will cause data loss."},terminate:{button:"Terminate Business",success:"Business has been successfully terminated.",error:"Could not terminate business.",confirm:"Are you sure you wish to terminate this business? This action is irreversible and will cause data loss.",additional_businesses_remain:"You are attempting to delete the lead business whilst additional businesses remain. Please delete any additional businesses first.",dialog_title:"Terminate Business Confirmation",confirm_label:"If you wish to terminate this business, please submit the string. This action is irreversible and will cause data loss."}},accountant_list:{title:"Accountant List"},conversion_to_accountant_failed:"Conversion to accountant failed",user_cannot_be_converted_to_accountant:"This user is already registered but the user does not own a business. Please ask the user to complete signup for Trial and then convert the user to an Accountant.",user_converted_to_accountant:"User successfully converted to an Accountant"},notifications:{more_info:"More information",success:{resend_activation:"An activation email has been sent to this user.",invite:"A message has been sent to your Sage One Accountant. You'll receive a message when they have accepted your invitation.",withdraw:"You have successfully removed your accountant. A message has been sent to the accountant.",accept_invitation:"You have accepted an invite from a client to be their Sage One Accountant.  We have sent the client a message in Sage One",create:"Created %{model} Successfully",destroy:"Deleted %{model} Successfully",update:"Edited %{model} Successfully",title:"Success",bulk_destroy:{one:"Deleted %{model} Successfully",other:"Deleted %{model} Successfully",zero:"No %{model} Deleted"}},failure:{user_not_in_sageid:"User's auth provider is not SageID. No E-Mail has been sent.",user_already_activated:"User already activated."},failures:{existing_accountant:"You already have an active accountant. Before you can accept an invitation from another accountant, you must go to Settings, Your subscriptions to disconnect your current accountant."},error:{title:"Error"}},activation:{resend:{title:"Resend Activation?",message:"Would you like to resend the activation email to {{business}}?"}},services:{service_description:"Use this area to manage and make changes to your settings in the %{name} application",link:"%{name} Settings",subscribe:"Subscribe",unsubscribe:"Unsubscribe",add_service:"Add service",subscribe_to:"Subscribe to the Sage One %{service} service"},email_verification:{success:"Your email has been verified, thank you.",error:"Your email could not be verified.",text:"We have successfully verified your E-Mail address. Please access Sage One via your reseller.",text_failure:"There has been a problem verifying your E-Mail address. Please contact your reseller."},two_factor_authentication:{error:"We could not verifiy the validity of your entered PIN. Please try again.",subject:"Authentication required",verify:{action:"Verify",description:"You are trying to access Sage One from a new device, please use the PIN we have just emailed to you to verify your identity.",main_title:"Two Step Verification",pin:"PIN",title:"Verify Your Identity"}},audits:{"sop_admin/users":{resend_email_verification:"Admin resent activation email.",login:"Administrator %{authenticated_user} logged in as user with id %{entity_id}",update:"Administrator %{authenticated_user} has changed the user details for user with id %{entity_id}",block:"Administrator %{authenticated_user} has blocked access for user with id %{entity_id}",unblock:"Administrator %{authenticated_user} has allowed access for user with id %{entity_id}"},"mysageone_core/messages":{destroy:"%{authenticated_user} has deleted message '%{entity}'"},"accountants_core/accountants":{invite:"%{authenticated_user} has invited %{entity} as their accountant",withdraw:"%{authenticated_user} has withdrawn %{entity} as their accountant"},"accountants_core/clients":{services:"%{authenticated_user} updated a client's (%{entity_id}) services"},"accountants_core/pending_clients":{accept_invitation:"%{authenticated_user} has accepted client invite for %{entity}"},"mysageone_uk/direct_debits_controller":{complete:"%{authenticated_user} has added/updated their Direct Debit details"},"sop_authentication/sessions":{success:"%{authenticated_user} logged in",destroy:"%{authenticated_user} logged out"},"sop_authentication/signups":{success:"%{authenticated_user} signed up"},"sop_settings/users":{update:"%{authenticated_user} updated their user settings"},"sop_settings/businesses":{update:"%{authenticated_user} updated their business settings"}},grid:{titles:{"mysageone_core/user_activity":{authenticated_user_guid:"User",description:"Action",created_at:"Date/Time"},name:"Name",homepage_url:"Homepage",_actions:""},config:{title:"Configure Columns",link:"Configure Columns",reset:"Reset",handle:"::"}},jwt_email_verification:{subject:"Jwt Email Verification Subject"},jwt_reseller_mailer:{subject:"Reseller email subject"},SSO:{Password_Change:{Button:"Continue"},Error:{Message:"<p>There has been a problem.</p><p>If you cannot sign in to Sage One then please email <strong>support@sageone.com</strong> or call the Sage One Customer Service Team on <strong>0845 111 6611 - UK</strong> or <strong>1890 812 811 - Ireland</strong></p>"}},error:{messages:{delete_user_messages_as_admin:"You do not have permission to delete this message.",no_services:"You are currently not subscribed to any services. Please subscribe to at least one service."}},demo:{preparing_account:"Preparing your new account..."},mobile:{get_started:{register:"Sign Up",register_help:"New to Sage One?",login:"Log In",login_help:"Already have an account?",launch_demo:"Have a go with the demo",or:"or"},signup:{create_account:"Create an Account",create_account_dev:"Create an Account (Developer)",or_use_auth_provider:"Or sign up with one of the following:",errors:{auth_already_exists:"A user already exists with this authentication."},terms_and_conditions:{acceptance:"I agree to the %{link}:",link:"terms of use"}},login:{errors:{unlinked_account:{title:"Unable to authenticate account",description:"Please log in with a different account or sign up to Sage One."},auth_error:{title:"Authentication failed","default":"Please log in or sign up to Sage One.",user_denied:"Please log in and accept the required permissions.",access_denied:"Please log in and accept the required permissions."}}},providers:{google:"Google",facebook:"Facebook"},fieldsets:{your_email:"My Email Address:",business_name:"My Business Name:",your_details:"My Details:"},placeholders:{email:"Email Address",business_name:"Business Name",user_first_name:"First Name",user_last_name:"Last Name"},complete_setup:{ready:"We now have enough information for you to start using Sage One"}},accountants:{clients:{invitation:{resend:{message:"Would you like to resend the invitation email to {{email}}?"}},login_as:{not_allowed:"This client currently doesn't have access to Sage One. Please contact the client for more details."},"delete":{flash:"You have successfully removed your access to this client in Sage One. We have sent a message to the client on your behalf.",flash_demo_fail:"You cannot delete sample clients."},toggle_dormant:{flash:"You have successfully changed the access for your client"},index:{active_clients:"Active Clients",pending_clients:"Pending Clients",accountant_invite_status:"Awaiting email confirmation",client_invite_status:"New Client Invite",pending_clients_help_info:"Pending clients are potential clients who have either sent a request through to you to be their accountant or are still to confirm their email address with us.",index_help_message:"The list below represents all your Sage One clients. Clicking on the Pending Clients tab will display the list of pending clients that may require an action from you to confirm."},show:{client_details:"Client Details",client_pays:"Client pays",subscription_summary:"Subscription Summary",notes:"Notes",login_button:"Login as Client",login_to_service:"Login to Service",login_to_service_name:"Login to %{service_name}",accounts:"Financial Details",financial_reports:"Financial Reports",aged_creditors:"Aged Creditors",aged_debtors:"Aged Debtors",balance_sheet:"Balance Sheet",nominal_account_activity:"Nominal Account Activity",profit_and_loss:"Profit and Loss",trial_balance:"Trial Balance",year_end_date:"Year End Date",year_end_lockdown:"Year End Lockdown",vat_number:"VAT Number",vat_scheme:"VAT Scheme",next_vat_return:"Next VAT Return"},"new":{business_details:"Business Details",business_address:"Business Address"},wizard:{client_name:"Client Name",address:"Address",email:"Email",services:{selection_empty:"Please call 0845 111 66 11 to cancel your Sage One subscription"},cost:"Cost",services_chosen:"Services",invitation_format:{header:"Invitation Format",default_address:"Send the invitation to my client",alternate_address:"Send me the invitation so I can forward to my client",email_label:"Your email"},invitation_type:{header:"Invite my client to","try":"Try Sage One",buy:"Buy Sage One"}},sample:{business_name:"Sample client for",client_first_name:"Sample",client_last_name:"Client"}},drop_message_flash_for_referece:"You have successfully removed your access to this client in Sage One. We have sent a message to the client on your behalf.",invite:{not_found:"The email address is not registered to any Sage One Accountant. Please contact your accountant for their registered Sage One email address.",accept:{title:"Accept New Client Request?",message:"{{business}} has requested that you manage their data in Sage One.  Do you wish to accept this request?"},reject:{title:"Remove New Client Request?",message:"{{business}} has requested that you manage their data in Sage One.  Are you sure you wish to remove this request?",flash:"You have declined this client request.  A message has been sent to the business."}},pending:{"delete":{title:"Delete Pending User?",message:"Are you sure you wish to delete this pending user?",flash:"Pending customer deleted successfully"}}},sop_admin:{business:{new_business_for_accountant:{details:"Business Details",address:"Business Address"}},user:{new_accountant:"<p>Fill in the details for the accountant that you have available.</p>"}},sop_settings:{services:{show:{invite_accountant:"Invite Accountant",invite_accountant_ok:"A message has been sent to your Sage One Accountant. You'll receive a message when they have accepted your invitation.",withdraw_accountant:"Withdraw Accountant",cancel_accountant:"Cancel Accountant",delete_accountant_ok:"You have successfully removed your accountant. A message has been sent to the accountant.",already_linked:"That accountant is already linked to your account",create_error:"There has been an unexpected error while trying to link the accountant",are_you_sure:"Are you sure you want to remove this accountant?",text_cancel_accountant:"%{accountant_name} is currently your Sage One Accountant. You can remove their access as your Sage One Accountant here should you want to.",text_invite_accountant:"Working with your Sage One Accountant will help you get the most out of Sage One, from their Accountant Edition they can view your information in real time.",text_withdraw_accountant:"You have invited %{accountant_name} to be your Sage One Accountant. They have not yet accepted your request and you can withdraw your invitation here."}}},hello:"Hello world","boolean":{"false":"No","true":"Yes"},pager:{size:"Show ",previous:"Previous",next:"Next",page_x:"Page ",of_y:" of ",records:{one:" record",other:" records"}},lazy_loader:{more:"Load more"},ujs_confirm:{title:"Confirm",ok:"OK",cancel:"Cancel"},unsaved:{message:"You are about to lose your changes without saving."},dialog:{titles:{"new":"New %{model}",edit:"Edit %{model}",copy:"Copy %{model}",view:"View %{model}"}},confirm:{titles:{"delete":"Delete %{model}?",bulk_destroy:{one:"Delete %{model}?",other:"Delete %{model}s?"}},messages:{"delete":"Are you sure you wish to delete this %{model}?",bulk_destroy:{one:"Are you sure you wish to delete this %{model}?",other:"Are you sure you wish to delete these %{model}s?"}}},chart:{actions:{reset:"Reset zoom"}},label:{of:" of ",selected:" selected",start_date:"Start date",end_date:"End date",required:{javascript:"*"}},placeholder:{date:"Enter date",time:"- - : - -"},recurrence:{link:{"new":"Repeat",edit:"Edit recurrence",stop:"Stop recurrence"},dialog:{title:{"new":"Recurring %{resource}"}},days:"Days",weeks:"Weeks",months:"Months"},dropdownlist:{no_results:'No results match "%{term}"'},textarea:{limit:{prefix:"You have used ",middle:" of ",suffix:" characters",remaining:{one:" character remaining",other:" characters remaining"}}},demo_business:{action_prohibited:"This action is prohibited for demo users.",button:"Get started with your own business"}},"pt-BR":{accountants:{invitations:{text:"<p><strong>%{accountant_display_name} convida-o a acessar ao Sage One.</p> <p>A sua conta est\xe1 registada com o e-mail %{user_email} e com o neg\xf3cio %{business_name}.</p> <p>Termine o registo seleccionando qual o m\xe9todo de autentica\xe7\xe3o pretendido.</p>"},clients:{index:{active_clients:"Clientes Ativos",pending_clients:"Clientes Pendentes",accountant_invite_status:"Aguardando confirma\xe7\xe3o por email",pending_clients_help_info:"Clientes em potencial pendentes s\xe3o clientes que lhe enviaram uma solicita\xe7\xe3o para se tornar seu contador ou ainda est\xe1 aguardando a confirma\xe7\xf5es de email ",index_help_message:"Esta lista exibe todos os seus clientes no SageOne. A aba Clientes Pendentes exibe a lista de clientes aguardando alguma confirma\xe7\xe3o.",active_client:"Cliente Ativo",client_invite_status:"Convidar novo cliente"},show:{client_details:"Detalhes do Cliente",subscription_summary:"Resumo da Assinatura",notes:"Notas",login_to_service:"Acessar o Servi\xe7o",login_to_service_name:"Acessar %{service_name}",client_pays:"Pagamentos do cliente",login_button:"Fazer login como o cliente",accounts:"Detalhes Financeiros",financial_reports:"Relat\xf3rios Financeiros",aged_creditors:"Aged Creditors",aged_debtors:"Aged Debtors",balance_sheet:"Balance Sheet",nominal_account_activity:"Nominal Account Activity",profit_and_loss:"Profit and Loss",trial_balance:"Trial Balance",year_end_date:"Year End Date",year_end_lockdown:"Year End Lockdown",vat_number:"VAT Number",vat_scheme:"VAT Scheme",next_vat_return:"Next VAT Return"},"new":{business_details:"Detalhes da Empresa",business_address:"Endere\xe7o da Empresa"},wizard:{business_name:"Empresa",client_name:"Nome do Cliente",address:"Endere\xe7o",email:"Email",services:{selection_empty:"Please call 0845 111 66 11 to cancel your Sage One subscription"},cost:"Pre\xe7o",services_chosen:"Servi\xe7os",invitation_format:{header:"Invitation Format",default_address:"Send the invitation to my client",alternate_address:"Send me the invitation so I can forward to my client",email_label:"Your email"},invitation_type:{header:"Invite my client to","try":"Try Sage One",buy:"Buy Sage One"}},sample:{business_name:"Sample client for",client_first_name:"Sample",client_last_name:"Client"},invitation:{resend:{message:"Voc\xea deseja re-enviar o convite para {{email}}?"}},login_as:{not_allowed:"Este cliente atualmente n\xe3o tem acesso ao SageOne. Entre em contato com o cliente para mais detalhes."},"delete":{flash:"O seu acesso a este cliente no SageOne foi removido. O cliente foi notificado por email.",flash_demo_fail:"Voc\xea n\xe3o pode remover clientes de exemplo"},toggle_dormant:{flash:"O seu acesso a este cliente foi alterado."}},drop_message_flash_for_referece:"You have successfully removed your access to this client in Sage One. We have sent a message to the client on your behalf.",invite:{not_found:"The email address is not registered to any Sage One Accountant. Please contact your accountant for their registered Sage One email address.",accept:{title:"Accept New Client Request?",message:"{{business}} has requested that you manage their data in Sage One.  Do you wish to accept this request?"},reject:{title:"Remove New Client Request?",message:"{{business}} has requested that you manage their data in Sage One.  Are you sure you wish to remove this request?",flash:"You have declined this client request.  A message has been sent to the business."}},pending:{"delete":{title:"Excluir este convite?",message:"Voc\xea tem certeza que deseja excluir este convite?",flash:"Convite excluido com successo"}}},actions:{accountant:{"new":"Novo Contador",retrieve_accountants_list:"Gerar lista de Contadores por Per\xedodo"},clients:{"new":"Convidar Cliente",search:"Buscar Cliente",created_successfully:"Cliente convidado com sucesso",created_failure:"Houve um erro ao convidar o cliente"},notes:{"new":"Criar Observa\xe7\xe3o"},services:{manage:"Gerenciar Servi\xe7os"},cancel:"Cancelar",save:"Salvar","new":"Criar %{model}",edit:"Editar","delete":"Deletar",show:"Mostrar",bulk_destroy:"Deletar",create:"Criar %{model}",javascript:{create:"Criar %{model}",create_item:"Criar Item",create_single:"Criar"},back:"Voltar",yes:"Sim",no:"N\xe3o",copy:"Copiar",print:"Immprimir",pdf:"PDF",csv:"CSV",upload_image:"Enviar Imagem",switch_to_production:"Ativar Ambiente de Produ\xe7\xe3o",wizard:{next:"Continuar",prev:"Voltar",finish:"Finalizar",cancel:"Cancelar","sop_settings/services_wizard/services_wrapper":{steps:{services:{next:"Pr\xf3ximo",cancel:"Cancelar"}}}}},attributes:{note:"Nota",created_at:"Data de Cria\xe7\xe3o",authenticated_user_guid:"Usu\xe1rio Autenticado",description:"Descri\xe7\xe3o",business:"Empresa",first_name:"Nome",last_name:"Sobrenome",initials:"Iniciais",email:"E-mail",name:"Nome",website:"S\xedtio na web",telephone:"Telefone 1",mobile:"Telefone 2",street_1:"Endere\xe7o",street_2:"Refer\xeancia",city:"Cidade",postcode:"CEP",country:"Pa\xeds",reference:"Refer\xeancia",days_since_last_login:"Dias desde o \xfaltimo acesso",last_logged_in:"\xdaltimo Login",service:"Servi\xe7o"},activemodel:{attributes:{"accountants_core/client":{user_email:"Email",business_telephone:"Telefone",business_mobile:"Celular",business_website:"Website",business_street_1:"Endere\xe7o",business_street_2:"Complemento",business_city:"Cidade",business_county:"County",business_postcode:"CEP",business_country:"Pa\xeds",user_first_name:"Primeiro Nome",user_last_name:"Sobrenome",business_name:"Nome da Empresa",business_cnpj:"CNPJ da Empresa",business_sage_crm_id:"Sage CRM ID",business_billed_for_accountant_edition:"Billed for accountant access"},"accountants_core/accountant":{user_email:"Email",business_telephone:"Telefone",business_mobile:"Celular",business_website:"Website",business_street_1:"Endere\xe7o",business_street_2:"Complemento",business_city:"Cidade",business_county:"County",business_postcode:"CEP",business_country:"Pa\xeds",user_first_name:"Primeiro Nome",user_last_name:"Sobrenome",business_name:"Nome da Empresa",business_cnpj:"CNPJ da Empresa",business_sage_crm_id:"Sage CRM ID",business_billed_for_accountant_edition:"Billed for accountant access"},"sop_authentication/signup":{business_name:"Nome da Empresa",user_first_name:"Primeiro Nome",user_last_name:"Sobrenome",business_telephone:"Telefone da Empresa",user_email:"Informe o seu Email"}},errors:{format:"%{attribute} %{message}",messages:{failed_sso_authentication:"Falha ao tentar logar com SSO",accepted:"deve ser aceito",blank:"n\xe3o pode ficar em branco",present:"deve ficar em branco",confirmation:"n\xe3o est\xe1 de acordo com a confirma\xe7\xe3o",empty:"n\xe3o pode ficar vazio",equal_to:"deve ser igual a %{count}",even:"deve ser par",exclusion:"n\xe3o est\xe1 dispon\xedvel",greater_than:"deve ser maior que %{count}",greater_than_or_equal_to:"deve ser maior ou igual a %{count}",inclusion:"n\xe3o est\xe1 inclu\xeddo na lista",invalid:"n\xe3o \xe9 v\xe1lido",invalid_currency:"formato inv\xe1lido",less_than:"deve ser menor que %{count}",less_than_or_equal_to:"deve ser menor ou igual a %{count}",not_a_number:"n\xe3o \xe9 um n\xfamero",not_an_integer:"n\xe3o \xe9 um n\xfamero inteiro",odd:"deve ser \xedmpar",record_invalid:"A valida\xe7\xe3o falhou: %{errors}",restrict_dependent_destroy:{one:"N\xe3o \xe9 poss\xedvel excluir o registro pois existe um %{record} dependente",many:"N\xe3o \xe9 poss\xedvel excluir o registro pois existem %{record} dependentes"},taken:"j\xe1 est\xe1 em uso",too_long:"\xe9 muito longo (m\xe1ximo: %{count} caracteres)",too_short:"\xe9 muito curto (m\xednimo: %{count} caracteres)",wrong_length:"n\xe3o possui o tamanho esperado (%{count} caracteres)",wrong_format:"formato inv\xe1lido",form_summary:{errors:{one:"Ocorreu <i class='icon-error'></i> %{count} erro",other:"Ocorreram <i class='icon-error'></i> %{count} erros"},warnings:{one:"Ocorreu <i class='icon-warning'></i> %{count} aviso",other:"Ocorreram <i class='icon-warning'></i> %{count} avisos"},errors_and_warnings:{one:" e <i class='icon-warning'></i> %{count} avisos",other:" e <i class='icon-warning'></i> %{count} avisos"}}},template:{body:"Por favor, verifique o(s) seguinte(s) campo(s):",header:{one:"N\xe3o foi poss\xedvel gravar %{model}: 1 erro",other:"N\xe3o foi poss\xedvel gravar %{model}: %{count} erros."}}}},activerecord:{attributes:{business:{billed_for_accountant_edition:"Billed for accountant access",sage_crm_id:"Sage CRM ID",subscribed_service_names:"Servi\xe7o",business:"Client",invite_status:"Status",invite_created_at:"Created On"},"accountants_core/accountant_client":{has_access:"This customer has access to Sage One",created_at:"Data do Convite"}},models:{"accountants_core/accountant":"Contador","accountants_core/note":"Nota","sop_settings/user_invitation":"Convite",client_application:"Aplica\xe7\xe3o","accountants_core/accountant_client":"Convite","accountants_core/client":"Cliente"},errors:{template:{header:{one:"N\xe3o foi poss\xedvel gravar %{model}: 1 erro",other:"N\xe3o foi poss\xedvel gravar %{model}: %{count} erros."},body:"Por favor, verifique o(s) seguinte(s) campo(s):"},format:"%{attribute} %{message}",messages:{failed_sso_authentication:"Falha ao tentar logar com SSO",accepted:"deve ser aceito",blank:"n\xe3o pode ficar em branco",present:"deve ficar em branco",confirmation:"n\xe3o est\xe1 de acordo com a confirma\xe7\xe3o",empty:"n\xe3o pode ficar vazio",equal_to:"deve ser igual a %{count}",even:"deve ser par",exclusion:"n\xe3o est\xe1 dispon\xedvel",greater_than:"deve ser maior que %{count}",greater_than_or_equal_to:"deve ser maior ou igual a %{count}",inclusion:"n\xe3o est\xe1 inclu\xeddo na lista",invalid:"n\xe3o \xe9 v\xe1lido",invalid_currency:"formato inv\xe1lido",less_than:"deve ser menor que %{count}",less_than_or_equal_to:"deve ser menor ou igual a %{count}",not_a_number:"n\xe3o \xe9 um n\xfamero",not_an_integer:"n\xe3o \xe9 um n\xfamero inteiro",odd:"deve ser \xedmpar",record_invalid:"A valida\xe7\xe3o falhou: %{errors}",restrict_dependent_destroy:{one:"N\xe3o \xe9 poss\xedvel excluir o registro pois existe um %{record} dependente",many:"N\xe3o \xe9 poss\xedvel excluir o registro pois existem %{record} dependentes"},taken:"j\xe1 est\xe1 em uso",too_long:"\xe9 muito longo (m\xe1ximo: %{count} caracteres)",too_short:"\xe9 muito curto (m\xednimo: %{count} caracteres)",wrong_length:"n\xe3o possui o tamanho esperado (%{count} caracteres)",wrong_format:"formato inv\xe1lido",form_summary:{errors:{one:"Ocorreu <i class='icon-error'></i> %{count} erro",other:"Ocorreram <i class='icon-error'></i> %{count} erros"},warnings:{one:"Ocorreu <i class='icon-warning'></i> %{count} aviso",other:"Ocorreram <i class='icon-warning'></i> %{count} avisos"},errors_and_warnings:{one:" e <i class='icon-warning'></i> %{count} avisos",other:" e <i class='icon-warning'></i> %{count} avisos"}},sso_guid_taken:"Usu\xe1rio j\xe1 existente"}}},app:{service_name:"Contador",mailer:{new_accountant:{subject:"Bem Vindo ao Sage One Contador"},accountant_client_invitation:{new_user:{subject:"Bem Vindo ao Sage One"},existing_user:{subject:"Voc\xea foi convidado a se conectar ao seu contador pelo Sage One"}},existing_accountant:{subject:"Sua conta foi atualizada para Sage One Contador"
},accountant_withdraw:{subject:"Um cliente Sage One revogou o acesso as suas notas"}},accept:"Aceitar",decline:"Rejeitar",home:"Home",logout:"Sair",login:"Login",services:{added:"%{cost} (adicionado)",removed:"%{cost} (removido)"},settings:"Configura\xe7\xf5es",messages:"Mensagens",admin:"Administra\xe7\xe3o",add_business:"Adicionar Empresa",add_services:"Gerenciar Servi\xe7os",change_password:"Alterar senha",switch_business_name:{with_role:"%{name} (%{role})",with_owner:"%{name} (%{owner})"},help:"Ajuda",mysageone:"Meu Sage One",not_logged_in:"N\xe3o est\xe1 logado",signed_up_successfully:"Cadastrado com sucesso",logged_in_successfully:"Seja bem vindo!",logged_out_successfully:"Voc\xea foi desconectado",activated_successfully:"Sua conta foi ativada com sucesso",signup:"Cadastre-se",assuming_a_role_html:"Voc\xea est\xe1 assumindo o papel de <strong>%{user}</strong>.",stop_assuming_role_html:"Clique aqui para voltar a ser <strong>%{user}</strong>.",email_not_verified_html:"Enviamos uma mensagem de boas-vindas para seu e-mail. Abra a mensagem e clique no link de confirma\xe7\xe3o. Se n\xe3o recebeu o e-mail ligue para o numero 41 3035-1365 para que reenviemos o e-mail.",names:{sage:"Sage",one:"One",sageone:"Sage One",accounts:"Accounts",accounts_extra:"Accounts Extra",nota_fiscal:"Nota Fiscal",online:"Online"},cobrands:{tagline:"Powered by"},connect_provider:{sage_intro:"Quer usar o seu SageID?",sage:" clique aqui"},password_change_success:"Sua senha foi alterada",user_invitation:{title:"Ativa\xe7\xe3o Sage One",accept:{title:"Ativa\xe7\xe3o Sage One",signin_with:"Signin With",message:{success:"Invitation accepted."}}},support_email:"suporte.sageone.pt@sage.com",support_email_link:"<a href='mailto:suporte.sageone.pt@sage.com'><strong>suporte.sageone.pt@sage.com</strong></a>",support_phone:"707 782 405",support_phone_link:"<a class='tel' href='tel:+351707782405'><strong>707 782 405</strong></a>",sageone_email:"sageone.pt@sage.com",manage_services:"Gerir Servi\xe7os",service:"Servi\xe7o",cost_this_month:"Valor Mensal *",cost_per_month:"Valor Mensal *",subscription_cost_summary:"Sum\xe1rio de Subscri\xe7\xe3o",total_cost_this_month:"Total",total_cost_per_month:"Total",free_until:"Gr\xe1tis at\xe9 %{date}",user_management_create_user:"Criar Utilizador",vat_disclaimer:"* Estes valores n\xe3o incluem IVA.",no_services:"De momento n\xe3o tem nenhuma subscri\xe7\xe3o activa. V\xe1 a Gerir Servi\xe7os e active e siga as instru\xe7\xf5es.",service_names:{service_uid:{facturacao:"Factura\xe7\xe3o",facturacao_basic:"Factura\xe7\xe3o B\xe1sica",facturacao_standard:"Factura\xe7\xe3o Standard",nfe:"Nota Fiscal",faturamento:"Gest\xe3o"}},service_details:{facturacao:{do_not_need_to_pay:"De momento encontra-se activo o Sage One %{service_name}. Se tiver alguma d\xfavida, envie-nos um e-mail para %{support_email} ou ligue para a nossa linha de suporte %{support_phone}.",billing_payment_method_active:"De momento encontra-se activa a susbcri\xe7\xe3o do %{service_name}. Se tiver alguma d\xfavida, envie-nos um e-mail para %{support_email} ou ligue para a nossa linha de suporte %{support_phone}.",in_trial:"A partir de dia %{date}, o Sage One %{service_name}, ter\xe1 um custo de %{price}\u20ac/m\xeas (sem IVA). V\xe1 \xe0s Defini\xe7\xf5es de Pagamento e active a\xed a sua conta, para continuar a aceder ao Sage One.",not_in_trial:"Para continuar a usufruir do %{service_name} ter\xe1 que activar o seu pagamento nas suas Defini\xe7\xf5es de Pagamento."}},title:"",currency:{BR:"R$"},roles:{full_access:"Acesso Total",restricted_access:"Acesso Restrito",read_only:"Somente Leitura",no_access:"Sem Acesso",custom:"Customizado",owner:"Dono"},oauth:{review_permissions:"Confira as Permiss\xf5es"},oauth_actions:{allow:"Permitir",deny:"Cancelar"},oauth_authorize_1:" deseja acessar a sua conta do SageOne",oauth_authorize_2:"Voc\xea pode solicitar mais informa\xe7\xf5es pelo email ",oauth_authorize_business:"Empresa:",oauth_authorize_access:"A\xe7\xf5es:",oauth_scopes:{full_access:"Criar Notas de Produto"},my_account:"Minha empresa",my_clients:"Meus clientes"},audits:{"accountants_core/accountants":{invite:"%{authenticated_user} has invited %{entity} as their accountant",withdraw:"%{authenticated_user} has withdrawn %{entity} as their accountant"},"accountants_core/clients":{services:"%{authenticated_user} updated a client's (%{entity_id}) services"},"accountants_core/pending_clients":{accept_invitation:"%{authenticated_user} has accepted client invite for %{entity}"},"mysageone_uk/direct_debits_controller":{complete:"%{authenticated_user} has added/updated their Direct Debit details"},"sop_authentication/sessions":{title:"Acessar",success:"%{authenticated_user} logged in",destroy:"%{authenticated_user} logged out"},sessions:{title:"Acessar",success:"%{authenticated_user} logged in",destroy:"%{authenticated_user} logged out"},"sop_authentication/signups":{success:"%{authenticated_user} signed up"},"sop_settings/users":{update:"%{authenticated_user} updated their user settings"},"sop_settings/businesses":{update:"%{authenticated_user} updated their business settings"},"sop_admin/users":{login:"Administrator %{authenticated_user} logged in as user with id %{entity_id}",update:"Administrator %{authenticated_user} has changed the user details for user with id %{entity_id}",block:"Administrator %{authenticated_user} has blocked access for user with id %{entity_id}",unblock:"Administrator %{authenticated_user} has allowed access for user with id %{entity_id}"}},helpers:{label:{accountant:{business_billed_for_accountant_edition:"Cobrado por acesso como contador"},chargeable_dates:{registration_date:"Data de Registro"},filter:{search:"Procurar"}},select:{yes:"Sim",no:"N\xe3o",prompt:"Por favor selecione",business_country:{prompt:"[Select country]"}},table_fields_for_many:{no_data:"Nenhuma informa\xe7\xe3o dispon\xedvel"},fields_for_many:{no_data:"Nenhuma informa\xe7\xe3o dispon\xedvel"},dropdown_suggest:{no_results:"Nenhum resultado encontrado"},submit:{create:"Criar %{model}",submit:"Salvar %{model}",update:"Atualizar %{model}"}},page_info:{"accountants_core/clients":{title:{"default":"Clientes",wizard:"Invite a New Client",services:"Manage Your Client's Service Subscriptions"},help_url:{services:"http://uk.sageone.com/help/accountant-edition/manage-clients/add-or-remove-services-client"},info:{wizard:"Work through this wizard to add a client to your business",services:"Use this area to manage your client's Sage One service subscriptions"},success:{services:"The Services have been updated successfully"}},goto_help:"Go to help page","sop_admin/business_memberships":{title:{index:"Filia\xe7\xf5es","default":"Filia\xe7\xf5es"}},"sop_settings/accounts":{description:"Use esta \xe1rea para gerir e alterar as suas defini\xe7\xf5es pessoais no Sage One.",title:{"default":"O meu Sage One"}},"sop_settings/businesses":{help_url:{"default":""},info:{"default":"Use esta \xe1rea para gerir as suas defin\xe7\xf5es Sage One."},title:{"default":"Defini\xe7\xf5es do Neg\xf3cio"}},"sop_settings/services":{info:{"default":"Escolha o Sage One que melhor se ajusta \xe0s suas necessidades."},title:{"default":"Defini\xe7\xf5es de Servi\xe7o",manage:"Escolha seus Servi\xe7os"}},"sop_settings/settings":{info:{"default":"Use esta \xe1rea para gerir as suas defini\xe7\xf5es Sage One."},title:{"default":"Vis\xe3o global das Defini\xe7\xf5es",index:"Configura\xe7\xf5es"}},"sop_settings/user_managements":{info:{"default":"Use esta \xe1rea para gerir os seus utilizadores."},title:{"default":"Gest\xe3o de Utilizadores","new":"Criar utilizador"}},"sop_settings/users":{help_url:{"default":""},info:{"default":"Use esta \xe1rea para gerir as defini\xe7\xf5es do Sage One."},title:{"default":"Configura\xe7\xf5es de usu\xe1rio"}},"sop_settings/billings":{info:{"default":"Aqui pode activar o seu servi\xe7o Sage One."},title:{"default":"Defini\xe7\xf5es de Pagamento"}},"sop_settings/client_applications":{title:{"default":"Controle de acesso de aplica\xe7\xf5es de terceiros"}},welcome:{title:{index:"Bem-vindo ao SageOne Brasil"},info:{index:null}},"mysageone_core/oauth":{info:{authorize:"Todo software de terceiros precisa da sua permiss\xe3o para comunicar-se com a sua conta Sage One."},title:{"default":"Autoriza\xe7\xe3o de Acesso"}}},sop_admin:{business:{new_business_for_accountant:{details:"Business Details",address:"Business Address"}},user:{new_accountant:"<p>Fill in the details for the accountant that you have available.</p>"}},wizards:{"accountants_core/client_wizard":{summary_info:"Resumo:",titles:{business_details:"Dados da Empresa",services:"Servi\xe7o",summary:"Sum\xe1rio"},cost_plus_VAT:"%{cost} + Impostos",services_intro:"Sele\xe7\xe3o de Servi\xe7os",pricing:'<p>Add this service now for just\n  <span class="price">\n  %{currency}\n  <span class=\\"price-pound-value\\">%{price}</span></span>\n</p>\n',accounts:'<h2>Accounts</h2>\n<p>For small business owners.</p>\n<ul>\n  <li>Create and email great looking invoices</li>\n  <li>Submit VAT returns direct to HMRC</li>\n  <li>Produce financial reports</li>\n  <li>Perform bank reconciliation</li>\n  <li>Add this service service for just %{price}/month + VAT</li>\n</ul>\n<p><a href="http://uk.sageone.com/help/accounts">Find out more about this service</a></p>\n',summary:"<p>\n  Please review the details of your new client, including total cost per month to you.\n  If you are happy with the details click submit, otherwise click back to modify.\n</p>"},"sop_settings/services_wizard":{titles:{services:"Servi\xe7os",summary:"Resumo"},long_titles:{services:"Servi\xe7os"}},"sop_authentication/signup_wizard":{prompts:{user_country:"Pa\xeds"}}},errors:{messages:{invalid_email:"Por favor, informe um email v\xe1lido.",sso_user_not_found:"Usu\xe1rio n\xe3o encontrado",failed_sso_authentication:"Falha ao tentar logar com SSO",accepted:"deve ser aceito",blank:"n\xe3o pode ficar em branco",present:"deve ficar em branco",confirmation:"n\xe3o est\xe1 de acordo com a confirma\xe7\xe3o",empty:"n\xe3o pode ficar vazio",equal_to:"deve ser igual a %{count}",even:"deve ser par",exclusion:"n\xe3o est\xe1 dispon\xedvel",greater_than:"deve ser maior que %{count}",greater_than_or_equal_to:"deve ser maior ou igual a %{count}",inclusion:"n\xe3o est\xe1 inclu\xeddo na lista",invalid:"n\xe3o \xe9 v\xe1lido",invalid_currency:"formato inv\xe1lido",less_than:"deve ser menor que %{count}",less_than_or_equal_to:"deve ser menor ou igual a %{count}",not_a_number:"n\xe3o \xe9 um n\xfamero",not_an_integer:"n\xe3o \xe9 um n\xfamero inteiro",odd:"deve ser \xedmpar",record_invalid:"A valida\xe7\xe3o falhou: %{errors}",restrict_dependent_destroy:{one:"N\xe3o \xe9 poss\xedvel excluir o registro pois existe um %{record} dependente",many:"N\xe3o \xe9 poss\xedvel excluir o registro pois existem %{record} dependentes"},taken:"j\xe1 est\xe1 em uso",too_long:"\xe9 muito longo (m\xe1ximo: %{count} caracteres)",too_short:"\xe9 muito curto (m\xednimo: %{count} caracteres)",wrong_length:"n\xe3o possui o tamanho esperado (%{count} caracteres)",wrong_format:"formato inv\xe1lido",form_summary:{errors:{one:"Ocorreu <i class='icon-error'></i> %{count} erro",other:"Ocorreram <i class='icon-error'></i> %{count} erros"},warnings:{one:"Ocorreu <i class='icon-warning'></i> %{count} aviso",other:"Ocorreram <i class='icon-warning'></i> %{count} avisos"},errors_and_warnings:{one:" e <i class='icon-warning'></i> %{count} avisos",other:" e <i class='icon-warning'></i> %{count} avisos"}}},"sop_settings/area_code":{primary_only_full_access:"O utilizador principal deve ter acesso total"},"sop_settings/business_memberships":{current_user_cannot_unset_primary:"N\xe3o \xe9 poss\xedvel autorizar que o pr\xf3prio utilizador remova o principal"},format:"%{attribute} %{message}",template:{body:"Por favor, verifique o(s) seguinte(s) campo(s):",header:{one:"N\xe3o foi poss\xedvel gravar %{model}: 1 erro",other:"N\xe3o foi poss\xedvel gravar %{model}: %{count} erros."}}},time:{formats:{"default":"%d/%m/%Y","short":"%d %b %H:%M","long":"%d %B, %Y %H:%M",timepicker:"%H:%M",javascript:"dd/mm/yyyy"},am:"am",pm:"pm"},support:{select:{prompt:"Escolha"},array:{last_word_connector:" e ",two_words_connector:" e ",words_connector:", "}},"boolean":{"false":"N\xe3o","true":"Sim"},services:{subscribe:"Assinar",unsubscribe:"Cancelar Assinatura",add_service:"Adicionar servi\xe7o",subscribe_to:"Assinar o servi\xe7o do Sage One %{service}",link:"Defini\xe7\xf5es %{name}",facturacao_basic:{info:"<h2>Factura\xe7\xe3o B\xe1sica</h2> <p>Pensada e feita para empreendedores e startups que est\xe3o agora a come\xe7ar a facturar.</p> <ul> <li>Crie facturas em menos de 5 minutos</li> <li>Gira o seu neg\xf3cio de forma simples</li> <li>Acompanhe os seus clientes e fornecedores</li> <li>Factura\xe7\xe3o actualizada de acordo com a legisla\xe7\xe3o em vigor</li> </ul> <p>Saiba mais sobre este servi\xe7o <a href='http://www.sageone.pt/facturacao-basica/' target='_blank'>aqui</a>.</p> <sub>* Estes valores n\xe3o incluem IVA</sub>"},facturacao_standard:{info:"<h2>Factura\xe7\xe3o Standard</h2> <p>Pensada para quem precisa de fazer documentos de venda, sem qualquer limita\xe7\xe3o mensal.</p> <ul> <li>As mesmas funcionalidades da Factura\xe7\xe3o B\xe1sica</li> <li>+ Google Drive (guarde, aceda e partilhe os documentos de venda sempre que necessite)</li> <li>+ Guias de Transporte e de Devolu\xe7\xe3o</li> <li>+ Reports que ajudar\xe3o na gest\xe3o do seu neg\xf3cio</li> </ul> <p>Saiba mais sobre este servi\xe7o <a href='http://www.sageone.pt/facturacao-standard/' target='_blank'>aqui</a>.</p> <sub>* Estes valores n\xe3o incluem IVA</sub>"},manage:"Assinaturas",add_this_now_for_just:"Adquira esse servi\xe7o agora por apenas",service_description:{nfe:"A ferramenta online para Emiss\xe3o de Notas Fiscais simples e direta, pensada e feita para Empreendedores e Startups!"}},pager:{previous:"Anterior",next:"Pr\xf3xima",page_x:"P\xe1gina ",of_y:" de ",total_records:"Total: ",records:" Registros",size:"Mostrar "},lazy_loader:{more:"Carregar mais"},ujs_confirm:{title:"Confirmar",ok:"OK",cancel:"Cancelar"},unsaved:{message:"Sair desta p\xe1gina far\xe1 com que as informa\xe7\xf5es que n\xe3o estiverem salvas sejam perdidas."},notifications:{success:{create:"%{model} Criado",destroy:"Aplica\xe7\xe3o revogada com sucesso",update:"%{model} Editado",title:"Sucesso",changed_to_production:"O seu ambiente foi alterado para Produ\xe7\xe3o com sucesso.",bulk_destroy:{one:"%{model} Deletado",other:"%{model} Deletados",zero:"Nenhum %{model} foi deletedo"},invite:"A message has been sent to your Sage One Accountant. You'll receive a message when they have accepted your invitation.",withdraw:"You have successfully removed your accountant. A message has been sent to the accountant.",accept_invitation:"You have accepted an invite from a client to be their Sage One Accountant.  We have sent the client a message in Sage One"},error:{title:"Erro",changed_to_production:"N\xe3o foi poss\xedvel alterar o seu ambiente para Produ\xe7\xe3o."},failures:{existing_accountant:"You already have an active accountant. Before you can accept an invitation from another accountant, you must go to Settings, Your subscriptions to disconnect your current accountant.",accountant_access_denied:"Voc\xea n\xe3o est\xe1 autorizado a acessar a conta deste cliente"}},dialog:{titles:{"new":"Novo %{model}",edit:"Editar %{model}",copy:"Copiar %{model}",view:"Ver %{model}"}},confirm:{titles:{"delete":"Revogar acesso a aplica\xe7\xe3o?",bulk_destroy:{one:"Deletar %{model}?",other:"Deletar %{model}s?"}},messages:{"delete":"Voc\xea tem certeza que quer revogar acesso a aplica\xe7\xe3o?",switch_to_production_disclaimer:"Todas as Notas Fiscais ser\xe3o destru\xeddas. Esta opera\xe7\xe3o \xe9 irrevers\xedvel!",bulk_destroy:{one:"Are you sure you wish to delete this %{model}?",other:"Are you sure you wish to delete these %{model}s?"}}},grid:{titles:{_actions:"",user_email:"E-mail",business_telephone:"Telefone",user_last_logged_in:"\xdaltimo Login",services:"Servi\xe7os",subscribed_service_names:"Servi\xe7os",invite_status:"Status do Convite",invite_created_at:"Data do Convite",updated_at:"Atualizado em",note:"Nota",business_name:"Nome",name:"Nome",homepage_url:"Homepage"},config:{title:"Configure Columns",link:"Configure Columns",reset:"Reset"}},chart:{actions:{reset:"Reset zoom"}},label:{of:" of ",selected:" selected",start_date:"Start date",end_date:"End date",required:{javascript:"*"}},recurrence:{link:{"new":"Repeat",edit:"Edit recurrence",stop:"Stop recurrence"},dialog:{title:{"new":"Recurring %{resource}"}},days:"Days",weeks:"Weeks",months:"Months"},dropdownlist:{no_results:'No results match "%{term}"'},textarea:{limit:{prefix:"Voc\xea usou ",middle:" de ",suffix:" caracteres",remaining:{one:" caracter sobrando",other:" caracteres sobrando"}}},demo_business:{action_prohibited:"A\xe7\xe3o n\xe3o permitida para empresas de demonstra\xe7\xe3o.",button:"Comece a trabalhar com a sua pr\xf3pria empresa"},third_parties:{settings:{title:"Controle de acesso de aplica\xe7\xf5es de terceiros"},messages:{not_supported:"Ainda n\xe3o disponibilizamos acessos de softwares terceiros."},confirm:{titles:{"delete":"Revogar o acesso da aplica\xe7\xe3o?"},messages:{"delete":"Voc\xea tem certeza que deseja revogar o acesso da aplica\xe7\xe3o?"}},notifications:{success:{destroy:"Aplica\xe7\xe3o revogada com sucesso"}}},change_password:"Mudar Password",billing:{show:{in_trial:"Ainda tem %{days} de Trial do Sage One.",not_in_trial:"O seu per\xedodo de Trial terminou.",active_payment_method:"Active aqui o seu m\xe9todo de pagamento.",change_subscription:"Encontra-se subscrito \xe0 vers\xe3o %{service_name}. Se n\xe3o pretender esta vers\xe3o v\xe1 \xe0s <a href='%{url}'>Defini\xe7\xf5es de Servi\xe7o</a> e altere o seu servi\xe7o."}},client_application:{messages:{not_supported:"Ainda n\xe3o disponibilizamos acessos de softwares terceiros."},confirm:{titles:{"delete":"Revogar o acesso da aplica\xe7\xe3o?"},messages:{"delete":"Voc\xea tem certeza que deseja revogar o acesso da aplica\xe7\xe3o?"}},notifications:{success:{destroy:"Aplica\xe7\xe3o revogada com sucesso"}}},settings:{user:{pod:{title:"Defini\xe7\xf5es de Utilizador"}},user_management:{pod:{title:"Configura\xe7\xf5es avan\xe7adas"}},accounts:{title:"Sage One Factura\xe7\xe3o",description:"Esta \xe1rea serve para configurar os par\xe2metros financeiros e de factura\xe7\xe3o do Sage One.",financial:{title:"Dados financeiros"},invoice:{title:"Prefer\xeancias de factura\xe7\xe3o"}},services:{wizard:{summary_help:"Por favor reveja as altera\xe7\xf5es do seu servi\xe7o, incluindo os valores mensais. Finalize o processo se tudo estiver bem, se n\xe3o volte atr\xe1s para modificar.",selection_empty:"Por favor ligue 707 782 405 para cancelar a sua subscri\xe7\xe3o.",success:"Subscri\xe7\xf5es alteradas com sucesso.",cannot_unsubscribe_services:"N\xe3o pode remover as subscri\xe7\xf5es seleccionadas."}},billings:{title:"Defini\xe7\xf5es de Pagamento",business_missing_data:{text:"<p>Ainda n\xe3o actualizou os seus dados de neg\xf3cio. Por favor <a href='%{url}'>clique aqui</a> e preencha o formul\xe1rio para come\xe7ar a facturar.</p>"},email_not_verified:{text:"<p>Ainda n\xe3o validou o seu e-mail. Active a sua conta no link que lhe envi\xe1mos no e-mail.</p>"},show:{active_direct_debit:"Activar D\xe9bito Directo",confirm_subscription:{title:"Confirme o seu pedido",text:"Confirma o seu pedido de activa\xe7\xe3o de pagamento?<br />Tem depois 3 dias \xfateis para nos enviar a ADD (Autoriza\xe7\xe3o D\xe9bito Directo) que est\xe1 dispon\xedvel logo ap\xf3s este passo para download.",confirm:"Confirmo",cancel:"Cancelar"},direct_debit:{text:"<p>O Sage One est\xe1 activo! <strong>Tem agora 3 dias \xfateis</strong> para nos enviar a ADD (Autoriza\xe7\xe3o D\xe9bito Directo).</p> <p>Pedimos que envie, por correio, o formul\xe1rio original, assim como c\xf3pia do BI/Cart\xe3o Cidad\xe3o e comprovativo de conta banc\xe1ria. (Morada no formul\xe1rio)</p> <p>Fa\xe7a o Download do ADD <a href='%{url}'>aqui</a>.</p> <p>Se tiver alguma d\xfavida, envie-nos um e-mail para <a href='mailto:suporte.sageone.pt@sage.com'><strong>suporte.sageone.pt@sage.com</strong></a> ou ligue-nos atrav\xe9s da linha de suporte <a class='tel' href='tel:+351707782405'><strong>707&nbsp;782&nbsp;405</strong></a>.</p>"},bank_transfer:{text:"<p>O Sage One est\xe1 activo! Ter\xe1 que efectuar transfer\xeancia nos <strong>pr\xf3ximos 3 dias \xfateis</strong>, para os seguintes dados:.</p> <p><ul> <li>Banco Santander Totta</li> <li>NIB: 0018 000326186056020 25</li> </ul></p> <p>Envie-nos o comprovativo de transfer\xeancia para <a href='mailto:suporte.sageone.pt@sage.com'><strong>suporte.sageone.pt@sage.com</strong></a>.</p> <p>Se tiver alguma d\xfavida, envie-nos um e-mail para <a href='mailto:suporte.sageone.pt@sage.com'><strong>suporte.sageone.pt@sage.com</strong></a> ou ligue-nos atrav\xe9s da linha de suporte <a class='tel' href='tel:+351707782405'><strong>707&nbsp;782&nbsp;405</strong></a>.</p>"}}}},error:{notifications:null,success:{destroy:"Aplica\xe7\xe3o revogada"},messages:{no_services:"Selecione pelo menos um servi\xe7o"}},sop_settings:{services:{service_detail:{subscription_cost_summary:{nfe_specific_description:"Voc\xea tem acesso ao SageOne gratuitamente at\xe9 31/12/2015. <br> Aproveite e emita quantas notas quiser!"}},show:{invite_accountant:"Invite Accountant",invite_accountant_ok:"A message has been sent to your Sage One Accountant. You'll receive a message when they have accepted your invitation.",withdraw_accountant:"Withdraw Accountant",cancel_accountant:"Cancel Accountant",delete_accountant_ok:"You have successfully removed your accountant. A message has been sent to the accountant.",already_linked:"That accountant is already linked to your account",create_error:"There has been an unexpected error while trying to link the accountant",are_you_sure:"Are you sure you want to remove this accountant?",text_cancel_accountant:"%{accountant_name} is currently your Sage One Accountant. You can remove their access as your Sage One Accountant here should you want to.",text_invite_accountant:"Working with your Sage One Accountant will help you get the most out of Sage One, from their Accountant Edition they can view your information in real time.",text_withdraw_accountant:"You have invited %{accountant_name} to be your Sage One Accountant. They have not yet accepted your request and you can withdraw your invitation here."}}},date:{abbr_day_names:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],abbr_month_names:[null,"Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_names:["Domingo","Segunda","Ter\xe7a","Quarta","Quinta","Sexta","S\xe1bado"],formats:{"default":"%d/%m/%Y","long":"%d de %B de %Y","short":"%d de %B",javascript:"dd/mm/yyyy"},month_names:[null,"Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],order:["day","month","year"]},datetime:{distance_in_words:{about_x_hours:{one:"aproximadamente 1 hora",other:"aproximadamente %{count} horas"},about_x_months:{one:"aproximadamente 1 m\xeas",other:"aproximadamente %{count} meses"},about_x_years:{one:"aproximadamente 1 ano",other:"aproximadamente %{count} anos"},almost_x_years:{one:"quase 1 ano",other:"quase %{count} anos"},half_a_minute:"meio minuto",less_than_x_minutes:{one:"menos de um minuto",other:"menos de %{count} minutos"},less_than_x_seconds:{one:"menos de 1 segundo",other:"menos de %{count} segundos"},over_x_years:{one:"mais de 1 ano",other:"mais de %{count} anos"},x_days:{one:"1 dia",other:"%{count} dias"},x_minutes:{one:"1 minuto",other:"%{count} minutos"},x_months:{one:"1 m\xeas",other:"%{count} meses"},x_seconds:{one:"1 segundo",other:"%{count} segundos"}},prompts:{day:"Dia",hour:"Hora",minute:"Minuto",month:"M\xeas",second:"Segundo",year:"Ano"}},number:{currency:{format:{delimiter:",",format:"%u %n",negative_format:"-%u %n",precision:2,separator:".",significant:!1,strip_insignificant_zeros:!1,unit:"R$"}},format:{delimiter:",",precision:2,separator:".",significant:!1,strip_insignificant_zeros:!1},human:{decimal_units:{format:"%n %u",units:{billion:{one:"bilh\xe3o",other:"bilh\xf5es"},million:{one:"milh\xe3o",other:"milh\xf5es"},quadrillion:{one:"quatrilh\xe3o",other:"quatrilh\xf5es"},thousand:"mil",trillion:{one:"trilh\xe3o",other:"trilh\xf5es"},unit:""}},format:{delimiter:".",precision:2,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},gb:"GB",kb:"KB",mb:"MB",tb:"TB"}}},percentage:{format:{delimiter:"."}},precision:{format:{delimiter:"."}}},sop_authentication:{accept:{direct:"Sage ID"},activation:{title:"Ativa\xe7\xe3o do Sage One",description:"Conclua a ativa\xe7\xe3o da sua conta.",provider_selection:"Selecione uma das seguintes formas de registo."},sessions:{title:"Acessar"},signup:{signup:"Crie agora",title:"Primeiro Acesso ao Sage One",providers:{google:"Registrar com Google"},direct:"Criar minha conta no Sage One",already_registered:"J\xe1 est\xe1 registrado?",terms_and_conditions:{acceptance:"Li e aceito os <a href='http://www.sageone.com.br/termo-e-condicoes-de-uso' target='_blank'>termos e condi\xe7\xf5es de uso</a>"},"continue":"Continuar"},signin:{title:"Acessar",already_registered:"J\xe1 est\xe1 registrado?",signin:"J\xe1 sou cliente. Acessar o Sage One",not_registered:"Ainda n\xe3o tem uma conta?",google:{existing:"Entre com a sua conta do Sage One que n\xf3s faremos o v\xednculo \xe0 sua conta do Google.",link:"Este acesso permitir\xe1 ligar as suas credenciais, j\xe1 existentes no Sage One \xe0 sua conta Google."},providers:{developer:"Desenvolvedor",sageid:"Acessar pelo Sage ID",google_html:'<i class="icon"></i>Google',google:"Google"}},blocked:{message:"Sua conta est\xe1 bloqueada"},sso_activate:{success:{header:"Email confirmado",title:"Obrigado por confirmar o seu endere\xe7o de e-mail",message_html:"<p>Se endere\xe7o de email est\xe1 confirmado e voc\xea pode continuar a usar o Sage One sem problemas.</p>",button:"Continuar"},expired:{header:"Falha ao confirmar o seu Email",title:"N\xe3o conseguimos confirmar o seu email.",message_html:"<p>Ocorreu um problema quando tentamos confirmar o seu endere\xe7o de email. O Link no email pode estar expirado ou, talvez, voc\xea j\xe1 tenha uma conta no SageOne.</p><p>Se n\xe3o conseguir usar a sua conta do Sage One, entre em contato pelo email <strong>suporte.sageone.br@sage.com</strong></p>"},failure:{header:"Falha ao confirmar o seu Email",title:"N\xe3o conseguimos confirmar o seu email.",message_html:"<p>Se voc\xea n\xe3o consegue acessar a sua conta do Sage One entre em contato pelo email <strong>suporte.sageone.br@sage.com</strong>",button:"Continuar"}},sso_password_reset:{success:{header:"Confirme a altera\xe7\xe3o de sua senha",title:"Sua senha ainda n\xe3o foi alterada.",message_html:"<p>Em instantes voc\xea receber\xe1 um email de confirma\xe7\xe3o.</p><p>Para continuar usando esta sua nova senha, clique no link de ativa\xe7\xe3o no email que enviamos.</p><p>Se tiver qualquer d\xfavida, entre en contato pelo email <strong><a href='mailto:suporte.sageone.br@sage.com'>suporte.sageone.br@sage.com</a></strong>",button:"Continuar"},reset_expired:{header:"Falha ao confirmar sua altera\xe7\xe3o de senha",title:"N\xe3o foi poss\xedvel confirmar a altera\xe7\xe3o da sua senha",message_html:"<p>Ocorreu um problema quando tentamos confirmar a altera\xe7\xe3o de sua senha. O link no email pode estar expirado ou, talvez, voc\xea j\xe1 tenha confirmado a sua altera\xe7\xe3o de senha.</p><p>Se voc\xea n\xe3o consegue usar a sua conta do Sage One, entre em contato pelo email <strong><a href='mailto:suporte.sageone.br@sage.com'>suporte.sageone.br@sage.com</a></strong>"},reset_success:{header:"Sua senha foi alterada com sucesso",title:"Obrigado por alterar a sua senha.",message_html:"<p>Agora voc\xea pode continuar a utilizar o Sage One com a sua nova senha</p><p>Se tiver alguma d\xfavida, entre em contato pelo email <strong><a href='mailto:suporte.sageone.br@sage.com'>suporte.sageone.br@sage.com</a></strong>",button:"Continuar"}}},user_admin:{accountant_list:{title:"Contadores"},conversion_to_accountant_failed:"Conversion to accountant failed",user_actions:{convert_to_accountant:{button:"Converter usu\xe1rio para contador",prompt:"You are about to convert a user to an Accountant"},chargeable_date:"%{name}: Chargeable Date",title:"A\xe7\xf5es",login:{button:"Logar como o Usu\xe1rio",prompt:"Toda a sua atividade no SageOne ser\xe1 registrada para nos ajudar a saber quem fez o que. Os dados do usu\xe1rio s\xe3o confidenciais. Voc\xea deve ter a permiss\xe3o dele para logar. Voc\xea tem a permiss\xe3o do usu\xe1rio para logar na conta dele?"},block:{button:"Bloquear Acesso"}},user_cannot_be_converted_to_accountant:"This user is already registered but the user does not own a business. Please ask the user to complete signup for Trial and then convert the user to an Accountant.",user_converted_to_accountant:"User successfully converted to an Accountant",pending_activations_list:{title:"Ativa\xe7\xf5es Pendentes"},is_owner:"Voc\xea est\xe1 visualizando o Usu\xe1rio da Empresa",user_details:{title:"Detalhes do Usu\xe1rio",contact_details:"Detalhes de Contato",business_summary:"Resumo de Neg\xf3cio"},service_actions:{title:"A\xe7\xf5es de Serv\xedco"},user_audit:{title:"Auditoria"}},business_membership_admin:{customer_list:{title:"Clientes"}}}},$(function(){""!=$("#signup_user_email").val()&&$(".sageid-toggle").click()});